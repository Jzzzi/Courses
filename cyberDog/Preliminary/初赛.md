# 初赛

## 连接方式

设备号： 4-1 NC077 4-2 YN275
1
使用vscode remote-ssh，机器狗上已安装code server

ip地址：4-1 mi@10.0.0.189 4-2 mi@10.0.0.245 密码均为123（之后考虑换一下密码）

## 命令行控制

坐/立 使用service （CyberDog_4_1 或者 CyberDog_4_2）

ros2 service call /CyberDog_4_1/motion_result_cmd protocol/srv/MotionResultCmd "motion_id: 111"

走 使用topic

ros2 topic pub /CyberDog_4_1/motion_servo_cmd protocol/msg/MotionServoCmd "{motion_id303, vel_des: [0.0, 0.0, 0.0], step_height: [0.05, 0.05]}"

监听超声信号 使用topic

ros2 topic echo /CyberDog_4_1/ultrasonic_payload

参数的含义：见[开发者文档](https://miroboticslab.github.io/blogs/#/)

## ros2 pkg 控制

```
~
  - preliminary
    - src
      - avoidance
        - avoidance
          - stand.py
          - stand_sit.py
          - walk.py
          - sensor.py
        - setup.py
        - ...
    - log
    - ...
```

### 运行方法

cd ~/preliminary

colcon build （这时候会报一个warning，pkg也没有编译成功）

source ~/preliminary/install/setup.bash （这时候会报一个 not found，不用管）

colcon build （这次build之后就出现pkg了）

ros2 run avoidance stand （stand/stand_sit/walk 是.py文件的名称）

### 如何加新的功能

建立新的xx.py，在main中实现功能

在setup.py.'console_scripts' 中添加一行'xx = avoidance.xx:main' （猜测也可以不在main中实现，然后把:main换成其他函数名称）
