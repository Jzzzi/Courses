/*! JoinQuant - 1650006309000 */!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="../",n(n.s=5)}([function(e,t){e.exports=jQuery},function(e,t){e.exports=index},function(e,t,n){var o,r,i,a;
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
a=function(e){var t=Object.prototype.toString,n=Array.isArray||function(e){return"[object Array]"===t.call(e)};function o(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function i(e,t){return null!=e&&"object"==typeof e&&t in e}var a=RegExp.prototype.test,s=/\S/;function c(e){return!function(e,t){return a.call(e,t)}(s,e)}var d={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},l=/\s*/,u=/\s+/,p=/\s*=/,f=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function g(e){this.string=e,this.tail=e,this.pos=0}function b(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function v(){this.cache={}}g.prototype.eos=function(){return""===this.tail},g.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var n=t[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},g.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=t.length,t},b.prototype.push=function(e){return new b(e,this)},b.prototype.lookup=function(e){var t,n=this.cache;if(n.hasOwnProperty(e))t=n[e];else{for(var r,a,s=this,c=!1;s;){if(e.indexOf(".")>0)for(t=s.view,r=e.split("."),a=0;null!=t&&a<r.length;)a===r.length-1&&(c=i(t,r[a])),t=t[r[a++]];else t=s.view[e],c=i(s.view,e);if(c)break;s=s.parent}n[e]=t}return o(t)&&(t=t.call(this.view)),t},v.prototype.clearCache=function(){this.cache={}},v.prototype.parse=function(t,o){var i=this.cache,a=i[t];return null==a&&(a=i[t]=function(t,o){if(!t)return[];var i,a,s,d=[],b=[],v=[],_=!1,y=!1;function m(){if(_&&!y)for(;v.length;)delete b[v.pop()];else v=[];_=!1,y=!1}function k(e){if("string"==typeof e&&(e=e.split(u,2)),!n(e)||2!==e.length)throw new Error("Invalid tags: "+e);i=new RegExp(r(e[0])+"\\s*"),a=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}k(o||e.tags);for(var w,C,x,S,T,I,j=new g(t);!j.eos();){if(w=j.pos,x=j.scanUntil(i))for(var E=0,O=x.length;E<O;++E)c(S=x.charAt(E))?v.push(b.length):y=!0,b.push(["text",S,w,w+1]),w+=1,"\n"===S&&m();if(!j.scan(i))break;if(_=!0,C=j.scan(h)||"name",j.scan(l),"="===C?(x=j.scanUntil(p),j.scan(p),j.scanUntil(a)):"{"===C?(x=j.scanUntil(s),j.scan(f),j.scanUntil(a),C="&"):x=j.scanUntil(a),!j.scan(a))throw new Error("Unclosed tag at "+j.pos);if(T=[C,x,w,j.pos],b.push(T),"#"===C||"^"===C)d.push(T);else if("/"===C){if(!(I=d.pop()))throw new Error('Unopened section "'+x+'" at '+w);if(I[1]!==x)throw new Error('Unclosed section "'+I[1]+'" at '+w)}else"name"===C||"{"===C||"&"===C?y=!0:"="===C&&k(x)}if(I=d.pop())throw new Error('Unclosed section "'+I[1]+'" at '+j.pos);return function(e){for(var t,n=[],o=n,r=[],i=0,a=e.length;i<a;++i)switch((t=e[i])[0]){case"#":case"^":o.push(t),r.push(t),o=t[4]=[];break;case"/":r.pop()[5]=t[2],o=r.length>0?r[r.length-1][4]:n;break;default:o.push(t)}return n}(function(e){for(var t,n,o=[],r=0,i=e.length;r<i;++r)(t=e[r])&&("text"===t[0]&&n&&"text"===n[0]?(n[1]+=t[1],n[3]=t[3]):(o.push(t),n=t));return o}(b))}(t,o)),a},v.prototype.render=function(e,t,n){var o=this.parse(e),r=t instanceof b?t:new b(t);return this.renderTokens(o,r,n,e)},v.prototype.renderTokens=function(e,t,n,o){for(var r,i,a,s="",c=0,d=e.length;c<d;++c)a=void 0,"#"===(i=(r=e[c])[0])?a=this.renderSection(r,t,n,o):"^"===i?a=this.renderInverted(r,t,n,o):">"===i?a=this.renderPartial(r,t,n,o):"&"===i?a=this.unescapedValue(r,t):"name"===i?a=this.escapedValue(r,t):"text"===i&&(a=this.rawValue(r)),void 0!==a&&(s+=a);return s},v.prototype.renderSection=function(e,t,r,i){var a=this,s="",c=t.lookup(e[1]);if(c){if(n(c))for(var d=0,l=c.length;d<l;++d)s+=this.renderTokens(e[4],t.push(c[d]),r,i);else if("object"==typeof c||"string"==typeof c||"number"==typeof c)s+=this.renderTokens(e[4],t.push(c),r,i);else if(o(c)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(c=c.call(t.view,i.slice(e[3],e[5]),function(e){return a.render(e,t,r)}))&&(s+=c)}else s+=this.renderTokens(e[4],t,r,i);return s}},v.prototype.renderInverted=function(e,t,o,r){var i=t.lookup(e[1]);if(!i||n(i)&&0===i.length)return this.renderTokens(e[4],t,o,r)},v.prototype.renderPartial=function(e,t,n){if(n){var r=o(n)?n(e[1]):n[e[1]];return null!=r?this.renderTokens(this.parse(r),t,n,r):void 0}},v.prototype.unescapedValue=function(e,t){var n=t.lookup(e[1]);if(null!=n)return n},v.prototype.escapedValue=function(t,n){var o=n.lookup(t[1]);if(null!=o)return e.escape(o)},v.prototype.rawValue=function(e){return e[1]},e.name="mustache.js",e.version="2.3.2",e.tags=["{{","}}"];var _=new v;return e.clearCache=function(){return _.clearCache()},e.parse=function(e,t){return _.parse(e,t)},e.render=function(e,t,o){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(r=e)?"array":typeof r)+'" was given as the first argument for mustache#render(template, view, partials)');var r;return _.render(e,t,o)},e.to_html=function(t,n,r,i){var a=e.render(t,n,r);if(!o(i))return a;i(a)},e.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,function(e){return d[e]})},e.Scanner=g,e.Context=b,e.Writer=v,e},t&&"string"!=typeof t.nodeName?a(t):(r=[t],void 0===(i="function"==typeof(o=a)?o.apply(t,r):o)||(e.exports=i))},,,function(e,t,n){"use strict";var o=function(e,t){n(6),i||(e=e||window);var o=n(0),r=n(1)(),i=r.util.routeParam().isMobile(),a=o(t),s=r.util.http(),c=r.util.render(),d=r.component.dialog,l=n(2),u=n(7),p=n(8),f={cdnPath:o(".js-cdn-path").val(),isLogin:!1,runningShow:!0,doneShow:!1,stopInitRecord:!1,currentHtml:!0,hideProgress:!1},h={statistics:"/algorithm/index/statistics",backtestId:"/algorithm/index/cancel",analyBacktestId:"/algorithm/backtest/analyCancel",factorAnalyId:"/algorithm/factorAnaly/cancel",url:{backtest:"/algorithm/backtest/detail?backtestId=",guiyin:"/algorithm/backtest/attributionAnaly?backtestId=",yinzi:"/algorithm/factorAnaly/detail?factorAnalyId="}},g=function(){document[f.hiddenProperty]?f.currentHtml=!1:(f.currentHtml=!0,v())},b=function(e){o.ajax({url:"/community/post/userInfo",async:!1,success:function(t){var n=(t=JSON.parse(t)).data;"00000"===t.code&&(e&&"function"==typeof e&&e(n),Array.isArray(t.data)||(f.isLogin=!0))},error:function(e){console.log(e)}})},v=function e(){if(f.isLogin&&!i){if(!f.currentHtml||f.hideProgress)return!1;s.promise(h.statistics).done(function(e){var t=e.data,n=t.duration;for(var o in t.running.length?a.find(".backtotop__progress-count").removeClass("hidden").html(t.running.length):a.find(".backtotop__progress-count").addClass("hidden").html(""),t.runningShow=f.runningShow,t.doneShow=f.doneShow,t.isOver=n.used>n.free,t.running=t.running,t)t[o].length&&t[o].map(function(e,t){"0"===e.type?(e.typeId="backtestId",e.typeName="回测",e.typeClass="huice",e.href=h.url.backtest+e.id):"1"===e.type?(e.typeName="归因",e.typeClass="guiyin",e.typeId="analyBacktestId",e.href=h.url.guiyin+e.id):"2"===e.type&&(e.typeId="factorAnalyId",e.typeName="因子",e.typeClass="yinzi",e.href=h.url.yinzi+e.id),"2"===e.status?(e.statusClass="success",e.progressbarClass="progress-bar-success"):"3"===e.status||"4"===e.status?(e.statusClass="fail",e.progressbarClass="progress-bar-danger"):(e.progressbarClass="progress-bar-success",e.statusClass="cancel")});_(),c(a.find(".backtotop__record-container"),p,t),y()})}f.currentHtml&&(f.stopInitRecord?f.initRecordTime=setTimeout(e,3e3):f.initRecordTime=setTimeout(e,3e4))},_=function(){f.scrollT=o(".backtotop__record-body").scrollTop()},y=function(){o(".backtotop__record-body").scrollTop(f.scrollT)},m=function(){var t=o(e).scrollTop();i?o("#leftsead").addClass("hidden"):t>=200?o("#leftsead").find(".backtotop__scroll").removeClass("hidden"):o("#leftsead").find(".backtotop__scroll").addClass("hidden")},k=function(t){t=t||e.event;var n=o(t.target);(n.hasClass("backtotop__progress")||n.hasClass("backtotop__record-head__close"))&&(o(".backtotop__record-container").toggleClass("hidden"),f.stopInitRecord=!f.stopInitRecord,clearTimeout(f.initRecordTime),v())},w=function(e){e=e||window.event;var t=o(e.target);t.hasClass("backtotop__progress")||t.parents(".backtotop__progress").get(0)||o(".backtotop__record-container").hasClass("hidden")||(o(".backtotop__record-container").addClass("hidden"),f.stopInitRecord=!f.stopInitRecord,clearTimeout(f.initRecordTime),v())},C=function(){var e=o(".js-record-tab"),t=o(".js-record"),n=o(this),r=o(n.attr("href"));e.removeClass("active"),t.removeClass("active"),n.addClass("active"),r.addClass("active"),"#done"===n.attr("href")?(f.doneShow=!0,f.runningShow=!1):(f.doneShow=!1,f.runningShow=!0)},x=function(){var e=o(this),t=e.attr("data-type"),n=e.attr("data-id"),r={};if(r[t]=n,e.hasClass("disabled"))return!1;e.addClass("disabled"),s.promise(h[t],r,"POST").done(function(e){clearTimeout(f.initRecordTime),v()},function(e){d().createDialog({title:"提示",dialogCss:"backtotop__dialog",domHtml:e.msg,submitBtnText:"确定",cancelBtnCss:"hidden"})})},S=function(){"off"!=scroll&&o("html, body").animate({scrollTop:0},300)},T=function(){b(function(t){if(!e.ysf)return BootstrapDialog.alert("打开客服对话框失败，请刷新页面后重试");t.uniqueKey?e.ysf("config",{uid:t.uniqueKey,name:t.alias||"",level:t.level||0,success:function(){o.get("/vip/index/setLabel"),e.ysf("open")},error:function(t){console.error("七鱼配置失败",t),e.ysf("open")}}):e.ysf("open")})},I=function(){var t,n;t="hidden"in document?"hidden":"webkitHidden"in document?"webkitHidden":"mozHidden"in document?"mozHidden":null,n=t.replace(/hidden/i,"visibilitychange"),f.hiddenProperty=t,f.visibilityChangeEvent=n,b(),["/algorithm/index/edit","/factor/factor/edit","/view/algorithm/fundraising","/algorithm/backtest/summary","/default/research/detail","/help/data/tableList","/help/data/dataTree"].forEach(function(t){-1!==e.location.href.indexOf(t)&&(f.qiyukfHidden=!0)}),["/algorithm/backtest/summary","/default/research/detail","/algorithm/index/edit","/factor/factor/edit","algorithm/live/liveUrlShareIndex"].map(function(t,n){e.location.href.indexOf(t)>=0&&(f.hideProgress=!0)}),f.isLogin&&!f.hideProgress||(f.hidden=!0),u=l.render(u,f),a.find("#leftsead ul").prepend(u),v(),m()};return{init:function(){I(),a.delegate(".backtotop__progress","click",k),a.delegate(".kk_body","click",w),a.delegate(".js-record-tab","click",C),a.delegate(".running__right.cancel","click",x),a.delegate("#top_btn","click",S),a.delegate(".qiyukf__entry","click",T),o(e).scroll(m),document.addEventListener(f.visibilityChangeEvent,g)}}};o(window,document.body).init(),e.exports=o,setTimeout(function(){var e=function(e){t.style.right="auto",t.style.bottom="auto",t.style.left=e.clientX-n+"px",t.style.top=e.clientY-o+"px"},t=document.getElementById("leftsead"),n=0,o=0;t&&(t.draggable=!0,t.ondragstart=function(e){e.preventDefault()},t.onmousedown=function(r){var i=t.getBoundingClientRect(),a=i.left,s=i.top;n=r.clientX-a,o=r.clientY-s,document.addEventListener("mousemove",e)},t.onmouseup=function(){document.removeEventListener("mousemove",e)})},3e3)},function(e,t,n){},function(e,t){e.exports='<li class="qiyukf__entry backtotop-popover {{#qiyukfHidden}}hidden{{/qiyukfHidden}}"> <div class="popover-content" style="width:85px;margin-left:-95px;margin-top:5px">在线客服</div> </li> <li class="backtotop__progress {{#hidden}}hidden{{/hidden}}"> <span class="backtotop__progress-count hidden"></span> <div class="backtotop__record-container hidden"></div> </li> <li class="newUser backtotop__newUser hidden backtotop__scroll"> <a href="/post/24debe6786302edc2febfc09b1312a6c" target="_blank"></a> </li> <li class="toTop backtotop__toTop hidden backtotop__scroll" id="top_btn"></li> '},function(e,t){e.exports='<div class="backtotop__record"> <div class="backtotop__record-head clear"> <div class="backtotop__record-head__running backtotop__record-head__tab js-record-tab {{#runningShow}}active{{/runningShow}}" href="#running"> 进行中</div> <div class="backtotop__record-head__done backtotop__record-head__tab js-record-tab {{#doneShow}}active{{/doneShow}}" href="#done">已完成</div> <div class="backtotop__record-head__close"></div> </div> <div class="backtotop__record-body"> <div id="running" class="backtotop__record-body__running {{#runningShow}}active{{/runningShow}} js-record"> <ul> {{#running}} <li class="clear running__li"> <div class="running__left backtotop__body-left"> <div class="backtotop__body-name-container clear"> <span class="backtotop__body-type {{typeClass}} huice">{{typeName}}</span> <div class="backtotop__body-name-row"> <p> <a href="{{href}}" class="backtotop__body-name">{{name}}</a> <span class="backtotop__body-run-used-time">{{usedSec}}</span> </p> </div> <span class="backtotop__body-runningCircle"></span> </div> </div> <div class="running__right backtotop__body-right {{statusClass}}" data-type="{{typeId}}" data-id="{{id}}"></div> </li> {{/running}} {{^running}} <li class="no-data">没有发现项目～</li> {{/running}} </ul> </div> <div id="done" class="backtotop__record-body__done {{#doneShow}}active{{/doneShow}} js-record"> <ul> {{#done}} <li class="clear"> <div class="done__left backtotop__body-left"> <div class="backtotop__body-name-container clear"> <span class="backtotop__body-type {{typeClass}}">{{typeName}}</span> <div class="backtotop__body-name-row"> <p> <a href="{{href}}" class="backtotop__body-name">{{name}}</a> <span class="backtotop__body-run-used-time">{{usedSec}}</span> </p> </div> </div> </div> <div class="done__right backtotop__body-right {{statusClass}}"></div> </li> {{/done}} {{^done}} <li class="no-data">没有发现项目～</li> {{/done}} </ul> </div> </div> <p class="backtotop__record-footer {{#isOver}}is-over{{/isOver}}"> 今日回测时长：{{duration.used}}/{{duration.free}}分钟 <a href="/view/vip/charge" target="_blank">延长免费回测时间</a> </p> </div>'}]);