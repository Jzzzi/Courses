/*! JoinQuant - 1617273085000 */!function(e){var o={};function i(t){if(o[t])return o[t].exports;var a=o[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=o,i.d=function(e,o,t){i.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,o){if(1&o&&(e=i(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var a in e)i.d(t,a,function(o){return e[o]}.bind(null,a));return t},i.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(o,"a",o),o},i.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},i.p="../",i(i.s=11)}([function(e,o){e.exports=jQuery},function(e,o){e.exports=index},function(e,o){e.exports=' <div class="jq-global__dialog js-jq-global__dialog"> <div class="jq__main"> <div class="login_logo"> </div> <ul class="tab-nav"> <li class="active">注册</li> <li>登录</li> </ul> <ul class="jq-global__tab-content"> <li> <div class="register-apply"> <form> <input type="text" placeholder="手机号" class="phone register-phone"/> <div class="phone-tip register-valid-tip">输入的手机号码无效，请输入正确的手机号码</div> <div class="registered-tip phone-tip">该手机已经注册，<a class="goto-login">直接登录</a></div> <div class="phone-tip register-img-tip">请输入正确的图形验证码</div> <div class="input-wrap"> <input type="text" class="registerValidCode" placeholder="请输入验证码"/> <span class="getRegisterCode">获取短信验证码</span> </div> <div class="phone-tip register-pass-tip">请输入正确的短信验证码</div> <button type="submit" class="btn-register btn-style">注&nbsp;&nbsp;册</button> <span class="register-tip">注册即同意聚宽<a>服务协议</a>和<a>隐私条款</a></span> </form> </div> <div class="register-message"> <form> <input type="text" placeholder="8~20位密码，包含大小写英文字母和数字" class="set-pwd"/> <span class="phone-tip set-pwd-tip">请输入8-20位密码，包含大小写英文字母和数字</span> <input type="text" placeholder="设置昵称" class="set-nickname"/> <div class="phone-tip set-nickname-tip"> </div> <button type="submit" class="btn-finish btn-style">完&nbsp;&nbsp;成</button> <p class="register-tip top20">注册即同意聚宽<a>服务协议</a>和<a>隐私条款</a></p> </form> </div> <div class="jq-third-login"> <div class="jq-third-login-wechat-text"> <div class="jq-third-login-line"></div> <p> <span> 微信注册 </span> </p> </div> <div class="jq-third-login-wechat"> <div class="jq-third-login-wechat-btn js-jq-login-wechat" data-type="wx"></div> </div> </div> </li> <li> <div class="password-login clear"> <form name="formPwdLogin" class="formPwdLogin"> <input type="text" placeholder="手机号" class="phone pwd-phone" name="CyLoginForm[username]"/> <div class="phone-tip login-pwd-tip">输入的手机号码无效，请输入正确的手机号码</div> <input type="password" class="jq-login__password" placeholder="请输入密码" name="CyLoginForm[pwd]"/> <div class="phone-tip login-tip1"></div> <button class="login-submit btnPwdSubmit">登&nbsp;&nbsp;录</button> <a class="change-login-type to-validate">使用手机验证码登录 </a> <a class="forget-password" href="/user/account/forgetpwd">忘记密码？</a> </form> </div> <div class="valid-login clear"> <form> <input type="text" placeholder="手机号" class="phone valid-phone"/> <span class="phone-tip login-valid-tip">输入的手机号码无效，请输入正确的手机号码</span> <div class="phone-tip login-img-tip">请输入正确的图形验证码</div> <div class="input-wrap"> <input type="text" placeholder="请输入8位验证码" class="loginValidCode"/> <span class="getloginCode">获取短信验证码</span> </div> <div class="phone-tip login-tip1"></div> <span class="phone-tip toManyApply">发送太频繁了，歇一歇再发吧</span> <button class="login-submit btnValidSubmit">登&nbsp;&nbsp;录</button> <a class="change-login-type to-password">使用账号密码登录</a> <a class="forget-password" href="/user/account/forgetpwd">忘记密码？</a> </form> </div> <div class="jq-third-login"> <div class="jq-third-login-wechat-text"> <div class="jq-third-login-line"></div> <p> <span> 微信登录 </span> </p> </div> <div class="jq-third-login-wechat"> <div class="jq-third-login-wechat-btn js-jq-login-wechat" data-type="wx"></div> </div> </div> </li> </ul> </div> </div> '},,,,,,,,,function(module,exports,__webpack_require__){"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof2(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof2(e)},loginDialogComponent=function loginDialogComponent(exports,node){var $,$node,plugin,$scope={},$dialog1,$appDialog,domHtml=__webpack_require__(2),tabItem=!0,$dialog,applyFlag=!0,reg=/^[1](3|4|5|6|7|8|9)\d{9}$/,virtualNumReg=/^[1](3|4|5|6|7|8|9)\d{9}$|^111\d{8}$/,pwdReg=/^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z]).{8,20}$/,dialogFlag=!1,isMobile=function(){for(var e=new Array("Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"),o=!0,i=navigator.userAgent,t=0;t<e.length;t++)if(i.indexOf(e[t])>0){o=!1;break}return!o},api={followList:"/user/account/followingList",followerList:"/user/account/followerList",followUser:"/community/follow/submitFollow",unFollowUser:"/community/follow/cancelFollow",buildUrl:"/factor/factor/build",redirectUrl:{factorDetailList:"/factor/factorAnaly/analyList?factorId=",factorDetail:"/factor/factorAnaly/detail?factorAnalyId="}},createDialog=function(e){for(var o=function(){$dialog.close()},i=[],t=e.domHtml.split("\n"),a=0;a<t.length;a++)i.push(t[a].replace(/^\s+|\s+$/gm,""));return $dialog=BootstrapDialog.show({title:e.title,message:i.join(""),cssClass:e.dialogCss||"",buttons:[{label:e.cancelBtnText||"取消",cssClass:e.cancelBtnCss||"btn-error",action:e.cancel&&e.cancel(o)||o},{label:e.submitBtnText||"确认提交",cssClass:e.submitBtnCss||"btn-link",action:e.submit&&e.submit(o)||o}],onshown:function(o){o.open(),e.onshown&&e.onshown()}}),e.btnWidth&&$dialog.$modalFooter.find(".btn").width(e.btnWidth),e.width&&($dialog.$modalContent.width(e.width),$dialog.$modalDialog.width(e.width)),e.marginTop&&$dialog.$modalDialog.css({marginTop:e.marginTop}),e.marginLeft&&$dialog.$modalDialog.css({marginLeft:e.marginLeft}),e.height&&($dialog.$modalContent.height(e.height),$dialog.$modalDialog.height(e.height),$dialog.$modalBody.css({"max-height":e.height-50})),e.clearPadding&&$dialog.$modalBody.css({padding:"0px"}),e.isAuto&&$dialog.$modalDialog.css({"margin-left":"auto","margin-right":"auto"}),e.isHideHeader&&$dialog.$modalHeader.hide(),e.isHideFooter&&$dialog.$modalFooter.hide(),$dialog};$scope.curDialog=null,$scope.loginCallback=null,$scope.waitTime=60,$scope.needImageValid=0,$scope.countTime=function(e,o){var i=$(e);i.addClass("msgCount"),i.attr("isCounting","true"),i.text("重新发送("+o+")");var t=setInterval(function(){"true"===$(e).attr("isCounting")&&(o-=1,$(e).text("重新发送("+o+")"),-1==o&&($(e).removeAttr("isCounting"),clearInterval($(e).attr("timeId")),$(e).removeAttr("timeId"),$(e).text("获取短信验证码"),i.removeClass("msgCount")))},1e3);$(e).attr("timeId",t)};var getNewImgCode=function(){$dialog1.find(".valideCode-img").attr("src","/common/verifyCode/valideCode?width=110")},tabLoginContent=function(){var e=$(this).index();$(this).addClass("active").siblings().removeClass("active"),$dialog1.find(".jq-global__tab-content li").eq(e).show().siblings().hide()},toValidLogin=function(){$(".password-login").hide(),$(".valid-login").show()},toPwdLogin=function(){$(".password-login").show(),$(".valid-login").hide()},gotoLoginNow=function(){$(".jq-global__tab-content li").eq(1).show().siblings().hide(),$(".tab-nav li").eq(1).addClass("active").siblings().removeClass("active")},phoneBlur=function(){var e=$(this),o=e.val(),i="CyLoginForm[username]"===e.attr("name")?virtualNumReg:reg;e.parents(".register-apply").find(".registered-tip").hide(),i.test(o)?($(this).removeClass("jq-login__input_error"),$(this).next().hide()):($(this).next().css("dispaly","inlineBlock"),$(this).addClass("jq-login__input_error"),$(this).next().show())},followCallback=function(e,o,i){var t,a=o.data,n=$node.find(".jq-c-follow-group .count").eq(0),l=parseInt(n.text());switch(a){case 1:t="关注",e.addClass("add"),i&&n.text(l-1);break;case 2:t="已关注",e.removeClass("add"),i&&n.text(l+1);break;case 3:t="关注",e.addClass("add"),i&&n.text(l-1);break;case 4:t="互相关注",e.removeClass("add"),i&&n.text(l+1)}e.text(t),e.attr("data-state",a),$scope.toggleFollowUserFlag=!1},getLoginValidCode=function(){if("true"!==$(this).attr("isCounting")&&""!=$(this).timeId){var e=$dialog1.find(".valid-phone").val();reg.test(e)?($dialog1.find(".login-valid-tip").hide(),$dialog1.find(".login-img-tip").hide(),$dialog1.find(".toManyApply").hide(),$scope.phoneData={mob:e},$scope.sendType="login",$scope.validCode($node,window.captcharData).getCaptchar()):$dialog1.find(".login-valid-tip").show()}},passwordBlur=function(){$(this).next().hide()},btnPwdLogin=function(){var e=$dialog1.find(".pwd-phone").val();return("CyLoginForm[username]"===$dialog1.find(".pwd-phone").attr("name")?virtualNumReg:reg).test(e)?($.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:"/user/login/doLogin",data:$dialog1.find(".formPwdLogin").serialize(),success:function(e){if("00000"===e.code)exports.setCS&&exports.setCS(e.data.user.user,e.data.user.mobile,e.data.user.nickName),$scope.loginCallback($scope.$this),window.loginStatus=!0,$scope.curDialog.close();else{if("10000"===e.code)for(var o in e.error)$(".password-login .login-tip1").text(e.error[o]);else"20000"===e.code?$dialog1.find(".password-login .login-tip1").html(e.msg):$dialog1.find(".password-login .login-tip1").text("输入手机号和密码不匹配");$dialog1.find(".password-login .login-tip1").show()}return!1},error:function(){$dialog1.find(".password-login .login-tip1").text("登录异常")}}),!1):($dialog1.find(".login-pwd-tip").show(),!1)},btnVlidLogin=function(){var e=$dialog1.find(".valid-phone").val();if(!reg.test(e))return $dialog1.find(".login-valid-tip").show(),!1;var o={mob:e,verifyCode:$dialog1.find(".loginValidCode").val()};return $.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:"/user/login/doLogin5",data:o,success:function(e){"00000"===e.code?(exports.setCS&&exports.setCS(e.data.user.user,e.data.user.mobile,e.data.user.nickName),$scope.loginCallback(),window.loginStatus=!0,$scope.curDialog.close()):(e.error&&e.error.verifyCode&&$dialog1.find(".valid-login .login-tip1").text(e.error.verifyCode),e.msg&&$dialog1.find(".valid-login .login-tip1").html(e.msg),$dialog1.find(".valid-login .login-tip1").show())},error:function(){}}),!1},getRegisterValidCode=function(){if("true"!==$(this).attr("isCounting")&&""!=$(this).timeId){var e=$dialog1.find(".register-phone").val();$dialog1.find(".register-img-code").val();if(!reg.test(e))return $dialog1.find(".register-valid-tip").show(),void $dialog1.find(".register-phone").addClass("jq-login__input_error");$dialog1.find(".register-valid-tip").hide(),$dialog1.find(".register-img-tip").hide(),$dialog1.find(".register-pass-tip").hide(),$(this).removeClass("jq-login__input_error"),$scope.phoneData={mob:e},$scope.sendType="register",$scope.validCode($node,window.captcharData).getCaptchar()}},submitValidCode=function(e){var o=$scope.sendType,i="/common/verifyCode/send2?type="+o+"&captcha=slide";if(!$scope.phoneData)return!1;$scope.phoneData.valideCode=e,$.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:i,data:$scope.phoneData,success:function(e){var i="register"===o?".getRegisterCode":".getloginCode";if("00000"===e.code)$scope.countTime(i,$scope.waitTime),"register"===o&&$(".registered-tip").hide();else{var t=e.error,a=$("register"===o?".register-valid-tip":".login-valid-tip"),n="register"===o?".register-pass-tip":".toManyApply";t.mob&&(a.hide(),"register"===o?$(".registered-tip").show():$(".login-img-tip").text(t.mob).show()),t.valideCode&&BootstrapDialog.show({title:"提示",message:t.valideCode}),t.verifyCode&&$(n).text(t.verifyCode).show()}},error:function(){}})},btnRegister1=function(){var e=$dialog1.find(".register-phone").val();if(!reg.test(e))return $dialog1.find(".register-valid-tip").show(),!1;var o=$dialog1.find(".registerValidCode").val();if(0==o.length)return!1;var i={mob:e,verifyCode:o};return $.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:"/user/register/doRegister2",data:i,success:function(e){if("00000"===e.code)$dialog1.find(".register-apply").hide(),$dialog1.find(".register-message").show(),$dialog1.find(".register-pass-tip").hide();else if("10000"===e.code)for(var o in e.error)$dialog1.find(".register-pass-tip").text(e.error[o]).show()},error:function(){}}),!1},showNicknameTip=function(){var e=$dialog1.find(".set-nickname").val(),o="";if(0===e.length||e.length>16)return o=0===e.length?"请填写昵称":"昵称长度不能超过16个字",$dialog1.find(".set-nickname-tip").html(o).show(),!1;$dialog1.find(".set-nickname-tip").hide()},showSetPwdTip=function(){var e=$dialog1.find(".set-pwd").val();if($dialog1.find(".set-pwd-tip").hide(),!pwdReg.test(e))return $dialog1.find(".set-pwd-tip").show(),!1},btnRegister2=function(){var e=$dialog1.find(".set-pwd").val(),o=$dialog1.find(".set-nickname").val(),i={pwd:e,alias:o},t="";return $dialog1.find(".set-nickname-tip").hide(),$dialog1.find(".set-pwd-tip").hide(),pwdReg.test(e)?0==o.length||o.length>16?(t=0===o.length?"请填写昵称":"昵称长度不能超过16个字",$dialog1.find(".set-nickname-tip").html(t).show(),!1):($.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:"/user/register/doRegister3",data:i,success:function(e){if("00000"===e.code)return window.adhoc("track","newDialog1",1),$scope.loginCallback($scope.$this),$scope.curDialog.close(),!1;$dialog1.find(".set-nickname-tip").text(e.error.alias).show()},error:function(){}}),!1):($dialog1.find(".set-pwd-tip").show(),!1)},Cy={alert:function(e){function o(o){return e.apply(this,arguments)}return o.toString=function(){return e.toString()},o}(function(e){BootstrapDialog?BootstrapDialog.show({title:"提示",btnOKLabel:"确认",message:e}):alert(e)}),ajax:function(e,o){o.type||(o.type="post"),o.dataType||(o.dataType="json"),"object"==_typeof(o.data)?o.data.ajax=1:o.data+="&ajax=1",e.indexOf("?")>0?e+="&ajax=1":e+="?ajax=1",o.loading&&$(".shadow").css("display","block"),void 0===o.async&&(o.async=!0),void 0===o.timeout&&(o.timeout=6e4),$.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({url:e,type:o.type,timeout:o.timeout,dataType:o.dataType,async:o.async,data:o.data,error:function(e){o.fail&&o.fail(e)},success:function(e){o.loading&&$(".shadow").css("display","none"),2==e.status?o.fail?o.fail(e):Cy.alert?Cy.alert(e.msg):alert(e.msg):e.redirect?location.href=e.redirect:o.success(e)},complete:function(e,i){o.fail&&"success"!=i&&"error"!=i&&o.fail(i)}})}},onGetUserInfo=function(){$.get("/user/index/isLogin",function(e){if("00000"===(e=JSON.parse(e)).code)if(e.data.isLogin)window.loginStatus=!0;else{var o=window.captcharData||{};o.method=submitValidCode,$scope.validCode($node,o).init()}})},onShowDialogHome=function(e){$scope.$this=$(this),$scope.loginCallback=e.data.callback,window.loginStatus?callback_refreshWindow_home():isMobile?location.href="/user/login/index":showDialog()},onShowDialog=function(e){var o=$(this).attr("data-register");isMobile()?($(this).hasClass("show-dialog-register")&&(o=!0),window.loginStatus?($scope.$this=$(this),e.data.callback()):location.href=o?"/user/login/index?applyFlag="+o:"/user/login/index"):($scope.$this=$(this),$scope.loginCallback=e.data.callback,$(this).hasClass("show-dialog-register")&&(tabItem=!1),$(this).hasClass("show-dialog-login")&&(tabItem=!0),window.loginStatus?$scope.loginCallback($scope.$this):showDialog())},moreIndex=1,moreData=[],callback_LoadMore=function(){moreIndex+=1,$(".celue_item").each(function(e,o){var i=$(o).attr("postId_backtestId");moreData.push(i)});var e=moreData.join(","),o="/default/index/getBacktestList?page="+moreIndex+"&isAjax=1";$.ajaxSetup({data:{token:window.tokenData.value}}),$.ajax({type:"POST",dataType:"json",url:o,data:{ids:e},success:function(e){$(".celue_box").append(e.data.html),isMobile()&&e.data.count<6?$("#more_item").addClass("hidden"):!isMobile()&&e.data.count<6&&$("#more_item").addClass("hidden")},error:function(){}})},wechatDialog=null,checkBindStatusEnable=!0;function checkBindStatus(timestamp){checkBindStatusEnable&&$.get("/user/wechat/bindStatus?wechatId=1",function(res,status){if(res=eval("("+res+")"),"ok"==res.data.bindState){if(void 0!==timestamp&&res.data.subTime<timestamp)return void setTimeout("checkBindStatus("+timestamp+")",1e3);setTimeout("wechatDialog.close()",2e3),setTimeout(function(){addWechatSub()},2001)}else setTimeout("checkBindStatus()",2e3)})}function bindWechat(e,o){var i;i=o?'<p class="message-check tcenter"><img style="width:25px;height:25px" src="'+g_staticHost+'/algorithm/img/chenggong.png" alt=""></p><p class="tcenter mt_20">'+o+"</p>":"",BootstrapDialog.show({title:"策略订阅-微信绑定",onshown:function(e){wechatDialog=e},onhidden:function(e){checkBindStatusEnable=!1},message:'<div id="wechat-body">'+i+'<p class="tcenter mb_20"><img src="'+e+'" alt="" style="width:150px;height:150px;"></p><p class="tcenter">微信扫一扫，通过微信接收该策略的下单信号</p></div>'}),checkBindStatus(Date.parse(new Date)/1e3)}function addWechatSub(e,o){e||(e=""),Cy.ajax("/algorithm/live/SetWechatSub?action=add&backtestId="+o,{success:function(i){"nobind"==i.data.result&&bindWechat(i.data.qrCode,e),$('.freeOrder[_backtestId="'+o+'"]').html("已订阅")},fail:function(e){BootstrapDialog.alert("")}})}var subLive=function(e,o,i){Cy.ajax("/algorithm/live/SubLive?backtestId="+e,{success:function(i){1==i.data.isNew&&($(".subscribeCount").html(o+1),addWechatSub("恭喜您，订阅成功。",e))},fail:function(e){Cy.alert("订阅失败:"+e.msg)}})},callback_freeOrder=function(){var e=$scope.$this.attr("_backtestId"),o=$scope.$this.attr("_postId"),i=parseInt($scope.$this.prev("span").find(".subscribeCount").html());subLive(e,i,o)},callback_getCode=function(){var e="/algorithm/index/clone?backtestId="+$scope.$this.attr("_backtestId")+"&postId="+$scope.$this.attr("_postId");window.open(e)},callback_checkDetail=function(){var e=$scope.$this.attr("urlhref");window.open(e)},callback_cloneStrategy=function(){var e="/algorithm/index/clone?backtestId=",o=$(".clone_backtestId").val(),i=$(".clone_postId").val();e+=o,i&&(e+="&postId=",e+=i),window.location.href=e},callback_strategyLogin=function(){window.location.href="/algorithm/live/shoplist"},callback_shareFunction=function(){window.location.href="/algorithm/apishare/editCode"},callback_refreshWindow=function(){window.location.href.indexOf("user/login/index")>0?(window.location.origin||(window.location.origin=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")),window.location.href=window.location.origin):window.location.reload()},callback_refreshWindow_home=function(){window.loginStatus?callback_LoadMore():callback_refreshWindow()},callback_factorAnalize=function(){exports.factorAnaly()},callback_huice=function(){window.newHuice()},showDialog=function(){dialogFlag=!0,setTimeout(function(){dialogFlag=!1},500),$scope.curDialog=$scope.dialog.createDialog({type:"type-default",width:"460px",height:"500px",marginTop:"50px",marginLeft:"-230px",isHideHeader:!0,isHideFooter:!0,size:"size-large",closable:!0,clearPadding:!0,domHtml:domHtml,onshown:function(){tabItem?$dialog1.find(".tab-nav").find("li").eq(1).addClass("active").click():$dialog1.find(".tab-nav").find("li").eq(0).addClass("active").click(),tabItem=!0}}),$scope.curDialog.$modal.on("hide.bs.modal",function(){if(dialogFlag)return console.log("还不可以点 防止重复点击",dialogFlag),!1}),($dialog1=$scope.curDialog.$modal).find(".tab-nav").find("li").removeClass("active"),($appDialog=$dialog1).delegate(".tab-nav li","click",tabLoginContent),$appDialog.delegate(".to-validate","click",toValidLogin),$appDialog.delegate(".to-password","click",toPwdLogin),$appDialog.delegate(".goto-login","click",gotoLoginNow),$appDialog.delegate(".phone","blur",phoneBlur),$appDialog.delegate(".valideCode-img","click",getNewImgCode),$appDialog.delegate(".getloginCode","click",getLoginValidCode),$appDialog.delegate(".btnPwdSubmit","click",btnPwdLogin),$appDialog.delegate(".btnValidSubmit","click",btnVlidLogin),$appDialog.delegate(".getRegisterCode","click",getRegisterValidCode),$appDialog.delegate(".btn-register","click",btnRegister1),$appDialog.delegate(".set-nickname","blur",showNicknameTip),$appDialog.delegate(".set-pwd","blur",showSetPwdTip),$appDialog.delegate(".btn-finish","click",btnRegister2)},followUser=function(e,o){$.get(api.followUser,{bId:e}).then(function(e){"00000"===(e=JSON.parse(e)).code?o&&o(e):"10001"===e.code&&($scope.loginCallback=function(){var e=parent.location.href;parent.location.href="/user/login/index?redirect="+encodeURIComponent(e)},onShowDialog())})},unFollowUser=function(e,o){$.get(api.unFollowUser,{bId:e}).then(function(e){"00000"===(e=JSON.parse(e)).code?o&&o(e):"10001"===e.code&&($scope.loginCallback=function(){var e=parent.location.href;parent.location.href="/user/login/index?redirect="+encodeURIComponent(e)},onShowDialog())})},toggleFollowUser=function(e){if($scope.toggleFollowUserFlag)return!1;$scope.toggleFollowUserFlag=!0;var o=$scope.$this,i=o.attr("data-state"),t=o.attr("data-follow-id");switch(e="boolean"!=typeof e||e,i){case"1":followUser(t,function(i){followCallback(o,i,e)});break;case"2":unFollowUser(t,function(i){followCallback(o,i,e)});break;case"3":followUser(t,function(i){followCallback(o,i,e)});break;case"4":unFollowUser(t,function(i){followCallback(o,i,e)});break;default:console.log("jq-login__input_error")}},wechatLogin=function(){var e=$(this).attr("data-type"),o=$(this).attr("data-from"),i=document.querySelector("#agreementBox");if(i&&!i.checked&&"register"===o)return Cy.alert("请阅读并接受聚宽用户协议及隐私政策");$scope.$http.promise("/user/login/wxlogin",{type:e}).done(function(e){console.log(e),window.location.href=e.redirect})},callback_follow_detail=function(){if(window.loginStatus){toggleFollowUser(!1)}else window.location.href=window.location.pathname+"?tab=btn-follow"},callback_follow=function(){window.loginStatus?toggleFollowUser():callback_refreshWindow()},loadComponents=function(){$=__webpack_require__(0),__webpack_require__(12),plugin=__webpack_require__(1)(),$scope.$http=plugin.util.http(),$scope.$render=plugin.util.render(),$scope.validCode=plugin.component.validCode,$scope.dialog={createDialog:createDialog};__webpack_require__(2);$scope.indexTpl=__webpack_require__(2)},parseDOM=function(){$node=$(node)},bindListener=function(){$node.delegate("#more_item","click",{callback:callback_refreshWindow},onShowDialogHome),$node.delegate(".freeOrder","click",{callback:callback_freeOrder},onShowDialog),$node.delegate(".getCode","click",{callback:callback_getCode},onShowDialog),$node.delegate(".linkToChicang","click",{callback:callback_checkDetail},onShowDialog),$node.delegate(".login_click","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate(".toShareFunction","click",{callback:callback_shareFunction},onShowDialog),$node.delegate(".js-jq-follow-btn","click",{callback:callback_follow_detail},onShowDialog),$node.delegate(".js-jq-other-user-follow-btn","click",{callback:callback_follow},onShowDialog),$node.delegate(".free_register_now","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate(".show-dialog-login","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate(".show-dialog-register","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate("#factorAnaly-button","click",{callback:callback_factorAnalize},onShowDialog),$node.delegate(".bigBtnText","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate(".white_on_white","click",{callback:callback_refreshWindow},onShowDialog),$node.delegate("#daily-new-backtest-button","click",{callback:callback_huice},onShowDialog),$node.delegate(".js-jq-login-wechat","click",wechatLogin),$node.delegate(".jq-login__password","focus",passwordBlur)},initPlugins=function(){onGetUserInfo()},init=function(){loadComponents(),parseDOM(),bindListener(),initPlugins()};return{init:init}};loginDialogComponent(window,document.body).init(),module.exports=loginDialogComponent},function(e,o,i){}]);