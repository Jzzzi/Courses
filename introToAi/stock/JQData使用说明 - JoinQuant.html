<!DOCTYPE html>
<!-- saved from url=(0051)https://www.joinquant.com/help/api/help#name:JQData -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  <title>JQData使用说明 - JoinQuant</title>  <meta name="keywords" content="joinquant,聚宽,量化,宽客,quant,量化交易,量化平台,量化投资,量化策略,程序化交易,量化交易平台,python,金融工程,level2,level1"> <meta name="description" content="聚宽（JoinQuant）量化交易平台是为量化爱好者（宽客）量身打造的云平台，我们为您提供精准的回测功能、高速实盘交易接口、易用的API文档、由易入难的策略库，便于您快速实现、使用自己的量化交易策略。"> <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/bootstrap.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/bootstrap-dialog.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/font-awesome.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/ui.jqgrid.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/jqGrid.overrides.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/jquery-ui.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/common.css" rel="stylesheet"> <link rel="stylesheet" href="./JQData使用说明 - JoinQuant_files/bootstrap-select.css" type="text/css"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/style.css" rel="stylesheet"> <link rel="stylesheet" href="./JQData使用说明 - JoinQuant_files/jq-common.css"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/iconfont.css" rel="stylesheet"> <link rel="stylesheet" href="./JQData使用说明 - JoinQuant_files/backtotop.bundle.css"> <link rel="icon" href="https://cdn.joinquant.com/common/img/favicon-16-16.png?v=2" type="image/x-icon"> <link rel="stylesheet" type="text/css" href="./JQData使用说明 - JoinQuant_files/loginDialog.css"> <link rel="stylesheet" type="text/css" href="./JQData使用说明 - JoinQuant_files/slide.css"> <link rel="stylesheet" type="text/css" href="./JQData使用说明 - JoinQuant_files/flexslider.css"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/style(1).css" rel="stylesheet"> <style>.tips.isfirst{background-position:calc(50% + 58px) 0}</style> <style>span.new{background:rgba(0,0,0,0)}.side-bar .top .name.user-alias img{width:16px;height:16px;float:none;margin-right:0}.kk_footer .wp20.last img{position:relative;top:-2px}.kk_footer .wp20.last .item>a{position:relative;left:-5px}</style> <style>header#kk_nav .nav .dropdown-menu a{display:block;padding:5px 35px;font-size:13px}.sanjiao.display{display:none}@media(max-width:320px){header#kk_nav .nav a{padding:11px 20px}}@media(min-width:768px){.sanjiao.display{display:block}.dropdown-menu{left:-90px;overflow-y:visible}#kk_nav .nav .dropdown-menu a{color:#333}.sanjiao:after,.sanjiao:before{left:80%}}.last>a,.nav.navbar-nav .help-mobile{padding-bottom:8px!important;outline:0}#kk_nav{position:fixed;width:100%;height:50px;z-index:100}.kk_main>.kk_body{top:50px}.mobile .top_50{top:0}span.new{background:rgba(0,0,0,0)}.side-bar .top .name.user-alias img{width:16px;height:16px;float:none;margin-right:0}.kk_footer .wp20.last img{position:relative;top:-2px}.kk_footer .wp20.last .item>a{position:relative;left:-5px}.kk_main{min-height:auto}</style> <link rel="stylesheet" type="text/css" href="./JQData使用说明 - JoinQuant_files/jq-plugin.css"> <link rel="stylesheet" type="text/css" href="./JQData使用说明 - JoinQuant_files/login-dialog.bundle.css">  <link type="text/css" href="./JQData使用说明 - JoinQuant_files/amazeui.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/amazeui.tree.min.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/default2.css" rel="stylesheet"> <link type="text/css" href="./JQData使用说明 - JoinQuant_files/help.bundle.css" rel="stylesheet"> <style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 5px 0px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 5px; -webkit-border-radius: 5px; -moz-border-radius: 5px; -khtml-border-radius: 5px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 1px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: .7em}
.MathJax_MenuRadioCheck.RTL {right: .7em; left: auto}
.MathJax_MenuLabel {padding: 1px 2em 3px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #DDDDDD; margin: 4px 3px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: #606872; color: white}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style><style type="text/css">#YSF-BTN-HOLDER{position: fixed;max-width:300px;max-height:300px;right: 30px; bottom: 24px; cursor: pointer; overflow: visible; filter: alpha(opacity=100);opacity:1;z-index: 9990} #YSF-BTN-HOLDER:hover{filter: alpha(opacity=95);opacity:.95} #YSF-BTN-HOLDER img{ display: block;overflow: hidden; } #YSF-BTN-CIRCLE{display: none;position: absolute;right: -5px;top: -6px;width: auto;min-width: 12px;height: 20px;padding: 0 4px;background-color: #f00;font-size: 12px;line-height: 20px;color: #fff;text-align: center;white-space: nowrap;font-family: sans-serif;border-radius: 10px;z-index:1;} #YSF-BTN-BUBBLE{display: none;position: absolute;left: -274px;bottom:-15px;width: 278px;height: 80px;box-sizing: border-box;padding: 14px 22px;filter: alpha(opacity=100);opacity:1;background: url(https://qiyukf.com/sdk//res/img/sdk/bg_floatMsg2x.png) no-repeat;background:url(https://qiyukf.com/sdk//res/img/sdk/bg_floatMsg.png)9; background-size: 278px 80px; z-index: 1;} #YSF-BTN-HOLDER.layer-6{bottom:0;} #YSF-BTN-HOLDER.layer-1 #YSF-BTN-BUBBLE{top:0} #YSF-BTN-HOLDER.layer-6 #YSF-BTN-BUBBLE{bottom:-6px;} #YSF-BTN-BUBBLE:hover{filter: alpha(opacity=95);opacity:.95} #YSF-BTN-CONTENT{height:45px;padding: 0;white-space: normal;word-break: break-all;text-align: left;font-size: 14px;line-height: 1.6;color: #222;overflow: hidden;z-index: 0;} #YSF-BTN-ARROW{ display: none; } #YSF-BTN-CLOSE{position: absolute; width:15px; height:15px;right: 4px;top: -3px; filter: alpha(opacity=90); opacity:.9; cursor: pointer; background: url(https://qiyukf.com/sdk//res/img/sdk/btn-close.png) no-repeat;z-index: 1} #YSF-BTN-CLOSE:hover{filter: alpha(opacity=100); opacity: 1;} #YSF-PANEL-CORPINFO.ysf-chat-layeropen{ width: 511px; height: 500px; border-radius: 8px; box-shadow: 0 0 20px 0 rgba(0, 0, 0, .15);} #YSF-PANEL-CORPINFO{ position: fixed; bottom: 0px; right: 20px; width: 0; height: 0; z-index: 99999; } #YSF-PANEL-INFO.ysf-chat-layeropen{ width: 360px; height: 500px; border-radius: 8px; filter: alpha(opacity=100);opacity:1; box-shadow: 0 0 20px 0 rgba(0, 0, 0, .15);} #YSF-PANEL-INFO{ position: fixed; bottom: 0px; right: 20px; width: 0px; height: 0px; filter: alpha(opacity=0);opacity:0;z-index: 99999;} #YSF-PANEL-INFO .u-btn{background-color: none} #YSF-CUSTOM-ENTRY{background-color: #F96868;} #YSF-CUSTOM-ENTRY-0{position: relative;width:auto;background-color: none;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-1{position: relative;width:auto;background-color: none;border-radius: 14px; box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-2{position: relative;width:auto;background-color: none;border-radius: 8px;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-3{position: relative;width:auto;background-color: none;border-radius: 50%;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-4{position: relative;width:auto;background-color: none;border-radius: 50%;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-5{position: relative;width:auto;background-color: none;border-radius: 8px;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-6{position: relative;width:auto;background-color: none;border-radius: 8px;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-7{position: relative;width:auto;background-color: none;border-radius: 50%;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-8{position: relative;width:auto;background-color: none;border-radius: 8px;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);} #YSF-CUSTOM-ENTRY-0 img{max-width: 300px;max-height: 300px;} #YSF-CUSTOM-ENTRY-1 img{width:28px;height:auto;} #YSF-CUSTOM-ENTRY-2 img{width:58px;height:auto;} #YSF-CUSTOM-ENTRY-3 img{width:60px;height:auto;} #YSF-CUSTOM-ENTRY-4 img{width:60px;height:auto;} #YSF-CUSTOM-ENTRY-5 img{width:60px;height:auto;} #YSF-CUSTOM-ENTRY-6 img{width:58px;height:auto;} #YSF-CUSTOM-ENTRY-7 img{width:60px;height:auto;} #YSF-CUSTOM-ENTRY-8 img{width:60px;height:auto;} #YSF-IFRAME-LAYER{ border:0; outline:none; } .ysf-online-invite-wrap{z-index:10001;position:fixed;_position:absolute;top:50%;left:50%;} .ysf-online-invite{position:relative;top:-50%;left:-50%;cursor:pointer;border-radius: 16px;box-shadow: 0 10px 30px 0 rgba(47,56,111,0.15);} .ysf-online-invite img{display:block;width:250px;} .ysf-online-invite .ysf-online-invite-img{width:100%;height:100%} .ysf-online-invite .text{position:absolute;top:-11px;left:0;right:0;overflow:hidden;margin: 36px 20px 0 67px;line-height:140%;color:#526069;font-size:14px;font-family:"Microsoft YaHei","微软雅黑",tahoma,arial,simsun,"宋体";text-align:left;white-space:normal;word-wrap:break-word;} .ysf-online-invite .close{position:absolute;top:12px;right:12px;width:16px;height:16px;background:url("https://ysf.nosdn.127.net/operation/4602027f7e6a0109ac433863d7d0acdf") no-repeat;cursor:pointer;background-size: cover;} #YSF-PANEL-MOBILE{ background: rgba(46,47,49,0.7); position: fixed; bottom: 0px; right: 0px; width: 100%; height: 0px; transition-property: height,bottom; transition-duration: 0.3s; transition-timing-function: ease; transition-delay: 0s; z-index: 99999; } #YSF-PANEL-MOBILE.ysf-chat-layeropen{ width: 100%; height: 100%; transition-property:height,bottom; transition-duration: 0.3s; transition-timing-function: ease; transition-delay: 0s; } #YSF-IFRAME-LAYER.ysf-chat-mobile-layeropen{ height: 90% !important; transition-property: height,bottom; transition-duration: 0.3s; transition-timing-function: ease; transition-delay: 0s; } #YSF-IFRAME-LAYER.ysf-chat-mobile-layeropen.ysf-chat-mobile-invite-layer{ height: 33% !important; } #YSF-IFRAME-LAYER{ position: absolute; bottom: 0px;left: 0; right: 0px; width: 0px; height: 0px; transition-property: height,bottom; transition-duration: 0.3s; transition-timing-function: ease; transition-delay: 0s; z-index: 9999; } .YSF-PANEL-BODY-FIXED{ position: fixed !important; left: 0; right: 0;} .YSF-INVITE-LAYER-WRAPPER { cursor: pointer; position: relative; border: 1px solid #eaf0f6; background: #fff;box-shadow: 0 5px 20px rgba(0,0,0,0.1); border-radius: 4px; width: 220px; padding: 16px; box-sizing: border-box; margin-bottom: 12px; background: #FFFFFF; box-shadow: 0 6px 20px 0 rgba(40,53,75,0.17); border-radius: 8px; } .YSF-INVITE-LAYER-HEADER { display: flex; align-items: center; justify-content: space-between; margin-bottom: 8px; } .YSF-INVITE-LAYER-HEADER-LEFT { display: flex; flex: 1; align-items: center; } .YSF-INVITE-LAYER-RICHTEXT { height: 44px; max-width: 168px; word-break: break-all; overflow: hidden; text-overflow: ellipsis; font-size: 14px; color: #333333; line-height: 22px; text-align: left; } .YSF-INVITE-LAYER-RICHTEXT p { margin: 0 } #YSF-BTN-HOLDER .YSF-INVITE-LAYER-AVATAR { width: 20px; height: 20px; border-radius: 50%; object-fit: cover; } .YSF-INVITE-LAYER-KEFU-NAME { font-size: 12px; color: #999999; margin-left: 4px; max-width: 150px; overflow: hidden; text-overflow: ellipsis; } #YSF-ONLINE-INVITE-LAYER-CLOSE{ width:12px; height:12px; background:url("https://ysf.nosdn.127.net/operation/0e5ee37a71d33e05b74d1a5aa3cdd99a") no-repeat; background-size: cover; cursor:pointer; } #YSF-INVITE-LAYER-WRAPPER-ENTRY { position: relative; float: right; } .YSF-LAYER-ENTRY-CIRCLE { width: auto; min-width: 12px; height: 20px; padding: 0 4px; border-radius: 10px; color: #FFFFFF; background-color: #f00; font-size: 12px; line-height: 20px; white-space: nowrap; z-index:1; background: url("https://ysf.nosdn.127.net/operation/997228b687d805f7a5d6244865615ec9") no-repeat; background-size: cover; position: absolute; top: 6px; right: -8px; } .YSF-INVITE-IMG {background-color: none;box-shadow: 0px 6px 10px 0px rgba(0,0,0,0.25);float: right;} .YSF_INVITE-IMG-0{max-width: 300px; height:auto;} .YSF_INVITE-IMG-1{width:28px; height:auto; border-radius: 14px;} .YSF_INVITE-IMG-2{width:58px; height:auto; border-radius: 8px;} .YSF_INVITE-IMG-3{width:60px; height:auto; border-radius: 50%;} .YSF_INVITE-IMG-4{width:60px; height:auto; border-radius: 50%;} .YSF_INVITE-IMG-5{width:60px; height:auto; border-radius: 8px;} .YSF_INVITE-IMG-6{width:58px; height:auto; border-radius: 8px;} .YSF_INVITE-IMG-7{width:60px; height:auto; border-radius: 50%;} .YSF_INVITE-IMG-8{width:60px; height:auto; border-radius: 8px;} #YSF-BTN-HOLDER .portrait_icon{width: 24px;height: 24px;vertical-align: middle;display: inline-block;}</style></head> <body><div id="MathJax_Message" style="display: none;"></div> <div class="kk_main in_wrap"> <input type="hidden" id="imagePath" value="https://image.joinquant.com"> <input type="hidden" id="cdnPath" value="https://cdn.joinquant.com"> <input type="hidden" id="filePath" value="https://file.joinquant.com"> <input type="hidden" id="version" value="17052906780001711691737976"> <header id="kk_nav" class="kk_nav navbar narbar-static-top"> <div class="kk_nav_container js-jq-header"><div class="navbar-header clear" style="position:relative;z-index:1">  <a href="https://www.joinquant.com/" title="joinQuant" class="navbar-brand fleft headerLogBg">  </a>  </div> <nav id="kk_navbar" class="kk_navbar collapse navbar-collapse relative" aria-expanded="false"> <ul class="nav navbar-nav">  <li> <a href="https://www.joinquant.com/" class="">   首页   </a>      </li>  <li> <a href="javascript:void(0)" class="">   策略研究   </a>    <div class="submenu">  <a href="https://www.joinquant.com/research" class="item"> 研究环境   </a>  <a href="https://www.joinquant.com/algorithm/index/list" class="item"> 策略列表   </a>  <a href="https://www.joinquant.com/algorithm/trade/list?process=1" class="item"> 模拟列表   </a>  <a href="https://www.joinquant.com/view/factorlib/list" class="item"> 因子看板   </a>  <a href="https://www.joinquant.com/algorithm/apishare/list" class="item"> 共享函数库   </a>  <a href="https://www.joinquant.com/help/api/help?name=api" class="item"> API文档   </a>  </div>    </li>  <li> <a href="https://www.joinquant.com/data" class="">   数据字典   </a>      </li>  <li> <a href="https://www.joinquant.com/community/new" class="">   社区   </a>      </li>  <li> <a href="javascript:void(0)" class="">   帮助   </a>    <div class="submenu">  <a href="https://www.joinquant.com/post/4589" class="item"> 新手指引   </a>  <a href="https://www.joinquant.com/faq" class="item"> 常见问题   </a>  <a href="https://www.joinquant.com/help/api/help?name=api" class="item"> API文档   </a>  <a href="https://www.joinquant.com/help/api/help?name=factor" class="item"> 因子分析   </a>  <a href="https://www.joinquant.com/study" class="item"> 量化课堂   </a>  <a href="https://www.joinquant.com/view/algorithm/pythonConversion?utm_source=Nav" class="item"> Python 2 to 3   </a>  <a href="https://www.joinquant.com/view/community/list?listType=5" class="item"> 精选文章   </a>  <a href="https://www.joinquant.com/help/api/help#faq:%E6%8E%A5%E5%85%A5%E5%AE%9E%E7%9B%98" class="item"> 实盘说明   </a>  </div>    </li>  <li> <a href="javascript:void(0)" class="">   聚宽投资   </a>    <div class="submenu">  <a href="https://www.joinquant.com/view/algorithm/fundraising" class="item"> 聚宽基金   </a>  <a href="https://app.mokahr.com/m/campus-recruitment/joinquant/92347" class="item"> 校园招聘   </a>  <a href="https://app.mokahr.com/m/social-recruitment/joinquant/92346" class="item"> 社会招聘   </a>  </div>    </li>  <li> <a href="javascript:void(0)" class="">   本地数据   </a>    <div class="submenu">  <a href="https://www.joinquant.com/default/index/sdk?utm_campaign=JQData%E7%94%B3%E8%AF%B7&amp;utm_medium=%E7%BD%91%E9%A1%B5&amp;utm_source=%E8%81%9A%E5%AE%BD&amp;gio_link_id=xRxqAjP5" class="item"> 申请试用   </a>  <a href="https://www.joinquant.com/help/api/doc?name=JQDatadoc" class="item"> Python版API   </a>  <a href="https://www.joinquant.com/help/api/doc?name=logon&amp;id=9830" class="item"> 试用及开通   </a>  </div>    </li>  <li> <a href="https://www.joinquant.com/view/vip/charge" class="">   聚宽会员   </a>      </li>  <li> <a href="https://www.joinquant.com/user/login/index?type=login" class="">   登录   </a>      </li>  <li> <a href="https://www.joinquant.com/user/register/index?type=register" class="">   注册   </a>      </li>  <div class="hidden" id="userInfoForCs" _userid="" _alias="" _mob=""></div> </ul> </nav></div> </header> <div class="kk_body"> <div class="in_body"> </div></div></div> <div class="js-app" style="min-height:450px"> <div class="jq-l-help-api no-search" id="help"> <div class="help-api-search"> <div class="search-input"> <input type="text" placeholder="搜索你想要的数据，如股票分钟数据、十大股东等(Enter搜索)" id="searchInput" autocomplete="off"> <svg class="enter-icon" viewBox="0 0 1024 1024" title="Enter搜索"> <path d="M639.199519 894.900713 253.016039 894.900713l0 0-96.577592 0c-5.27412 0-9.983375-1.539053-14.378475-3.768837-9.168824 1.098008-18.714224-1.381463-25.746384-8.413624l-44.143383-44.175105c-12.18246-12.183484-12.18246-31.933293 0-44.145429l208.851679-273.122471c12.18246-12.17939 31.962969-12.17939 44.145429 0l44.145429 44.146453c12.17939 12.211113 12.17939 31.994692 0 44.173059L249.498936 766.299777l335.880817 0c98.149391-5.276167 176.393429-83.266425 181.228551-181.035146L766.608304 348.34264c0-17.772782 14.377452-32.149211 32.151257-32.149211l64.98813 0c17.772782 0 32.150234 14.376429 32.150234 32.149211l0 33.593096 0 225.27472 0 32.496112C895.897925 780.64653 780.985756 894.900713 639.199519 894.900713z"> </path> </svg> </div> <div class="search-result"> <span id="searchBack">返回</span> <ul class="search-list" id="searchListBody"></ul> </div> </div> <div class="help-api-left"> <div> <ul class="am-tree am-tree-folder-select" role="tree" id="jq-api-tree" style="overflow:initial"> <li class="am-tree-branch am-hide" data-template="treebranch" role="treeitem" aria-expanded="false">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder"></span>
        <span class="am-tree-label"></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li>
  <li class="am-tree-item am-hide" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item"></span>
      <span class="am-tree-label"></span>
    </button>
  </li> <li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a data-name="JQData" href="https://www.joinquant.com/help/api/help#name:JQData">JQData使用说明 </a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children am-tree-folder-select" role="group"> <li class="am-tree-branch am-hide" data-template="treebranch" role="treeitem" aria-expanded="false">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder"></span>
        <span class="am-tree-label"></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li>
  <li class="am-tree-item am-hide" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item"></span>
      <span class="am-tree-label"></span>
    </button>
  </li> <li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true" id="first" aria-labelledby="first-label">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label" id="first-label"><a href="https://www.joinquant.com/help/api/help#JQData-%E6%9C%AC%E5%9C%B0%E9%87%8F%E5%8C%96%E6%95%B0%E6%8D%AE%E8%AF%B4%E6%98%8E%E4%B9%A6">JQData-本地量化数据说明书</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%BB%8B%E7%BB%8D%E4%B8%8E%E8%AF%B4%E6%98%8E">介绍与说明</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%AF%95%E7%94%A8%E5%92%8C%E8%B4%AD%E4%B9%B0">试用和购买</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#JQData%E5%AE%89%E8%A3%85%E3%80%81%E7%99%BB%E9%99%86%E5%8F%8A%E6%B5%81%E9%87%8F%E6%9F%A5%E8%AF%A2">JQData 安装、登陆及流量查询</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#JQData%E7%94%A8%E6%88%B7%E5%8D%8F%E8%AE%AE">JQData用户协议</a></span>
    </button>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#JQData%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99%E5%8F%8A%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E8%A7%84%E5%88%99">JQData常见报错及数据处理规则</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#JQData%E5%B8%B8%E8%A7%81%E6%8A%A5%E9%94%99">JQData常见报错</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86%E8%A7%84%E5%88%99">数据处理规则</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E9%80%9A%E7%94%A8%E6%8E%A5%E5%8F%A3">通用接口</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#JQData%E8%AF%81%E5%88%B8%E4%BB%A3%E7%A0%81%E6%A0%BC%E5%BC%8F">JQData证券代码格式</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%8E%B7%E5%8F%96%E6%A0%87%E7%9A%84%E6%A6%82%E5%86%B5">获取标的概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%8E%B7%E5%8F%96%E4%BA%A4%E6%98%93%E6%97%A5%E5%8E%86">获取交易日历</a></span>
    </button>
  </li><li class="am-tree-item am-tree-selected" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E9%80%9A%E7%94%A8%E8%A1%8C%E6%83%85%E6%8E%A5%E5%8F%A3">通用行情接口</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%88%A4%E6%96%AD%E6%98%AF%E5%90%A6ST%E5%9F%BA%E9%87%91%E5%87%80%E5%80%BC%E6%9C%9F%E8%B4%A7%E7%BB%93%E7%AE%97%E4%BB%B7">判断是否ST/基金净值/期货结算价</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#run_query%E6%9F%A5%E8%AF%A2%E6%95%B0%E6%8D%AE%E5%BA%93%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE">run_query 查询数据库中的数据</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8">股票</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8%E6%A6%82%E5%86%B5">股票概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">股票行情数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8%E8%9E%8D%E8%B5%84%E8%9E%8D%E5%88%B8%E6%95%B0%E6%8D%AE">股票融资融券数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8%EF%BC%9A%E6%8C%87%E6%95%B0%E6%88%90%E5%88%86%E8%82%A1%E5%8F%8A%E6%9D%83%E9%87%8D%E6%95%B0%E6%8D%AE">股票：指数成分股及权重数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%82%A1%E7%A5%A8%E4%BA%A4%E6%98%93%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE">股票交易统计数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%B8%82%E5%9C%BA%E9%80%9A%E6%95%B0%E6%8D%AE%EF%BC%88%E5%90%AB%E5%8D%97%E5%8C%97%E5%90%91%E8%B5%84%E9%87%91%E6%95%B0%E6%8D%AE%EF%BC%89">市场通数据（含南北向资金数据）</a></span>
    </button>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%A1%8C%E4%B8%9A%E5%88%86%E7%B1%BB%E4%B8%8E%E6%A6%82%E5%BF%B5%E5%88%86%E7%B1%BB">行业分类与概念分类</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%A1%8C%E4%B8%9A%E6%A6%82%E5%BF%B5%E5%88%86%E7%B1%BB">行业概念分类</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E6%8C%87%E6%95%B0%E6%95%B0%E6%8D%AE">申万行业指数数据</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">财务数据</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%8D%95%E5%AD%A3%E5%BA%A6%E5%B9%B4%E5%BA%A6%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">单季度/年度财务数据</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9F%A5%E8%AF%A2%E6%96%B9%E6%B3%95%EF%BC%88%E5%90%AB%E6%96%B0%E6%8E%A5%E5%8F%A3%EF%BC%89">查询方法（含新接口）</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%B4%A2%E5%8A%A1%E5%8F%8A%E4%BC%B0%E5%80%BC%E6%95%B0%E6%8D%AE">财务及估值数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%93%E9%A1%B9%E6%8C%87%E6%A0%87%EF%BC%88%E9%93%B6%E8%A1%8C%E4%B8%9A%E5%88%B8%E5%95%86%E4%BF%9D%E9%99%A9%EF%BC%89">专项指标（银行业/券商/保险）</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8A%A5%E5%91%8A%E6%9C%9F%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">报告期财务数据</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E9%80%9A%E7%94%A8%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8">通用财务报表</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E9%87%91%E8%9E%8D%E7%B1%BB%E8%B4%A2%E5%8A%A1%E6%8A%A5%E8%A1%A8">金融类财务报表</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%9A%E7%BB%A9%E9%A2%84%E5%91%8A">业绩预告</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E5%9F%BA%E7%A1%80%E4%BF%A1%E6%81%AF">上市公司基础信息</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">上市公司相关信息</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E6%A6%82%E5%86%B5">上市公司概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E8%82%A1%E4%B8%9C%E5%92%8C%E8%82%A1%E6%9C%AC%E4%BF%A1%E6%81%AF">上市公司股东和股本信息</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E8%B4%A7">期货</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E8%B4%A7%E6%A6%82%E5%86%B5%EF%BC%88%E5%90%AB%E6%96%B0%E6%8E%A5%E5%8F%A3%EF%BC%89">期货概况（含新接口）</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E8%B4%A7%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">期货行情数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E8%B4%A7%E4%BA%A4%E6%98%93%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE">期货交易统计数据</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9F%BA%E9%87%91">基金</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9F%BA%E9%87%91%E6%A6%82%E5%86%B5">基金概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9C%BA%E5%86%85%E5%9F%BA%E9%87%91%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">场内基金行情数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9F%BA%E9%87%91%E8%9E%8D%E8%B5%84%E8%9E%8D%E5%88%B8">基金融资融券</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%85%AC%E5%8B%9F%E5%9F%BA%E9%87%91%E6%95%B0%E6%8D%AE%E5%87%80%E5%80%BC%E7%AD%89">公募基金数据(净值等)</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8C%87%E6%95%B0">指数</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8C%87%E6%95%B0%E6%A6%82%E5%86%B5">指数概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8C%87%E6%95%B0%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">指数行情数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8C%87%E6%95%B0%E6%88%90%E5%88%86%E8%82%A1%E5%8F%8A%E6%9D%83%E9%87%8D%E6%95%B0%E6%8D%AE">指数成分股及权重数据</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E6%9D%83">期权</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E6%9D%83%E6%A6%82%E5%86%B5">期权概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E6%9D%83%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">期权行情数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E6%9D%83%E4%BA%A4%E6%98%93%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE">期权交易统计数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%9C%9F%E6%9D%83%E5%88%97%E8%A1%A8">期权列表</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%80%BA%E5%88%B8">债券</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%80%BA%E5%88%B8%E6%A6%82%E5%86%B5">债券概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9B%BD%E5%80%BA%E9%80%86%E5%9B%9E%E8%B4%AD%E6%97%A5%E8%A1%8C%E6%83%85">国债逆回购日行情</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%8F%AF%E8%BD%AC%E5%80%BA%E6%A6%82%E5%86%B5">可转债概况</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%8F%AF%E8%BD%AC%E5%80%BA%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE">可转债统计数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%8F%AF%E8%BD%AC%E5%80%BA%E8%A1%8C%E6%83%85%E6%95%B0%E6%8D%AE">可转债行情数据</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%AE%8F%E8%A7%82%E6%95%B0%E6%8D%AE">宏观数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD%E6%96%87%E6%9C%AC">新闻联播文本</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#tick%E6%95%B0%E6%8D%AE%E6%9C%BA%E6%9E%84">tick数据(机构) </a></span>
    </button>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9B%A0%E5%AD%90%E6%95%B0%E6%8D%AE%EF%BC%88%E5%90%AB%E6%96%B0%E6%8E%A5%E5%8F%A3%EF%BC%89">因子数据（含新接口）</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E8%81%9A%E5%AE%BD%E5%9B%A0%E5%AD%90%E5%BA%93">聚宽因子库</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#ALPHA%E7%89%B9%E8%89%B2%E5%9B%A0%E5%AD%90">ALPHA特色因子</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%8A%80%E6%9C%AF%E5%88%86%E6%9E%90%E6%8C%87%E6%A0%87">技术分析指标</a></span>
    </button>
  </li><li class="am-tree-branch am-tree-open" data-template="treebranch" role="treeitem" aria-expanded="true">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder am-icon-minus-square-o"></span>
        <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9B%A0%E5%AD%90%E7%9C%8B%E6%9D%BF%E5%8F%8A%E9%A3%8E%E6%A0%BC%E5%9B%A0%E5%AD%90%E7%AD%89%EF%BC%88%E6%96%B0%EF%BC%89">因子看板及风格因子等（新）</a></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E5%9B%A0%E5%AD%90%E7%9C%8B%E6%9D%BF%E6%95%B0%E6%8D%AE">因子看板数据</a></span>
    </button>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E9%A3%8E%E6%A0%BC%E5%9B%A0%E5%AD%90%E5%BD%92%E5%9B%A0">风格因子归因</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li><li class="am-tree-item" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item am-icon-"></span>
      <span class="am-tree-label"><a href="https://www.joinquant.com/help/api/help#%E6%B4%BB%E5%8A%A8%E4%B8%93%E5%8C%BA">活动专区</a></span>
    </button>
  </li></ul>
    <div class="am-tree-loader am-hide" role="alert"><span class="doc-loading"></span></div>
  </li></ul> </div> </div> <div class="help-api-right"> <div id="jq-api-subcontent" class="hidden"></div> <div id="jq-api-content"><h2 id="JQData-本地量化数据说明书">JQData-本地量化数据说明书</h2>
<h4 id="uctrlfu"><strong><u>由于内容较多，可使用Ctrl+F搜索您需要的数据。</u></strong></h4>
<ul>
<li><strong>注意：query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/433d0e9ed9fed11fc9f7772eab8d9376">Query的简单教程</a></strong>  </li>
<li>run_query 查询数据库中的数据：为了防止返回数据量过大, 我们每次最多返回<strong>5000</strong>行；不支持进行连表查询，即同时查询多张表的数据；</li>
<li>查询财务数据时如果提示没有定义，请在最上面添加：from jqdatasdk import *</li>
<li>jqdatasdk包(产品名称JQData)和官网的jqdata包是两个不同的包，API不完全相同，点击查看<strong>JQData 介绍与说明</strong>中<a href="https://www.joinquant.com/help/api/help#JQDataApi:JQData%E4%BB%8B%E7%BB%8D%E4%B8%8E%E8%AF%B4%E6%98%8E">关于JQData、jqdatasdk和jqdata</a>，<strong>JQData常见问题及报错解决教程</strong>中<a href="https://www.joinquant.com/help/api/help#JQDataApi:JQData%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98%E5%8F%8A%E6%8A%A5%E9%94%99%E8%A7%A3%E5%86%B3%E6%95%99%E7%A8%8B">JQData和官网不一致API对比</a></li>
</ul>
<h3 id="介绍与说明">介绍与说明</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>名称</label>
    <label>描述</label>
  </div>
  <div class="body">
    <div class="group">
      <label><span id="JQData介绍"></span>JQData介绍</label>
      <label>JQData是什么</label>
      <article style="display: block; height: 233.695px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs angelscript">    JQData是聚宽数据团队专门为金融机构、学术团体和量化研究者们提供的本地量化金融数据服务。使用JQData，可快速查看和计算金融数据，无障碍解决本地、Web、金融终端调用数据的需求。历经<span class="hljs-number">5</span>年沉淀，<span class="hljs-number">40</span>万宽客及数<span class="hljs-number">3500</span>家知名量化机构投研交易验证。
</code></pre>
<p>使用上，JQData适用Windows、Mac、Linux多种操作系统，支持python2、python3和以及任意编程语言。数据通过简洁的API方式提供，pip即可直接安装使用，挣脱使用束缚，实现更多场景。只需三行代码，即可随取随用~</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
    <div class="group">
      <label><span id="JQData提供的数据及数据更新频率"></span>JQData提供的数据及数据更新频率</label>
      <label>JQData提供的数据及数据更新频率</label>
      <article style="display: block; height: 4982.91px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs markdown">   为了满足用户的需求，聚宽数据团队在JQData中不仅提供了全面的基础金融数据，包括<span class="hljs-strong">**沪深A股行情数据，上市公司财务数据，场内基金数据，场外基金数据，指数数据，期货数据，期权数据、债券数据以及宏观经济数据**</span>；除此之外，JQData还针对因子数据和特色数据，引进了聚宽因子库，舆情数据，Alpha特色因子，技术分析指标因子，tick数据，助您更好的完成量化研究和投资决策。详细数据清单如下表所示：
</code></pre>
<table>
    <tbody><tr>
        <td><strong>数据品种</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>股票列表数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>行业概念和指数成分股</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>日行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>分钟行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>集合竞价数据</td>
        <td>2010年至今</td>
        <td>盘后15:00更新</td>
    </tr>
    <tr>
        <td>分红拆分送股</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>融资融券</td>
        <td>2010至今</td>
        <td>下一个交易日9点之前更新</td>
    </tr>
    <tr>
        <td>资金流向</td>
        <td>2010至今</td>
        <td>盘后20:00更新</td>
    </tr>
    <tr>
        <td>龙虎榜数据</td>
        <td>2005至今</td>
        <td>盘后20:00和22:00更新</td>
    </tr>
    <tr>
        <td>限售解禁股</td>
        <td>2005至今</td>
        <td>盘后20:00更新</td>
    </tr>
    <tr>
        <td>停复牌、涨跌停价格数据</td>
        <td>2005至今</td>
        <td>盘前9:15更新</td>
    </tr>
    <tr>
        <td>沪深市场每日成交概况</td>
        <td>2005年至今</td>
        <td>交易日20:30-24:00更新</td>
    </tr>
    <tr>
        <td>沪股通，深股通和港股通(市场通数据）</td>
        <td>上市至今</td>
        <td>交易日20:30-06:30更新</td>
    </tr>
    <tr>
        <td>申万一级行业指数日行情数据</td>
        <td>上市至今</td>
        <td>交易日17:30更新</td>
    </tr>
    <tr>
        <td>申万一级行业估值数据</td>
        <td>上市至今</td>
        <td>交易日17:30更新</td>
    </tr>
    <tr>
        <td><strong>上市公司财务数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>估值数据</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>财务指标</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>资产负债表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>现金流量表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>利润表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>银行专项指标表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>券商专项指标表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>保险专项指标表</td>
        <td>2005至今</td>
        <td>每天24:00更新</td>
    </tr>
    <tr>
        <td>上市公司概况</td>
        <td>2005年至今</td>
        <td>交易日24:00更新</td>
    </tr>
    <tr>
        <td>上市公司股东股本</td>
        <td>2005年至今</td>
        <td>交易日24:00更新</td>
    </tr>
    <tr>
        <td><strong>期货数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>期货列表数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>日行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>分钟行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>期货结算价</td>
        <td>2005至今</td>
        <td>盘后17:00 更新</td>
    </tr>
    <tr>
        <td>期货主力合约</td>
        <td>2005至今</td>
        <td>20点更新下一交易日</td>
    </tr>
    <tr>
        <td>期货连续指数</td>
        <td>2005至今</td>
        <td>盘前8:00更新</td>
    </tr>
    <tr>
        <td>期货龙虎榜数据</td>
        <td>2005年至今</td>
        <td>盘后19:00更新</td>
    </tr>
    <tr>
        <td>期货仓单数据</td>
        <td>2005年至今</td>
        <td>盘后20:00更新</td>
    </tr>
    <tr>
        <td>外盘期货日行情数据</td>
        <td>上市至今</td>
        <td>盘前9:00更新</td>
    </tr>
    <tr>
        <td><strong>场内基金数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>场内基金列表数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>分级基金数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>日行情</td>
        <td>2005至今</td>
        <td>盘后更新15点更新</td>
    </tr>
    <tr>
        <td>分钟行情</td>
        <td>2005至今</td>
        <td>盘后15点更新，盘后24:00更新</td>
    </tr>
    <tr>
        <td>净值数据</td>
        <td>2005至今</td>
        <td>下一个交易日10点之前更新</td>
    </tr>
    <tr>
        <td>融资融券</td>
        <td>2010至今</td>
        <td>下一个交易日9点之前更新</td>
    </tr>
    <tr>
        <td>场内基金份额数据</td>
        <td>2005-02-23至今</td>
        <td>下一个交易日10点之前更新</td>
    </tr>
    <tr>
        <td>集合竞价数据</td>
        <td>2019年至今</td>
        <td>盘后15:00更新</td>
    </tr>
    <tr>
        <td><strong>公募基金</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>基金主体信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金净值信息</td>
        <td>上市至今</td>
        <td>盘前9:00更新</td>
    </tr>
    <tr>
        <td>基金持股信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金持仓债券信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金资产组合概况</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金财务指标信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金收益日报信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td>基金分红拆分合并信息</td>
        <td>上市至今</td>
        <td>盘后24:00更新</td>
    </tr>
    <tr>
        <td><strong>指数数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>指数列表数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>指数成分股数据</td>
        <td>2005至今</td>
        <td>8:00更新</td>
    </tr>
    <tr>
        <td>日行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>分钟行情</td>
        <td>2005至今</td>
        <td>盘后15:00更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>集合竞价数据</td>
        <td>2017年至今</td>
        <td>盘后15:00更新</td>
    </tr>
    <tr>
        <td><strong>期权数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>期权合约资料</td>
        <td>上市至今</td>
        <td>盘后18:00更新</td>
    </tr>
    <tr>
        <td>期权合约调整记录</td>
        <td>上市至今</td>
        <td>盘后18:00更新</td>
    </tr>
    <tr>
        <td>期权每日盘前静态文件</td>
        <td>上市至今</td>
        <td>盘前9:05更新</td>
    </tr>
    <tr>
        <td>期权日行情</td>
        <td>上市至今</td>
        <td>盘后更新15点更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>上证ETF期权分钟行情</td>
        <td>2017-01-01至今</td>
        <td>盘后更新15点更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>股指期权分钟行情</td>
        <td>2019-12-24至今</td>
        <td>盘后更新15点更新，24:00校对完成入库</td>
    </tr>
    <tr>
        <td>商品期权分钟行情</td>
        <td>2019-12-02至今</td>
        <td>盘后更新15点更新，24:00校对完成入库</td>
    </tr>
    <tr>

        <td>集合竞价数据</td>
        <td>2017年至今</td>
        <td>盘后15:00更新</td>
    </tr>
    <tr>
        <td>股票期权交易和持仓排名统计</td>
        <td>上市至今</td>
        <td>下一交易日盘前8:05更新</td>
    </tr>
    <tr>
        <td>期权风险指标</td>
        <td>上市至今</td>
        <td>下一交易日盘前8:05更新</td>
    </tr>
    <tr>
        <td>期权行权交收信息</td>
        <td>上市至今</td>
        <td>每日10:45更新</td>
    </tr>
    <tr>
        <td><strong>债券数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>债券基本信息</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>债券票面利率</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>国债逆回购日行情数据</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>可转债基本资料</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>可转债转股价格调整</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>可转债日行情</td>
        <td>2018-09-13至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td>可转债分钟日行情</td>
        <td>2019年至今</td>
        <td>盘后15点更新</td>
    </tr>
    <tr>
        <td>可转债每日转股统计</td>
        <td>2000-7-12至今</td>
        <td>下一交易日 8:30、12：30更新</td>
    </tr>
    <tr>
        <td>债券付息事件</td>
        <td>上市至今</td>
        <td>每日19：00、22:00更新</td>
    </tr>
    <tr>
        <td><strong>宏观经济数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>国民经济</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>保险业</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>人民生活</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>人口</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>国内贸易</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>就业与工资</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>资源环境</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>房地产行业</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>财政政策</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>固定资产投资</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>对外经济贸易</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>景气指数</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>工业</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>农林牧渔业</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td>金融业</td>
        <td>统计局统计开始至今</td>
        <td>交易日盘前8：30之前更新</td>
    </tr>
    <tr>
        <td><strong>舆情数据</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>新闻联播文本数据</td>
        <td>2009年6月至今</td>
        <td>每日21:30前更新</td>
    </tr>
    <tr>
        <td><strong>聚宽因子库</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>质量因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td>基础因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td>情绪因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td>成长因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td>风险因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td>每股因子</td>
        <td>2005年至今</td>
        <td>下一自然日5:00、8:00更新</td>
    </tr>
    <tr>
        <td><strong>Alpha特色因子</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>Alpha101因子</td>
        <td>2005至今</td>
        <td>次日08:00更新</td>
    </tr>
    <tr>
        <td>Alpha191因子</td>
        <td>2005至今</td>
        <td>次日08:00更新</td>
    </tr>
    <tr>
        <td><strong>技术指标因子</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>超买超卖型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>趋势型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>能量型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>成交量型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>均线型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>路径型技术指标</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td>其他</td>
        <td>2005至今</td>
        <td>根据传入的参数实时计算</td>
    </tr>
    <tr>
        <td><strong>tick快照数据（仅限机构用户)</strong></td>
        <td><strong>时间范围</strong></td>
        <td><strong>更新频率</strong></td>
    </tr>
    <tr>
        <td>沪深A股tick数据</td>
        <td>2010-01-01至今</td>
        <td>盘后更新历史tick，提供买卖五档数据</td>
    </tr>
    <tr>
        <td>金融期货和商品期货tick数据</td>
        <td>2010-01-01至今</td>
        <td>盘后更新历史tick，提供买卖一档数据</td>
    </tr>
    <tr>
        <td>上证ETF期权tick数据</td>
        <td>2017-01-01至今</td>
        <td>盘后更新历史tick，提供买卖五档数据</td>
    </tr>
    <tr>
        <td>商品期权tick数据</td>
        <td>2019-12-02至今</td>
        <td>盘后更新历史tick，提供买卖一档数据</td>
    </tr>
    <tr>
        <td>场内基金tick数据</td>
        <td>2019-01-01至今</td>
        <td>盘后更新历史tick，提供买卖五档数据</td>
    </tr>
    <tr>
        <td>指数tick数据</td>
        <td>2017-01-01至今</td>
        <td>盘后更新历史tick，提供买卖一档数据</td>
    </tr>
</tbody></table>
<p><strong>说明</strong>：  </p>
<ul>
<li>有关财务数据更新：一般是这样的情况，譬如财报公布的发布日期是date，实际上一般会在date前一个交易日的晚上发布出来，我们程序也会在date前一天晚上和date这天早上更新财报；</li>
<li>期货结算价更新时间：17:00后；</li>
</ul></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="为什么选择JQData"></span>为什么选择JQData</label>
      <label> JQData的优势</label>
      <article style="display: block; height: 517.469px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li><p><strong>本地使用</strong>：JQData避免了各个量化平台的限制，适用于Windows，Mac，Linux多种操作系统，用户只需三行Python代码即可完成本地安装和调用，帮助您实现一整套本地化部署的量化投资研究。（支持Python2和Python3）</p></li>
<li><p><strong>易于量化</strong>：JQData在设计过程中，聚宽团队基于量化行业专业知识及对投研的经验，对数据进行清洗及整理，使数据更能适用量化的研究习惯，并进一步赋能数据在本地投研的可行性及便利性。</p></li>
<li><p><strong>调用方便</strong>：在JQData里，不同品种同一属性的数据用同一个接口就能获取，例如，使用get_price就能获取所有股票，基金，指数，期货的行情数据，从而大大减少用户的学习成本，代码也更加简洁；与之相反，大部分传统数据商提供的数据分散在不同的数据表中，需要用户自己来回查找。</p></li>
<li><p><strong>JQData精准度介绍</strong>：截至目前，聚宽自营基金管理规模已达百亿，使用聚宽数据（详情见文末介绍），一创聚宽平台交易验证，其精准度满足交易需求。聚宽数据团队研发了数据监控系统和多数据源比对系统，通过一整套系统化的机制保证数据的准确性。另外，我们还提供了指定日期参数，杜绝未来数据。</p></li>
<li><p><strong>JQData稳定性介绍</strong>：JQData采用与聚宽官网一致的账户校验系统，登录账号即可使用。提供独立的数据服务，采用负载均衡、高可用服务架构，配备完善的灾备体系，保证业务系统24小时不中断，并支持海量用户同时在线。数据传输方面，采用RPC协议传输，并压缩成特有数据格式，减少传输数据量，更加节省带宽。</p></li>
</ul></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="商务合作"></span>商务合作</label>
      <label>微信：JQData02/ 邮件：jqdatasdk@joinquant.com</label>
      <article style="display: block; height: 114.375px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>聚宽作为国内领先的量化平台，欢迎数据行业的各位同仁，和我们共同构建起一整套领先的量化分析数据体系，如贵公司有这方面的数据资源和合作意向，，请添加管理员微信：<strong>JQData02</strong>，或发送邮件至<strong>jqdatasdk@joinquant.com</strong>说明合作意向，欢迎加入聚宽JQData。</p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="版本信息"></span>版本信息</label>
      <label> 版本信息</label>
      <article style="display: block; height: 63.1875px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>【最新版本信息】：https://gitee.com/joinquant/jqdatasdk/graph/master</li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="关于JQData、jqdatasdk和jqdata"></span>关于JQData、jqdatasdk 和 jqdata</label>
      <label>三者的区别</label>
      <article style="display: block; height: 157.562px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li><p>JQData，即jqdatasdk，指的是聚宽数据出品的本地量化数据接口，需要本地python环境内使用，
具体方法见JQData的API：
【sdk版本API文档】：https://www.joinquant.com/help/api/help?name=JQData</p></li>
<li><p>jqdata：只有在官网环境下才能调用（登录官网在研究环境下使用的包）
步骤：import jqdata 或 from jqdata import ,
具体使用方法见官网API：https://www.joinquant.com/help/api/help?name=api</p></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


  </div>
</section>
<h3 id="试用和购买">试用和购买</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="如何开通JQData"></span>如何开通JQData</label>
      <label>申请试用</label>
      <article style="display: block; height: 1711.75px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>申请试用账号</strong>：
JQData由聚宽团队专门维护清洗，为金融机构、学术团体和量化研究者们提供的本地量化金融数据服务。
数据产品不仅对外服务，同时服务于聚宽所有业务线，历经平台40万用户、基金百亿资产、每年万亿交易额的考验。本着推动量化行业快速发展的良好愿景，JQData现已开放注册。需要试用JQData的用户只需<a href="https://www.joinquant.com/default/index/sdk#jq-sdk-apply">提交试用申请&gt;&gt;&gt;</a>，即可获取有效时长为<strong>3个月</strong>的试用账号。试用账号在试用期间可限时免费调用JQData的部分基础数据，具体试用权限如下表所示。（注：<strong>JQData基础数据包含沪深A股行情数据，上市公司财务数据，指数数据，场内基金数据，期货数据和宏观经济数据等多类数据</strong>）
如果数据流量不够用或者需要因子和特色数据，可以付费开通正式账号。<a href="https://www.joinquant.com/help/api/help#JQData:%E5%A6%82%E4%BD%95%E8%B4%AD%E4%B9%B0JQData">如何开通正式账号&gt;&gt;&gt;</a></p>
<table cellspacing="0" cellpadding="0">
</table>
<table border="10" cellpadding="0" cellspacing="0" width="1393" height="1165">
    <tbody>
        <tr style="background:rgb(153,153,153)">
            <td width="120" style="text-align:center;">
            </td>
            <td width="253" style="text-align:center;">
            </td>

            <td width="280" style="text-align:center;">
                普通试用账号
            </td>
            <td width="209" style="text-align:center;">
                <strong>正式账号</strong>
            </td>
            <td width="157" style="text-align:center;">
                金融机构特色试用权限
            </td>
        </tr>
        <tr>
            <td rowspan="6" width="120" align="center">
                账号功能
            </td>
            <td width="253" style="text-align:center;">
                数据种类&amp;可用时间范围
            </td>


            <td width="280" style="text-align:center;">
                基础数据
            </td>
            <td width="209" style="text-align:center;">
                <strong>按需采买</strong>
            </td>
            <td rowspan="5" width="157" style="text-align:center; style=" text-align:center;="" vertical-align:middle""="">
                按需申请
            </td>
        </tr>
        <tr>
            <td style="text-align:center;">
                有效期
            </td>


            <td style="text-align:center;">
                3个月
            </td>
            <td style="text-align:center;">
                <strong>1年</strong>
            </td>
        </tr>
        <tr>
            <td style="text-align:center;">
                连接数（auth lisense）
            </td>

            <td style="text-align:center;">
                1
            </td>
            <td style="text-align:center;">
                <strong>1/3</strong>
            </td>
        </tr>
        <tr>
            <td style="text-align:center;">
                每日可用流量（总和）
            </td>

            <td style="text-align:center;">
                50万
            </td>
            <td style="text-align:center;">
                <strong>100万/20000万</strong>
            </td>
        </tr>
        <tr>
            <td style="text-align:center;">
                行情数据频度
            </td>

            <td style="text-align:center;">
                日频、分钟
            </td>
            <td style="text-align:center;">
                <strong>日频、分钟、Tick</strong>
            </td>
        </tr>
        <tr>
            <td style="text-align:center;">
                数据获取形式
            </td>

            <td style="text-align:center;">
                API接口
            </td>
            <td style="text-align:center;">
                <strong>API接口</strong>
            </td>
            <td style="text-align:center;">
                API接口
            </td>
        </tr>
        <tr>
            <td rowspan="21" width="120" align="center" valign="middle" style="text-align:center; vertical-align:middle">
                数据种类
            </td>
            <td rowspan="10" width="253" align="center" valign="middle" style="text-align:center; vertical-align:middle">
                基础数据
            </td>
            <td width="342" style="text-align:center;">
                沪深A股数据
            </td>

            <td width="280" style="text-align:center;">
                <strong>沪深A股数据</strong>
            </td>
            <td rowspan="21" width="209" align="center" valign="middle">
            <p>微信联系JQData02</p>
            <p>递交名片资料后可申请特色试用权限 </p></td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                期货数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>期货数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                上市公司财务数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>上市公司财务数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                债券数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>债券数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                指数数据
            </td>
            <td width="280" style="text-align:center;">
                <strong>指数数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                场内基金数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>场内基金数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                场外基金数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>场外基金数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                可转债数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>可转债数据</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
                宏观经济数据（首次调用后，限时体验14天）
            </td>
            <td width="280" style="text-align:center;">
                <strong>宏观经济数据</strong>
            </td>
        </tr>
        <tr>

            <td style="text-align:center;">
                舆情数据（首次调用后，限时体验14天）
            </td>
            <td style="text-align:center;">
                <strong>舆情数据</strong>
            </td>
        </tr>
        <tr>
            <td rowspan="11" width="253" style="text-align:center; vertical-align:middle">
                特色数据
            </td>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>聚宽因子库</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>Alpha191</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>Alpha101</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>技术指标因子</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>沪深A股tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>
            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>商品期货tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>金融期货tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>金融期权tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>

            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>商品期权tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>
            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>场内基金tick数据（机构专用）</strong>
            </td>
        </tr>
        <tr>
            <td width="342" style="text-align:center;">
            </td>
            <td width="280" style="text-align:center;">
                <strong>指数tick数据（机构专用）</strong>
            </td>
        </tr>
    </tbody>
</table></article>
<div class="group">
      <label><span id="如何购买JQData"></span>如何购买JQData</label>
      <label>开通正式账号</label>
      <article style="display: block; height: 157.562px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>开通正式账号</strong>：</p>
<p>开通正式账号： 如果您觉得每天50万条的数据不够用，或者需要使用更多的数据，或者想要<strong>延期</strong>，可以<strong>购买</strong>本地数据套餐，<strong>选择套餐升级后每天可调用100万条或2亿条数据</strong>，详情请与我们的运营人员联系。（<strong>个人用户咨询【邮箱sunping@joinquant.com，机构服务咨询添加微信号JQData02</strong>）</p></article>
<span class="glyphicon glyphicon-triangle-top"></span></div>
<span class="glyphicon glyphicon-triangle-top"></span></div>
</div></section>
<h3 id="JQData安装、登陆及流量查询">JQData 安装、登陆及流量查询</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">


<div class="group">
      <label><span id="如何安装使用JQData"></span>如何安装使用JQData</label>
      <label>安装/升级/使用jqdatasdk包</label>
      <article style="display: block; height: 1006.77px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>开通权限后，您可以在本地安装和使用JQData。<strong>Python用户请按以下教程安装使用，</strong>如在使用中遇到问题，还可以联系官网在线客服或在<a href="https://www.joinquant.com/view/community/list?listType=2&amp;keyword=&amp;type=isNew&amp;tags=">社区问答板块留言</a>，有专门的技术顾问跟进。</p>
<ul>
<li><strong>安装JQData</strong>：
如您本地已有python环境，打开本地cmd终端或Mac终端，将路径切换到python目录下，直接使用pip语法即可安装。在安装中出现任何问题，可查看<a href="https://www.joinquant.com/post/12479?tag=algorithm">JQData安装教程</a>，内有详细解答。</li>
</ul>
<pre><code class="hljs mipsasm">  pip <span class="hljs-keyword">install </span><span class="hljs-keyword">jqdatasdk
</span></code></pre>
<ul>
<li><strong>升级JQData</strong>：JQData预计每2周会发布一次迭代版本，增加更多维度的基础数据以及因子类数据，已有python环境的用户可以使用如下语句完成升级：</li>
</ul>
<pre><code class="python language-python hljs">  pip install -U jqdatasdk
</code></pre>
<p>windows用户可以直接点击<a href="https://www.joinquant.com/jqdatasdk/download/win64">新版本链接</a>下载安装。或打开cmd终端，切换到JQData所在路径下，通过下述语句升级到最新版本。</p>
<pre><code class="python language-python hljs">  C:\JQData&gt;python.exe -m pip install jqdatasdk
</code></pre>
<ul>
<li><strong>登录JQData</strong>：安装完成后，导入JQData，并认证用户身份。认证完毕显示“auth success”后即可使用，认证步骤如下：</li>
</ul>
<pre><code class="python language-python hljs">  <span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
  auth(<span class="hljs-string">'账号'</span>,<span class="hljs-string">'密码'</span>) <span class="hljs-comment">#账号是申请时所填写的手机号；密码为聚宽官网登录密码</span>
</code></pre>
<ul>
<li><p><strong>调用数据</strong>：详见下一步任务[登录JQData]</p></li>
<li><p><strong>每天可访问数据条数</strong>：由于用户访问数据会给服务器造成一定的压力，JQData开放给试用账号的每天可访问数据为50万条，基本上能够满足大部分用户的需要；如需更多的访问条数，<strong>您可以付费升级为正式账号，我们将为您开放每天2亿条数据的访问权限</strong>。<strong>个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong>&amp;。</p></li>
<li><p><strong>因子数据和特色数据</strong>：如果您还想使用Alpha特色因子，技术指标因子，tick数据，您可以将账号升级到正式版、标准版或专业版，详情请联系我们的运营同事。<strong>个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong>。</p></li>
<li><p><strong>问题反馈和其他数据需求</strong>：如果您在使用JQData的过程中遇到问题，或者希望JQData能够加入更多的数据，请您通过<a href="https://www.joinquant.com/community">社区提问</a>的方式或者联系官网右下角的在线客服。</p></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="登录JQData"></span>登录JQData</label>
      <label>登录JQData</label>
      <article style="display: block; height: 253.852px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>打开代码编辑器（第三方编辑器请指定运行环境为已安装JQData的Python环境），输入如下代码认证用户身份。认证完毕后显示“auth success”即可开始调用数据，认证步骤如下：</p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
auth(<span class="hljs-string">'ID'</span>,<span class="hljs-string">'Password'</span>) <span class="hljs-comment">#ID是申请时所填写的手机号；Password为聚宽官网登录密码</span>
</code></pre>
<p><strong>注：</strong>JQData支持开启一个连接数，即登录一次账号算一个连接；如遇到连接数超限情况，可使用<strong>logout()</strong>函数退出已有连接后再开启新的连接。</p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_query_count"></span>get_query_count</label>
      <label>查询当日剩余可调用条数</label>
<article style="display: block; height: 696.539px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_query_count()
</code></pre>
<p>描述：查看当日剩余可调用条数，试用账号默认是每日50万条；正式账号是每日2亿条。<br>
说明：<strong>一行表示一条，如下图；如果不确定的话，可以在调用前后分别查询下可调用条数</strong><br>
<img src="./JQData使用说明 - JoinQuant_files/4dee2952abb2bf6a75ba3fedae3d5da2" alt="img"></p>
<p><strong>返回</strong></p>
<p>一个dict，字段说明如下：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>total</td>
<td>当日可调用数据总条数</td>
</tr>
<tr>
<td>spare</td>
<td>当日剩余可调用条数</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询当日剩余可调用数据条数</span>
count=get_query_count()
print(count)

&gt;&gt;&gt;{<span class="hljs-string">'total'</span>: <span class="hljs-number">1000000</span>,<span class="hljs-string">'spare'</span>: <span class="hljs-number">996927</span>}
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h2 id="JQData用户协议">JQData用户协议</h2>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label>JQData用户协议  <span id="JQData用户协议 "></span> </label>
      <label> JQData用户协议</label>
      <article style="display: block; height: 2281.78px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>聚宽JQData用户使用协议（以下简称“本协议”）由北京小龙虾科技有限公司（以下简称“公司”）与聚宽JQData用户（以下简称“用户”或“您”）签订。当您在聚宽JQData相关的网络页面，软件客户端等点击确认接受本协议，或按照本协议约定的方式实际使用聚宽JQData的服务即意味着您同意接受本协议条款的约束。</p>
<p><strong>公司郑重通知用户，根据国家的相关法律规定，用户应当使用本人真实身份信息在聚宽JQData相关的网络页面，软件客户端注册账号并按照本协议的约定使用聚宽JQData数据。账号仅限本人使用，用户不得将本人账号交于他人使用，或将使用本人账号获取的聚宽JQData数据交给第三方使用。单人只允许注册一个账号。一台设备仅支持一个账号使用。违反上述规定的，公司有权在不提前通知用户的前提下终止用户使用聚宽JQData数据的权利，包括但不局限于封禁用户的账号，禁止用户使用的终端接入聚宽JQData数据服务。</strong></p>
<p><strong>第一条 定义</strong></p>
<p>1.1 “聚宽JQData”是公司根据来源于上海证券交易所，深圳证券交易所，第三方数据提供商以及市场上其他公开可得的原始数据，经过公司专业的字段设计和数据整理生成。</p>
<p><strong>第二条 聚宽JQData数据使用方式</strong></p>
<p>2.1 用户通过公司提供的试用申请、付费购买两种渠道获得试用或者正式的聚宽JQData使用授权通知后，方可使用聚宽JQData数据。</p>
<p>2.2 用户只能在公司授权的使用范围内使用聚宽JQData数据，包括但不限于使用期限，数据品种，时间范围，调用条数限制等。</p>
<p>2.3 聚宽JQData的使用方式详见公司在聚宽量化平台官网（<a href="https://www.joinquant.com/">https://www.joinquant.com</a>）发布的聚宽JQData数据说明页。用户有任何问题可以通过聚宽社区，邮件等渠道向公司反馈，聚宽JQData使用方法的最终解释权归公司所有。</p>
<p><strong>第三条 授权内容</strong></p>
<p>3.1 公司基于证券市场的发展，在用户使用聚宽JQData期间，对聚宽JQData数据保有不断更新和调整的权利。</p>
<p>3.2 未经公司事先书面许可，用户不得将聚宽JQData及其相关技术文档、信息资料提供给第三方，或用于本协议下约定之外的目的。</p>
<p><strong>第四条 知识产权</strong></p>
<p>4.1 公司所用于生产聚宽JQData的原始数据来源于上海证券交易所，深圳证券交易所，第三方数据提供商以及市场上其他公开可得的数据，经过公司专业的字段设计和数据整理，新生成的聚宽JQData数据的知识产权归公司所有，就公司合理所知，其授权用户使用的前述权利不侵犯任何第三方的商标权，著作权或专利权等知识产权权利。</p>
<p>4.2 未经公司书面许可，用户不得在其产品或宣传媒介上使用公司及其产品的文字和标识图片。公司与用户之间若有联合运营或推广的需要，具体授权将单独协商并另行签署协议予以约定。</p>
<p><strong>第五条 用户责任</strong></p>
<p>5.1 用户承诺使用聚宽JQData的数据或利用JQData数据加工之后的数据，只做研究目的使用，不用作商业目的和商业用途。</p>
<p>5.2 用户确保在使用聚宽JQData的过程中相关操作的合法性，不侵犯任何第三者的合法权益，包括但不限于著作权、商标权、专利权等；不会违反任何法律、法规、条例或规章。因为用户不当使用聚宽JQData对第三者权益造成损害的，由用户承担全部赔偿责任。</p>
<p>5.3 聚宽JQData为公司版权所有，用户不得对其进行盗用、反编译、恶意攻击及其它任何危害公司及其他聚宽JQData用户安全与权益的行为。</p>
<p><strong>第六条 保密条款</strong></p>
<p>6.1 在本协议有效期内及协议终止后永久期限，用户应对使用期间所产生的任何帐号、密码、文件、信息和数据（统称为“保密信息”）采取保密措施，未经公司同意，不得将保密信息以任何方式泄露给第三方。</p>
<p><strong>第七条 违约责任</strong></p>
<p>7.1 用户违反本协议所约定的义务，公司有权在不通知用户的情况下立即终止用户使用聚宽JQData的权利。同时，用户为使用聚宽JQData已经支付的使用费用将不予退还。</p>
<p>7.2 用户违反协议所约定的义务给公司及第三方造成损失的，应当承担赔偿责任。</p>
<p><strong>第八条 免责条款</strong></p>
<p>8.1 公司本着专业精神授权用户使用聚宽JQData，但难免会因为数据源问题、技术原因和人为疏漏导致更新延迟，缺失，错误及其他故障，公司对此并不承担任何责任；若用户发现上述问题并反馈给公司，公司会采取一切必要措施以确保聚宽JQData提供数据的准确性。</p>
<p>8.2 如发生下述任一情况而导致用户损失的，公司不承担责任： 
（1）发生不可抗力情形的； 
（2）黑客攻击、计算机病毒侵入或发作的； 
（3）聚宽JQData的硬件系统遭到破坏、瘫痪或无法正常使用的； 
（4）网络运营商技术调整的； 
（5）因政府管制而造成暂时性关闭的； 
（6）其它非因公司的过错而引起的。</p>
<p><strong>第九条 协议的生效</strong></p>
<p>9.1 用户按照本协议约定的方式确认接受本协议条款后本协议生效，有效期为一年，到期如双方均无异议或用户继续按照本协议约定使用聚宽JQData，则本协议以一年为期自动向后延续。</p>
<p><strong>第十条 法律适用</strong></p>
<p>10.1 本协议由中华人民共和国法律所约束和管辖。</p>
<p><strong>第十一条 争议解决</strong></p>
<p>11.1 凡因本协议引起的或与本协议有关的任何争议，双方首先应友好协商解决，协商不成的均应提交公司所在地有管辖权的法院通过诉讼解决。</p>
<p><strong>第十二条 附则</strong></p>
<p>12.1 在本协议有效期内，公司有权对本协议的内容进行修改。经修改的协议通过聚宽量化交易平台网页公告、用户注册账户时提供的电子邮件、手机短信或常规的信件传送等方式向用户发出通知，该等通知在发送时即视为已送达用户。用户在收到上述通知后继续使用聚宽JQData，视为接受修订后的协议。</p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h2 id="JQData常见报错及数据处理规则">JQData常见报错及数据处理规则</h2>

<h3 id="JQData常见报错">JQData常见报错</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
 <div class="body">

<div class="group">
      <label><span id="账号最多开启1个链接"></span>账号最多开启1个链接</label>
      <label>账号最多开启1个链接</label>
      <article style="display: block; height: 395.906px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>这是同时打开了多个链接造成的；每次auth之后会创建新的链接，是长连接的（thrift长连接）；使用logout()或者关闭进程后会断开；默认同时最多存在一个链接，如果A链接被创建，之后再在其他进程中创建B链接(也就是在其他进程中进行登录)，再次使用A链接去获取数据就会报这个错误。</li>
<li>对于多个链接的简单解释: 如果不了解进程的概念，可以这样简单的理解, 每个独立的cmd窗口是一个独立的进程，每个独立的jupyter也是一个独立的进程。</li>
<li>目前jqdatasdk不支持超过1个进程，不支持多线程；</li>
<li>建议每次获取数据不要超过10w条(防止进程假死)；</li>
<li>建议获取数据后使用logout()退出；</li>
<li>升级jqdatasdk到最新版本；</li>
<li>使用pycharm注意关闭 run with console 选项或者每次运行后关闭控制台界面(每个开启的控制台都相当于一个进程); 使用控制台时注意设置控制台变量加载策略为"按需" ，否则易引发多个链接及输出异常的问题</li>
<li>需要更多的链接数，可付费升级为正式账号，<strong>为了更高品质展开服务，个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="认证失败"></span>认证失败</label>
      <label>认证失败的原因</label>
      <article style="display: block; height: 114.375px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>先确定下有没有申请使用，申请后才可以使用；</li>
<li>检查下账号和密码是否正确，默认密码为聚宽官网的密码；</li>
<li>还有问题请联系下官网右下角在线客服咨询处理；</li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="TTransportException"></span>TTransportException</label>
      <label>常见报错解决方法</label>
      <article style="display: block; height: 302.594px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>JQData目前的服务器地址：39.107.190.114，端口号：7000</strong>
<img src="./JQData使用说明 - JoinQuant_files/d7adaaa1ac552700c4e457fefe558a31" alt="img"><br>
这个报错一般是由您网络问题造成的，常见解决方法如下:  </p>
<ul>
<li>检查下网络是否正常/稳定；</li>
<li>请检查下您是否使用代理或者网络被禁止了，目前不支持代理；</li>
<li>是否您公司对网络或者端口有限制；</li>
<li>尝试使用其他网络；</li>
<li>升级JQData至最新版本；</li>
<li>不建议高频的login和logout；</li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="JQData和官网不一致API对比"></span>JQData和官网不一致API对比</label>
      <label>JQData和官网不一致API对比</label>
      <article style="display: block; height: 1790.6px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>JQData和官网不一致API对比</strong></p>
<table>
    <tbody><tr>
        <td><strong>案例</strong></td>
        <td><strong>JQData（本地数据）</strong></td>
        <td><strong>jqdata</strong></td>
    </tr>
    <tr>
        <td>get_bars / get_ticks</td>
        <td>默认返回结果格式为DataFrame</td>
        <td>官网默认返回结果为ndarray</td>
    </tr>
    <tr>
        <td>复权基准日期，fq_ref_date</td>
        <td>默认为None，返回<strong>不复权数据</strong></td>
        <td>默认为None，返回<strong>复权基准日为当天</strong></td>
    </tr>
    <tr>
        <td>get_ticks</td>
        <td>security不支持股票列表</td>
        <td>security支持股票列表</td>
    </tr>
    <tr>
        <td>alpha101, alpha191的fq复权选项</td>
        <td><p>check_date的前复权计算并存储；</p><p>股票池是全部A股;</p></td>
        <td><p>复权有pre、None、post三种选择，是获取时计算的；</p><p>股票池可以自定义</p></td>
    </tr>
</tbody></table>
<p><strong>示例</strong></p>
<ul>
<li>get_bars / get_ticks返回结果（以get_bars为例）</li>
</ul>
<p>本地</p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取贵州茅台按天为周期以"2018-12-05"为基础往前5个交易日的数据</span>
df = get_bars(<span class="hljs-string">'600519.XSHG'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'1d'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
<span class="hljs-comment">#返回[pandas.DataFrame]</span>

         date    open    high     low   close
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>  <span class="hljs-number">550.85</span>  <span class="hljs-number">559.19</span>  <span class="hljs-number">545.50</span>  <span class="hljs-number">557.00</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>  <span class="hljs-number">566.03</span>  <span class="hljs-number">569.80</span>  <span class="hljs-number">549.01</span>  <span class="hljs-number">551.60</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span>  <span class="hljs-number">557.00</span>  <span class="hljs-number">568.89</span>  <span class="hljs-number">553.00</span>  <span class="hljs-number">565.00</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>  <span class="hljs-number">589.00</span>  <span class="hljs-number">605.00</span>  <span class="hljs-number">584.77</span>  <span class="hljs-number">601.20</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>  <span class="hljs-number">602.99</span>  <span class="hljs-number">604.26</span>  <span class="hljs-number">595.00</span>  <span class="hljs-number">602.23</span>
</code></pre>
官网<pre><code class="python language-python hljs"><span class="hljs-comment">#获取贵州茅台按天为周期以"2018-12-05"为基础往前5个交易日的数据</span>
df = get_bars(<span class="hljs-string">'600519.XSHG'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'1d'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
<span class="hljs-comment">#返回结果格式为[numpy.ndarray]</span>

[(<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>, <span class="hljs-number">536.55</span>, <span class="hljs-number">544.67</span>, <span class="hljs-number">531.33</span>, <span class="hljs-number">542.54</span>)
 (<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>, <span class="hljs-number">551.33</span>, <span class="hljs-number">555.0</span>, <span class="hljs-number">534.75</span>, <span class="hljs-number">537.28</span>)
 (<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span>, <span class="hljs-number">542.54</span>, <span class="hljs-number">554.12</span>, <span class="hljs-number">538.64</span>, <span class="hljs-number">550.33</span>)
 (<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>, <span class="hljs-number">573.7</span>, <span class="hljs-number">589.29</span>, <span class="hljs-number">569.58</span>, <span class="hljs-number">585.59</span>)
 (<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>, <span class="hljs-number">587.33</span>, <span class="hljs-number">588.57</span>, <span class="hljs-number">579.55</span>, <span class="hljs-number">586.59</span>)]
</code></pre><p></p>
<p><strong>get_ticks</strong></p>
<p>本地：目前不支持股票列表；</p>
<p>官网: 官网支持股票列表</p><pre><code class="python language-python hljs"><span class="hljs-comment"># 官网</span>
d = get_ticks([<span class="hljs-string">'000300.XSHG'</span>, <span class="hljs-string">'000001.XSHE'</span>],start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-string">"2018-07-03"</span>, count=<span class="hljs-number">3</span>)
print(d)
{<span class="hljs-string">'000300.XSHG'</span>: array([(<span class="hljs-number">20180702150000.0</span>, <span class="hljs-number">3407.98</span>, <span class="hljs-number">3510.84</span>, <span class="hljs-number">3383.73</span>, <span class="hljs-number">8392371200.0</span>, <span class="hljs-number">107100880896.0</span>),
       (<span class="hljs-number">20180702150003.0</span>, <span class="hljs-number">3407.98</span>, <span class="hljs-number">3510.84</span>, <span class="hljs-number">3383.73</span>, <span class="hljs-number">8435144800.0</span>, <span class="hljs-number">107601543168.0</span>),
       (<span class="hljs-number">20180702150051.0</span>, <span class="hljs-number">3407.96</span>, <span class="hljs-number">3510.84</span>, <span class="hljs-number">3383.73</span>, <span class="hljs-number">8435144800.0</span>, <span class="hljs-number">107601543168.0</span>)],
      dtype=(numpy.record, [(<span class="hljs-string">'time'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'current'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'high'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'low'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'volume'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'money'</span>, <span class="hljs-string">'&lt;f8'</span>)])), <span class="hljs-string">'000001.XSHE'</span>: array([(<span class="hljs-number">20180702145657.0</span>, <span class="hljs-number">8.62</span>, <span class="hljs-number">9.05</span>, <span class="hljs-number">8.56</span>, <span class="hljs-number">128485000.0</span>, <span class="hljs-number">1132138244.0</span>),
       (<span class="hljs-number">20180702145700.0</span>, <span class="hljs-number">8.62</span>, <span class="hljs-number">9.05</span>, <span class="hljs-number">8.56</span>, <span class="hljs-number">128514800.0</span>, <span class="hljs-number">1132395012.0</span>),
       (<span class="hljs-number">20180702150003.0</span>, <span class="hljs-number">8.61</span>, <span class="hljs-number">9.05</span>, <span class="hljs-number">8.56</span>, <span class="hljs-number">131552000.0</span>, <span class="hljs-number">1158545922.0</span>)],
      dtype=(numpy.record, [(<span class="hljs-string">'time'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'current'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'high'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'low'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'volume'</span>, <span class="hljs-string">'&lt;f8'</span>), (<span class="hljs-string">'money'</span>, <span class="hljs-string">'&lt;f8'</span>)]))}
<span class="hljs-number">1</span>
​)]))}
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="有关Pandas版本的说明"></span>有关Pandas版本的说明</label>
      <label>有关Pandas版本的说明</label>
      <article style="display: block; height: 228.578px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>Pandas不同版本间的兼容性较低，我们也在持续的优化适应Pandas的新特性，1.8.6及之后的版本支持pandas 0.25.3以上的版本。</li>
<li>如遇到类似 AttributeError: 'DataFrame' object has no attribute '_attrs' 的报错，可使用命令 <code class="hljs mipsasm">pip <span class="hljs-keyword">install </span><span class="hljs-keyword">jqdatasdk </span>-U</code>升级jqdatasdk至最新版本。</li>
<li>Pandas为0.25.0及以上时，受panel影响的接口(get_price, get_fundamentals_continuously等)，强制设置panel=False</li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="JQData教程"></span>JQData教程</label>
      <label>干货教程</label>
      <article style="display: block; height: 63.1875px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><a href="https://www.joinquant.com/view/community/detail/5aec0a5c04bb85854e2f4552239a9688">JQData | 教程集合帖-伙伴们贡献，不断更新</a></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>








</div>
</section>
<h3 id="数据处理规则">数据处理规则</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="行情数据"></span>行情数据</label>
       <label>不同数据源的差异/价量、复权等处理规则</label>
      <article style="display: block; height: 4705.88px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>1. 行情和其他数据源有差异 ?</strong></p>
<p>A:先确认是否对比的是同一种复权方式 , 我们默认返回前复权 , 对比的时候注意复权方式(价格及成交量都有进行复权处理)</p>
<p><strong>2. 采用同样的复权方式,历史价格还是不同？</strong></p>
<p>A:交易所并未提供复权数据,各数据商的复权数据都是自己计算的,都存在差异(可以对比一下不同平台000001的后复权数据就会发现差异)</p>
<p><strong>3. 为什么获取的涨停价为无限大，跌停价为0？</strong></p>
<p>A:这种情况，表明该股票在该日无涨跌停限制。无涨跌停限制的情况有很多，而且在不同的年份交易所的规定不同。比如增发股票、解除ST等情况。如果出现这种情况，您可以到巨潮网上查看具体的公告详情。如000863在2012-08-03无涨跌停限制，具体的公告见http://www.cninfo.com.cn/finalpage/2012-08-03/61363778.PDF</p>
<p><strong>4. 分钟数据的成交量及价格，为什么和别的数据提供平台不一样？</strong></p>
<p>A:交易所不提供分钟数据，只提供tick数据（不是分笔的），一个tick的bar的长度为3秒，然后数据提供商根据tick数据，自己制作分钟数据。由于交易所的行情分发机制，无法保障每个程序（或平台）读取到完全一致的数据所以产生了不同平台接收的tick并不完全相同。不同平台由于tick接收时间不同 , 以及分钟数据的切片规则等原因, 会造成分钟数据不一致的现象 , 比如有一条 14:00:00的tick,我们可能会纳入 14:00:00 至 14:01:00的bar , 但也有其他平台也可能会纳入 13:59:00到 14:00:00的bar , 总体来讲数据没有差异,只是划分不同 ,这样就造成了差异,您也可以自己提取tick数据并进行验证。</p>
<p><strong>5. 分钟数据合成的最高价等数据和天数据不一致</strong></p>
<p>A:这个是正常现象，但由于分钟数据和日数据都是是从tick数据合成的，而tick数据的快照截取时间，不同平台或许会有些许差别，从而出现分钟数据的最高价和最低价不完全一致。而对于日数据的最高价和最低价，是不存在这样的问题的<br>
不建议拿分钟行情和日行情进行最高价最低价，开盘价收盘价的比较，分钟行情都是根据tick自己生成的，譬如说如000001.XSHE 在2019-08-16的分钟数据，tick时间切片的时候没有切到current = 15.14 , 那么根据当前tick现价合成的分钟最高价就不是15.14了,而是15.09，当时日最高价是15.14。<br>
分钟行情的最高价是按照这一分钟所有tick的现价合成的最高价。  </p>
<p><img src="./JQData使用说明 - JoinQuant_files/3d221ea4892455afe6f140c23eff9d12" alt="Img"> </p>
<p><strong>6. 分钟数据的第一分钟/最后一分钟的开盘价/收盘价与天数据的收盘价/开盘价不统一?</strong></p>
<p>A:对于开盘价不一致：由于分钟行情是通过交易所tick按分钟进行合成，对于无成交的情况会使用上一分钟的收盘价作为该分钟的open和close进行填充；而日行情的开盘价由交易所直接下发，属当天第一笔成交价，如果当天第一笔成交价不是开盘第一分钟成交就会和分钟开盘价不同(如600007 2019-09-11), 和行情软件上的数据是一致的；  </p>
<p><img src="./JQData使用说明 - JoinQuant_files/6a233ae2162a4108821e9fb3d6f7bd8a" alt="Img"> </p>
<p>对于期货,还可能出现日行情收盘价和分钟收盘价不一致,期货交易所下发的日行情会在当天无成交的情况下在收盘后给一个特定的收盘价，这个收盘价就会和分钟收盘价出现不一致的现象。</p>
<p><strong>7. 有些股票成交量为0，但成交额不为0? 股票分钟成交量的加总不等于日行情的成交量?</strong></p>
<p>A:因数据储存的原因，目前历史分钟数据(非当天)的成交量会剔除不足一手的零散股,如果存在零散股会造成不一致的情况。</p>
<p><strong>8. 有关tick数据--tick 时间戳重复</strong></p>
<p>A:原始数据没有毫秒部分的数据，我们添加了毫秒部分，所以如果一秒钟出现多余2条数据，就会出现这种现象
一般来说是2条数据,刚好平分1秒钟里的0.5秒,但有时会接收到3条,就出现了重复的时间戳
处理的时候，如果有两个时间戳相同，我们会把第二个加上500毫秒</p>
<p><img src="./JQData使用说明 - JoinQuant_files/7d069d4aff53f966b97c89a887609dbb" alt="Img"> </p>
<p><strong>9.分钟数据，有的股票均价（或者成交额/成交量）超出了最高价或最低价?</strong></p>
<p>A: 我们依照行情软件的惯例，给出的分钟成交量单位是手（省略了碎股，一般小于1手），成交额单位是元，成交额是真实成交的数额，是没有省略碎股的交易额的，所以单纯以实际成交额 / 省略碎股的成交量， 这样算得的均价是略有偏差的。 </p>
<p><strong>10.为什么有的标的的行情数据全是Nan?</strong></p>
<p>A:(1).检查下标的的上市日期和退市日期.get_security_info('XXXXX').start_date / get_security_info('XXXXX').end_date  </p>
<p>(2).如果检查标的当时的确已上市且未退市,可能和长期停牌有关。目前我们的行情数据是自2005年开始的,如000638自2004年停牌到2009-06-04,因为找不到填充数据,所以在20019-06-04之前这只标的行情数据全为Nan。,类似的标的还有'600788.XSHG','000765.XSHE'，'300753.XSHE'</p>
<p><strong>11. 一些股票行情开始时间和其他软件不一样?</strong></p>
<p>A: 对于股票, 一般都是因股票代码变更(包括退市后重新上市), 如果股票发生代码变更，根据交易所建议,大部分变更前和后部分数据是独立的，需要根据对应的代码及时间查询；个别是直接覆盖的,涉及覆盖的代码有 : 000931/601607/601360/001979  </p>
<p>以下为整理的部分常见的股票代码变更记录   </p>
<table>
<thead>
<tr>
<th>原代码</th>
<th>原名称</th>
<th>原缩写</th>
<th>变更日期</th>
<th>新代码</th>
<th>新名称</th>
<th>新缩写</th>
</tr>
</thead>
<tbody>
<tr>
<td>000024.XSHE</td>
<td>招商地产</td>
<td>ZSDC</td>
<td>2015-12-30</td>
<td>001979.XSHE</td>
<td>招商蛇口</td>
<td>ZSSK</td>
</tr>
<tr>
<td>000527.XSHE</td>
<td>美的电器</td>
<td>MDDQ</td>
<td>2013-9-18</td>
<td>000333.XSHE</td>
<td>美的集团</td>
<td>MDJT</td>
</tr>
<tr>
<td>000562.XSHE</td>
<td>宏源证券</td>
<td>HYZQ</td>
<td>2015-1-26</td>
<td>000166.XSHE</td>
<td>申万宏源</td>
<td>SWHY</td>
</tr>
<tr>
<td>600849.XSHG</td>
<td>上药转换</td>
<td>SYZH</td>
<td>2010-3-8</td>
<td>601607.XSHG</td>
<td>上海医药</td>
<td>SHYY</td>
</tr>
<tr>
<td>601313.XSHG</td>
<td>江南嘉捷</td>
<td>JNJJ</td>
<td>2018-02-07</td>
<td>601360.XSHG</td>
<td>三六零</td>
<td>SLL</td>
</tr>
<tr>
<td>000043.XSHE</td>
<td>中航善达</td>
<td>ZHSD</td>
<td>2019-12-13</td>
<td>001914.XSHE</td>
<td>招商积余</td>
<td>ZSJY</td>
</tr>
<tr>
<td>000916.XSHE</td>
<td>华北高速</td>
<td>HBGS</td>
<td>2017-12-25</td>
<td>001965.XSHE</td>
<td>招商公路</td>
<td>ZSGL</td>
</tr>
<tr>
<td>300186.XSHE</td>
<td>大华农</td>
<td>DHN</td>
<td>2015-11-2</td>
<td>300498.XSHE</td>
<td>温氏股份</td>
<td>WSGF</td>
</tr>
<tr>
<td>600001.XSHG</td>
<td>邯郸钢铁</td>
<td>HDGT</td>
<td>2009-12-29</td>
<td>000709.XSHE</td>
<td>河钢股份</td>
<td>HGGF</td>
</tr>
<tr>
<td>600205.XSHG</td>
<td>S山东铝</td>
<td>SSDL</td>
<td>2007-4-30</td>
<td>601600.XSHG</td>
<td>中国铝业</td>
<td>ZGLY</td>
</tr>
<tr>
<td>600296.XSHG</td>
<td>S兰铝</td>
<td>SLL</td>
<td>2007-4-30</td>
<td>601600.XSHG</td>
<td>中国铝业</td>
<td>ZGLY</td>
</tr>
</tbody>
</table>
<p><strong>12. 许多指数行情/成分股的开始时间和交易软件不一样?</strong></p>
<p>A: 中证官网可以查看各个指数的 <a href="http://www.csindex.com.cn/zh-CN">编制方案</a>
交易软件上您看到的开始时间应该是补充了基日到支付发布日期之后的数据,而不是指数真正的发布日期。我们的数据以中证官网开始披露为准
相关帖子 https://www.joinquant.com/post/2058?replyId=14050#14050</p>
<p><strong>13. 为什么有些申万行业指数可以获取到未发布之前的行业行情数据?</strong></p>
<p>A:数据来自申万 , 和中证指数刚好相反,申万行业指数基本都以1999-12-31为基日,并提供了自基日开始的行情数据 , 是正常的(成分股是从发布日期后才有的)</p>
<p><strong>14. 为什么深成指指数的成交额与其他的软件相差那么大？</strong></p>
<p>A: 深成指的成分股数量为500，不是所有在深圳证券交易所上市的A股股票。其他的数据提供商，均将深证的所有A股的成交额之和作为深成指399001的当日成交额之和，而聚宽的深成值的成交额为其对应的成分股在当日的成交额之和。如果需要深圳所有标的成交额,请查询深证综合指数399106。
其他对应的指数：
399001-&gt;399106
399003-&gt;399108
399005-&gt;399101
399006-&gt;399102
399007-&gt;399344</p>
<p><strong>15. 创业板指的成交量与其它券商相差很大</strong></p>
<p>A:这个问题比较特殊，在深交所的查询该指数的数据查到了两个不同的成交额和成交量数据，一个和用户提到的其他券商的数据相符（见附件《深交所官网399006日线图》），另一个和我们的数据相符（见附件《深交所官网历史行情图》）。
经过分析，发现和用户提到的其他券商的数据相符的还有另一个指数，即创业板综指（399102.XSHE），行情数据见附件《深交所官网399102日线图》，由此可见，我们的数据没有问题，即为399006.XSHE实际的成交量和成交额，而交易所不知是什么原因，用399102.XSHE的成交量和成交额替换掉了399006.XSHE的数据，导致在深交所官网查询数据发现日线图数据和历史行情数据不一致。
综上所述，我们的399006.XSHE显示的是该指数的真实的成交量和成交额数据，而用户提到的券商的成交量和成交额数据是和深交所官网日线图保持一致的399102.XSHE的数据，两个数据虽然不一样，但都是正确的。</p>
<p><img src="./JQData使用说明 - JoinQuant_files/3f5923db0fda952d57eeb31c77b9af2e" alt="Img"> 
<img src="./JQData使用说明 - JoinQuant_files/beccff3d5b0c362fdef23bc742660273" alt="Img"> 
<img src="./JQData使用说明 - JoinQuant_files/a04b404778e834f2eec22dc4fc824087" alt="Img"></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




<div class="group">
      <label><span id="处理规则之财务数据"></span>财务数据</label>
       <label>不同数据源的差异/修改的财务数据、分红送股等处理规则</label>
      <article style="display: block; height: 3612.04px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>1. 为什么我在别的网站上查的财务指标和聚宽提供的财务指标数据不一致？</strong></p>
<p>A:注意区分单季度和报告期，一般财经网站上提供的财务指标数据都是上市公司披露的原始的报告期数据。上市公司公布财报分四种，一季度报、中期年度报、前三季度报、全年年报，统计的周期跨度分别为第一季度、前两个季度、前三个季度、全年，而聚宽考虑到量化分析，所以提供了单季度财务数据(get_fundamentals接口)此接口获取到的财务指标数据全是单季度的(除过statDate指定为年度时)。所以因为财报的统计周期不同，导致了一些指标上的不一致。如果想要获取报告期数据,可以使用finance.run_query调用报告期数据 ; 如果大家想对比别的网站的单季度统计数值，可以到同花顺上查看，如 http://stockpage.10jqka.com.cn/000759/finance/#finance ，然后选择按单季度统计，如下图。</p>
<p><img src="./JQData使用说明 - JoinQuant_files/2029031e942c8ff3c0ce81302994ffe9" alt="Img"> </p>
<p>相关帖子：
https://www.joinquant.com/post/2746?replyId=16660#16660
https://www.joinquant.com/post/2654?replyId=16302#16302
报告期和单季度财务数据查询示例及验证对比可以查看这篇帖子 : https://www.joinquant.com/view/community/detail/20424</p>
<p><strong>2. 为什么按单季度统计后，净利润还是和同花顺的净利润不同？</strong></p>
<p>A:同花顺的净利润其实是归属母公司股东的净利润，我们提供的净利润指标就是净利润。还有一些其他指标,可能是统计口径不一致的问题,如果对比有差异,可以多对比几家。</p>
<p><strong>3. 报告期数据中为什么有"重复的数据"？</strong></p>
<p>A:您指的"重复的数据"应该指的是公司披露本季度财务数据同时披露的往期的财务数据 , 一般为去年同期,抑或有对之前披露的财务信息进行修正,(上市公告书,招募说明书中会披露过去近几年的财务数据,可以使用source_id字段进行判断)。 可以使用end_date(统计截止日期) 和 report_type ( 0：本期，1：非本期,一般为上年同期 ) 进行区分和过滤。</p>
<p><img src="./JQData使用说明 - JoinQuant_files/0018acf7ef81d5cfb8a2c123b8bf9674" alt="Img"> </p>
<p>例如300080在2020-04-29发布的2019Q1数据修改了2019-04-26 发布的2019Q1数据</p><pre><code class="hljs reasonml">from jqdata import<span class="hljs-operator"> *
</span>q = query(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>company_name, 
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>code, 
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>pub_date, 
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>start_date, 
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>end_date, 
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>total_operating_revenue, 
          finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>report_type,
          finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>report_date,
finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>np_parent_company_owners).filter( 
    finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>code<span class="hljs-operator"> == </span>'<span class="hljs-number">300080.</span>XSHE', 
    finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>end_date<span class="hljs-operator"> == </span>'<span class="hljs-number">2019</span>-<span class="hljs-number">03</span>-<span class="hljs-number">31</span>', 
#     finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>report_type<span class="hljs-operator"> == </span><span class="hljs-number">1</span>
    ).limit(<span class="hljs-number">200</span>) 
df = finance.run<span class="hljs-constructor">_query(<span class="hljs-params">q</span>)</span> 
df.sort<span class="hljs-constructor">_values(<span class="hljs-params">by</span>=['<span class="hljs-params">pub_date</span>'], <span class="hljs-params">ascending</span>=False)</span>
</code></pre>
<img src="./JQData使用说明 - JoinQuant_files/d74e0e3cd6f34cd6a2c86f7453a756c9" alt=""><p></p>
<p><img src="./JQData使用说明 - JoinQuant_files/85e334de38874743963071d23a1637c5" alt="Img"> </p>
<p><strong>4. 上市公司的财报如果后来有修改（修正），请问是怎么处理的？get_fundamentals是怎么处理有修改的财务数据。有的使用修复前的，有的使用修改后的？</strong></p>
<p>A:（1）上市公司财报更新前和更新后的数据，为了避免未来函数（当前时间取到未来数据），理论上要保留同一报告期的所有版本，目前受数据源的限制，这块处理规则是按最新更新的（部分比较久远的数据可能会用第一个版本）；
（2）公司新发布一期财报，一般同时会给出上一年度同期的调整财报，对于这种情况相隔时间较久的情况（半年以上），我们单季度数据一般不再对老的财报进行更新；而有时候，公司会在短期内（半年内或者1个月内）对前段时间更新的财报进行修正， 这种情况我们单季度数据也会采用修正后的财报；
（3）上面的规则主要是针对单季度财务数据的，报告期财务数据中,如果公司是在之后的某一季度修正的财报,那么数据都是有的</p>
<p><strong>5. 某公司公布相关财报后，聚宽什么时候将其更新到线上？</strong></p>
<p>A:单季度财务数据目前每个交易日盘后更新,数据中的pubDate对应公告日期,一般在公告日期当晚可以拿到,最晚第二天凌晨
报告期数据一般在公告日期当天就可以拿到,略快于单季度数据 ,不同数据源更新进度可能不一致 , 选择合适的进行查询就可以了</p>
<p><strong>6. 单季度数据中上市之前的财报为什么没有？</strong></p>
<p>A:上市之前的财报(不包括上市公告书等)，不受证监会的监督约束，无法保证数据正确，而且对股票市场的股价影响波动很小，而上市公告书中只披露年度数据, 无法计算出完整的单季度数据 。 所以单季度只提供公司上市后发布的财务报表。公司上市时会同时披露前两到三年的年度数据,所以在报告期数据中可以查找到。</p>
<p><strong>7. 单季度数据中,个别标的有些指标有,有些指标没有?</strong></p>
<p>A:和公司披露的财报有关,属于自然缺失如果根据公司已披露的财务数据无法计算出该项指标时,那么此项指标为Nan,比如在2019-07-24时,获取不到688001的roe,但是可以获取到688388的roe(这两个标的都是同一天上市的新股) 如 688388 ,有披露前四个季度的"归属于母公司所有者的净利润" ,所以roe有数据
http://stockpage.10jqka.com.cn/688388/finance/#finance
如 688001 缺少 2018q4的 "归属于母公司所有者的净利润" ,所以没roe数据http://stockpage.10jqka.com.cn/688001/finance/#finance</p>
<p><strong>8. 为什么一些股票查询不到财务数据?</strong></p>
<p>A: 检查一下标的在查询的日期是否处于上市状态,单季度数据只维护上市后披露的
另外对于股票代码变更的原因 ,因数据源原因可能需要使用变更后的代码进行查询,参考 "行情数据 - 一些股票行情开始时间和其他软件不一样? "</p>
<p><strong>9. 使用get_fundamentals的date参数或者 get_fundamentals_continuously 查询单季度数据时,会出现从某个季度直接跳到下下一个季度的情况 ?</strong></p>
<p>A: 上述方法查询的是某天所能看到的最新一期的财报,如上市公司在同一天披露了两份报表,如600507在2017-04-22同时披露了2016年报和2017年第一季度报 ,在2017-04-21看到的最新一期2016q3的数据,在2017-04-22看到的最新一期报表是2017q1 , 2016q4的数据不是缺失,而是应该通过get_fundamentals的statDate参数去查询。</p>
<p><strong>10. STK_XR_XD 分红送股数据是怎么更新的?</strong></p>
<p>A : STK_XR_XD 表以报告期为维度,每个报告期为一条数据(特别分红等可以看作额外的报告期),其中report_date和bonus_type对应,
一般为中期分红和年度分红;也存在季度分红,特别分红等。
分红送股信息的流程一般为 : 董事会预案--&gt;股东大会预案--&gt;实施方案公告 , 进度对应的字段会随着对应进度的公告数据及时更新 , 进度未产生时对应的字段为空 , 如果在某一进度取消分红,bonus_cancel_pub_date及plan_progress等会有相关更新进行说明。
如果要获取最新的,已确认进行实施分红的可以根据除权除息日(a_xr_date)进行排序筛选,而不是report_date。
如</p><pre><code class="hljs stylus">from jqdata import finance
finance.run_query(query(finance.STK_XR_XD).<span class="hljs-attribute">filter</span>(
    finance<span class="hljs-selector-class">.STK_XR_XD</span><span class="hljs-selector-class">.a_xr_date</span>&lt; =<span class="hljs-string">"2019-10-23"</span>
            ).order_by(
            finance<span class="hljs-selector-class">.STK_XR_XD</span><span class="hljs-selector-class">.a_xr_date</span><span class="hljs-selector-class">.desc</span>()))
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="指数/行业成分股问题"></span>指数/行业成分股</label>
       <label>指数的常见问题</label>
      <article style="display: block; height: 544.656px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>1. 为什么000001上证指数和000002A股指数的成分股完全相同?</strong></p>
<p>A: 000001是上证指数，包含上交所注册的A股和B股，000002是A股指数，只包含上交所A股,理论上000002+所有上交所B股的数量应该等于000001的成分股数量,但目前我们未提供B股数据,所以成分股完全一致。<a href="http://www.csindex.com.cn/zh-CN/indices/index-detail/000002">点击可以查看中证官网A股指数编制方案</a></p>
<p><strong>2. 为什么有些证监会行业概念的成分股为0？</strong></p>
<p>有可能出现这种现象，可以到 http://www.csrc.gov.cn/pub/newsite/scb/ssgshyfljg/ 证监会官网上去确认一下。</p>
<p><strong>3. 为什么有些股票查不到一些日期的指数/行业/概念成分股划分 ?</strong></p>
<p>一般和股票更换代码有关 , 参考 "行情数据 - 一些股票行情开始时间和其他软件不一样? "
此类数据因数据源关系, 许多变更代码的标的都是用新代码直接覆盖原代码的,因此需要使用新代码做适当处理</p>
<p><strong>4. 为什么有些申万行业代码没有成分股?</strong></p>
<p>A:申万的行业代码在14年2月21有一次比较大改动,新增了11个行业代码:['801710','801720','801730','801740','801750','801760','801770','801780','801790','801880','801890'],弃用了6个行业代码:['801060','801070','801090','801100','801190','801220']
所以新增行业代码在2014-02-21之前没有成分股,弃用的行业代码在2014-02-21之后没有成分股。
其他代码具体查看<a href="https://www.joinquant.com/help/api/help?name=plateData#%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A">行业数据页面</a></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="其他数据问题"></span>其他数据问题</label>
       <label>融资融券、期货、因子等处理规则</label>
      <article style="display: block; height: 794.188px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>1. 为什么周六还查询周五的融资融券数据还查不到？</strong></p>
<p>A:我们提供的融资融券数据来自于上交所和深交所官网，其数据来自于每个交易日后各家券商向交易所汇报的数据。上交所的融资融券数据当日收盘后会更新，深交所的融资融券的数据会在下一个交易日的10点更新，这样一来深交所周五的融资融券数据在周一上午10点才能获取到。</p>
<p><strong>2. 为什么某期货合约日行情数据的总成交量会小于中金所披露的持仓会员前20名的成交量?</strong></p>
<p>A: 2020年后期货成交量是单边计算的,因为多空成交相同,而持仓机构的成交量指的是他自身的成交量,比如；某个会员机构多头成交2手，空头成交1手，它必须要与别的会员成交，只能记3手。
可以和交易所官网数据进行对比,比如中金所: http://www.cffex.com.cn/ccpm/</p>
<p><strong>3. 为什么期权风险指标数据中商品期权只有delta数据,没有theta等数据?</strong></p>
<p>A: 此数据来自交易所,上期所,郑商所及大商所都未披露此项数据,所以获取不到.ETF期权有完整的风险指标,上交所有披露。</p>
<p><strong>4. 宏观数据有缺失?</strong></p>
<p>A:有些数据本身统计局官网未公布,属于正常缺失,比如macro.MAC_AREA_CPI_MONTH表七月份的全国cpi数据,在统计局官网也是没有的,如果觉得有问题可以先和统计局官网数据进行对比: http://data.stats.gov.cn/easyquery.htm?cn=A01&amp;zb=A010302&amp;sj=201903</p>
<p><strong>5. alpha191/alpha101 中的nan值和inf值是什么意思?</strong></p>
<p>A:nan值代表缺失,inf代表无限大,-inf代表无限小 ;
Nan值产生的原因 : 停牌返回nan , 刚上市(需要的数据量不足),已退市返回nan , 以及由于算法计算结果为Nan值,如计算相关系数等
inf产生的原因 : 由具体算法决定 ,有可能产生inf或-inf。如公式中有除法,而分母恰好为0。</p>
<p><strong>6. 聚宽因子库中为什么有许多nan值?</strong></p>
<p>A:缺少依赖数据,财务数据中如果标的未披露相关字段,依赖数据不完整的话会返回nan值, 需要注意到财务报表披露规则变更,标的报表披露形式(金融类,非金融类等) , 以及标的上市时间等。</p></article><span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h2 id="通用接口">通用接口</h2>

<h3 id="JQData证券代码格式">JQData证券代码格式</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

  <div class="group">
      <label>证券代码标准格式的定义 <span id="证券代码标准格式的定义"></span> </label>

      <label>股票/期货/场外基金（场内基金同股票）</label>
      <article style="display: block; height: 467.375px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>由于同一代码可能代表不同的交易品种，JQData给每个交易品种后面都添加了该市场特定的代码后缀，用户在调用API时，需要将参数security传入带有该市场后缀的证券代码，如security='600519.XSHG'，以便于区分实际调用的交易品种。以下列出了每个交易市场的代码后缀和示例代码。</li>
</ul>
<table>
<thead>
<tr>
<th>交易市场</th>
<th>代码后缀</th>
<th>示例代码</th>
<th>证券简称</th>
</tr>
</thead>
<tbody>
<tr>
<td>上海证券交易所</td>
<td>.XSHG</td>
<td>600519.XSHG</td>
<td>贵州茅台</td>
</tr>
<tr>
<td>深圳证券交易所</td>
<td>.XSHE</td>
<td>000001.XSHE</td>
<td>平安银行</td>
</tr>
<tr>
<td>中金所</td>
<td>.CCFX</td>
<td>IC9999.CCFX</td>
<td>中证500主力合约</td>
</tr>
<tr>
<td>大商所</td>
<td>.XDCE</td>
<td>A9999.XDCE</td>
<td>豆一主力合约</td>
</tr>
<tr>
<td>上期所</td>
<td>.XSGE</td>
<td>AU9999.XSGE</td>
<td>黄金主力合约</td>
</tr>
<tr>
<td>郑商所</td>
<td>.XZCE</td>
<td>CY8888.XZCE</td>
<td>棉纱期货指数</td>
</tr>
<tr>
<td>上海国际能源期货交易所</td>
<td>.XINE</td>
<td>SC9999.XINE</td>
<td>原油主力合约</td>
</tr>
<tr>
<td>场外基金</td>
<td>.OF</td>
<td>398051.OF</td>
<td>中海环保新能源混合</td>
</tr>
</tbody>
</table></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label>normalize_code <span id="normalize_code"></span> </label>
      <label>将标的代码转化成聚宽标准格式(支持股票、期货、场内基金)</label>
      <article style="display: block; height: 349.336px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">normalize_code(code)
</code></pre>
<p>将其他形式的标的代码转换为jqdatasdk可用的标的代码形式。
<strong>适用于A股市场股票、期货以及场内基金代码,支持传入单只标的或一个标的list</strong></p>
<p><strong>以股票为例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#输入</span>
normalize_code([<span class="hljs-string">'000001'</span>, <span class="hljs-string">'SZ000001'</span>, <span class="hljs-string">'000001SZ'</span>, <span class="hljs-string">'000001.sz'</span>, <span class="hljs-string">'000001.XSHE'</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h3 id="获取标的概况">获取标的概况</h3>
<ul>
<li><strong>接口的具体使用，可查看各市场对应的示例</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

  <div class="group">
      <label>get_security_info <span id="get_security_info"></span> </label>
      <label> 单个标的信息（股票/基金/指数的信息）</label>
      <article style="display: block; height: 736.43px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_security_info(code)
</code></pre>
<p>获取股票/基金/指数的信息.</p>
<p><strong>参数</strong></p>
<ul>
<li>code: 证券代码</li>
<li>date：获取指定日期的标的信息，默认为None，仅支持股票</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><p>一个对象, 有如下属性:</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期, [datetime.date] 类型</li>
<li>end_date: 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01</li>
<li>type: 类型，stock(股票)，index(指数)，etf(ETF基金)，fja（分级A），fjb（分级B）</li>
<li>parent: 分级基金的母基金代码</li></ul></li>
</ul>
<p><strong>示例</strong></p>
<p>以股票为例</p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取000001.XSHE的中文名称</span>
display_name = get_security_info(<span class="hljs-string">'000001.XSHE'</span>).display_name
print(display_name)
&gt;&gt;&gt;平安银行
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label>get_all_securities <span id=" get_all_securities"></span> </label>
      <label>  所有标的信息(股票、基金、指数、期货等)</label>
      <article style="display: block; height: 1430.1px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types: list: 用来过滤securities的类型, list元素可选: 'stock', 'fund', 'index', 'futures', 'etf', 'lof', 'fja', 'fjb'。<strong>types为空时返回所有股票, 不包括基金,指数和期货</strong></li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong>
[pandas.DataFrame], 比如:<code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">get_all_securities</span><span class="hljs-params">()</span></span>[:<span class="hljs-number">2</span>]</code>返回:</p>
<table>
<thead>
<tr>
<th>---</th>
<th>display_name</th>
<th>name</th>
<th>start_date</th>
<th>end_date</th>
<th>type</th>
</tr>
</thead>
<tbody>
<tr>
<td>000001.XSHE</td>
<td>平安银行</td>
<td>PAYH</td>
<td>1991-04-03</td>
<td>9999-01-01</td>
<td>stock</td>
</tr>
<tr>
<td>000002.XSHE</td>
<td>万  科Ａ</td>
<td>WKA</td>
<td>1991-01-29</td>
<td>9999-01-01</td>
<td>stock</td>
</tr>
</tbody>
</table>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型，stock(股票)，index(指数)，etf(ETF基金)，fja（分级A），fjb（分级B），fjm（分级母基金），mmf（场内交易的货币基金）open_fund（开放式基金）, bond_fund（债券基金）, stock_fund（股票型基金）, QDII_fund（QDII 基金）, money_market_fund（场外交易的货币基金）, mixture_fund（混合型基金）, options(期权)</li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#将所有股票列表转换成数组</span>
stocks = list(get_all_securities([<span class="hljs-string">'stock'</span>]).index)

<span class="hljs-comment">#获得所有指数列表</span>
get_all_securities([<span class="hljs-string">'index'</span>])

<span class="hljs-comment">#获得所有基金列表</span>
df = get_all_securities([<span class="hljs-string">'fund'</span>])

<span class="hljs-comment">#获取所有期货列表</span>
get_all_securities([<span class="hljs-string">'futures'</span>])

<span class="hljs-comment">#获得etf基金列表</span>
df = get_all_securities([<span class="hljs-string">'etf'</span>])
<span class="hljs-comment">#获得lof基金列表</span>
df = get_all_securities([<span class="hljs-string">'lof'</span>])
<span class="hljs-comment">#获得分级A基金列表</span>
df = get_all_securities([<span class="hljs-string">'fja'</span>])
<span class="hljs-comment">#获得分级B基金列表</span>
df = get_all_securities([<span class="hljs-string">'fjb'</span>])

<span class="hljs-comment">#获得2015年10月10日还在上市的所有股票列表</span>
get_all_securities(date=<span class="hljs-string">'2015-10-10'</span>)
<span class="hljs-comment">#获得2015年10月10日还在上市的 etf 和 lof 基金列表</span>
get_all_securities([<span class="hljs-string">'etf'</span>, <span class="hljs-string">'lof'</span>], <span class="hljs-string">'2015-10-10'</span>)
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>




</div>
</section>
<h3 id="获取交易日历">获取交易日历</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="get_trade_days"></span>get_trade_days</label>
      <label>指定范围交易日</label>
      <article style="display: block; height: 582.703px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_trade_days(start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取指定日期范围内的所有交易日, 返回 [numpy.ndarray], 包含指定的 start_date 和 end_date, 默认返回至 datatime.date.today() 的所有交易日</p>
<p><strong>参数</strong></p>
<ul>
<li>start_date: 开始日期, <strong>与 count 二选一, 不可同时使用</strong>. str/[datetime.date]/[datetime.datetime] 对象</li>
<li>end_date: 结束日期, str/[datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()</li>
<li>count: 数量, <strong>与 start_date 二选一, 不可同时使用</strong>, 必须大于 0. 表示取 end_date 往前的 count 个交易日，包含 end_date 当天。</li>
</ul>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取“2018-02-10”至”2018-03-01“的交易日</span>
get_trade_days(start_date=<span class="hljs-string">"2018-02-10"</span>,end_date=<span class="hljs-string">"2018-03-01"</span>)

<span class="hljs-comment"># 输出为数组</span>
array([datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">12</span>), datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">13</span>),
       datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">14</span>), datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">22</span>),
       datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">23</span>), datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">26</span>),
       datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">27</span>), datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">2</span>, <span class="hljs-number">28</span>),
       datetime.date(<span class="hljs-number">2018</span>, <span class="hljs-number">3</span>, <span class="hljs-number">1</span>)], dtype=object)
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_all_trade_days"></span>get_all_trade_days</label>
      <label>获取所有交易日</label>
      <article style="display: block; height: 350.453px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_trade_days()
</code></pre>
<p>获取所有交易日, 不需要传入参数, 返回一个包含所有交易日的 [numpy.ndarray], 每个元素为一个 [datetime.date] 类型.</p>
<pre><code class="python language-python hljs">get_all_trade_days()

<span class="hljs-comment"># 输出</span>
array([datetime.date(<span class="hljs-number">2005</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>), datetime.date(<span class="hljs-number">2005</span>, <span class="hljs-number">1</span>, <span class="hljs-number">5</span>),
       datetime.date(<span class="hljs-number">2005</span>, <span class="hljs-number">1</span>, <span class="hljs-number">6</span>), ..., datetime.date(<span class="hljs-number">2023</span>, <span class="hljs-number">3</span>, <span class="hljs-number">7</span>),
       datetime.date(<span class="hljs-number">2023</span>, <span class="hljs-number">3</span>, <span class="hljs-number">8</span>), datetime.date(<span class="hljs-number">2023</span>, <span class="hljs-number">3</span>, <span class="hljs-number">9</span>)], dtype=object)
</code></pre></article>




<span class="glyphicon glyphicon-triangle-top"></span></div>
</div>
</section>
<h3 id="通用行情接口">通用行情接口</h3>
<ul>
<li><strong>接口的具体使用，可查看各市场对应的示例</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>1天/分钟行情数据</label>
      <article style="display: block; height: 3238.43px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<ul>
<li>获取一支或者多只股票、期货、指数场内基金、上证ETF期权、股指期权及商品期权的行情（按天或者按分钟）；上证ETF期权分钟行情 2017-01-01至今，股指期权分钟行情 2019-12-24至今，商品期权分钟行情 2019-12-02至今。</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li><strong>当天  09:00 ~ 15:00 的行情在 15:00 之后可以获取 , 期货夜盘 21:00~次日02:30 的分钟行情在 02:30 之后可以获取。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后(或夜盘结束)时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
<li>fq:对股票/基金的价格字段、成交量字段生效，factor不受影响，只返回后复权因子</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后(或夜盘结束)时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>'pre'：前复权 / 'none'：不复权, 返回实际价格 / 'post'：后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如本地pandas版本大于0.25将强制返回dataframe , 详见案例</p></td>
    </tr>
</tbody></table>
<p><strong>fields</strong>内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td></td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交不额处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：股票是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>（2）分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货：pre_close--前一天结算；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
    <tr>
        <td>open_interest</td>
        <td>期货(期权)持仓量</td>
        <td>  </td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只标的的多个属性, 同时也满足对比多只标的的一个属性的需求, 我们在security参数是<strong>一只标的和多只标的时返回的结构完全不一样 (默认panel=True时)，以下以股票为例，具体使用看各接口的示例</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行按1分钟为周期以“2015-01-30 14:00:00”为基础前4个时间单位的数据</span>
df = get_price(<span class="hljs-string">'000001.XSHE'</span>, end_date=<span class="hljs-string">'2015-01-30 14:00:00'</span>,count=<span class="hljs-number">4</span>, frequency=<span class="hljs-string">'minute'</span>, fields=[<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>])
print(df)
                     open  close  high   low    volume      money
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">57</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.97</span>  <span class="hljs-number">295949.0</span>  <span class="hljs-number">2656384.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">58</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.97</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.97</span>  <span class="hljs-number">339030.0</span>  <span class="hljs-number">3041408.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">59</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.98</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.96</span>  <span class="hljs-number">459533.0</span>  <span class="hljs-number">4121592.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">14</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.96</span>  <span class="hljs-number">469211.0</span>  <span class="hljs-number">4208384.0</span>
</code></pre><p></p>
<p><strong>获取多只股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取多支股票, 则返回[pandas.Panel]对象</span>
panel=get_price([<span class="hljs-string">'000300.XSHG'</span>, <span class="hljs-string">'000001.XSHE'</span>])
<span class="hljs-comment">#返回[pandas.DataFrame]对象,行索引是[datetime.datetime]对象, 列索引是股票代号</span>
df=panel[<span class="hljs-string">'money'</span>][:<span class="hljs-number">4</span>]
print(df)

             <span class="hljs-number">000300.</span>XSHG   <span class="hljs-number">000001.</span>XSHE
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">5.198498e+11</span>  <span class="hljs-number">4.565388e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>  <span class="hljs-number">4.985296e+11</span>  <span class="hljs-number">3.453446e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">3.987317e+11</span>  <span class="hljs-number">2.634796e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>  <span class="hljs-number">3.558320e+11</span>  <span class="hljs-number">2.128003e+09</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>






<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>指定时间周期的分钟/日行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 2008.85px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</li>
<li><strong>当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取 , 期货夜盘 21:00~次日02:30 的行情在 02:30 之后可以获取。</strong>注意：当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日结束(或夜盘结束)的时间</li>
</ul>
<p><strong>参数</strong></p>
<ul>
<li>security: 标的代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘(或夜盘结束)的时间</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为当前时间（例如 datetime.datetime.now()）即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>关于停牌</strong>: 此API可以获取多只股票的数据, 部分标的在获取时间的范围内可能存在停牌的情况。
此接口返回的结果会直接跳过停牌的日期, 在获取多标的时或使用索引时，需注意时间轴在部分标的停牌时不一致的情况</p>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回股票的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<p><strong>获取一支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行按120分钟为周期以"2018-12-05"为基础往前5个时间单位的数据</span>
df = get_bars(<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
                 date   open  close   high    low      volume        money
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.25</span>  <span class="hljs-number">10.36</span>  <span class="hljs-number">10.36</span>  <span class="hljs-number">10.18</span>  <span class="hljs-number">31202900.0</span>  <span class="hljs-number">320769828.0</span>
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.64</span>  <span class="hljs-number">10.66</span>  <span class="hljs-number">10.48</span>  <span class="hljs-number">80398200.0</span>  <span class="hljs-number">850921284.0</span>
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.64</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.65</span>  <span class="hljs-number">10.56</span>  <span class="hljs-number">26011500.0</span>  <span class="hljs-number">275453511.0</span>
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.57</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.62</span>  <span class="hljs-number">10.53</span>  <span class="hljs-number">29793600.0</span>  <span class="hljs-number">315213376.0</span>
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.61</span>  <span class="hljs-number">10.54</span>  <span class="hljs-number">23687700.0</span>  <span class="hljs-number">250530360.0</span>
</code></pre>
<strong>获取多支股票</strong><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行、万科A按120分钟为周期以"2018-12-05"为基础往前2个时间单位的数据</span>
df = get_bars([<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>], <span class="hljs-number">2</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
                             date   open  close   high    low      volume  \
<span class="hljs-number">000001.</span>XSHE <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.57</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.62</span>  <span class="hljs-number">10.53</span>  <span class="hljs-number">29793600.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.61</span>  <span class="hljs-number">10.54</span>  <span class="hljs-number">23687700.0</span>   
<span class="hljs-number">000002.</span>XSHE <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">25.56</span>  <span class="hljs-number">25.23</span>  <span class="hljs-number">25.56</span>  <span class="hljs-number">25.10</span>  <span class="hljs-number">22614700.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">25.24</span>  <span class="hljs-number">25.13</span>  <span class="hljs-number">25.24</span>  <span class="hljs-number">24.87</span>  <span class="hljs-number">28379900.0</span>   

                     money  
<span class="hljs-number">000001.</span>XSHE <span class="hljs-number">0</span>  <span class="hljs-number">315213376.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">250530360.0</span>  
<span class="hljs-number">000002.</span>XSHE <span class="hljs-number">0</span>  <span class="hljs-number">571859390.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">709510464.0</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据</label>
      <article style="display: block; height: 1458.24px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）、上证ETF期权（2017年至今）</strong>支持输入标的列表 </li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<p>以股票为例</p><pre><code class="hljs angelscript">#获取平安银行<span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-02</span>至<span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span>期间的集合竞价数据
df=get_call_auction(<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'2019-09-02'</span>,<span class="hljs-string">'2019-09-05'</span>)
print(df)

          code                time  current     volume       money   a1_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-02</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.15</span>   <span class="hljs-number">568900.0</span>   <span class="hljs-number">8049900.0</span>  <span class="hljs-number">14.15</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-03</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.48</span>   <span class="hljs-number">647700.0</span>   <span class="hljs-number">9378700.0</span>  <span class="hljs-number">14.48</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-04</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.32</span>   <span class="hljs-number">322637.0</span>   <span class="hljs-number">4620200.0</span>  <span class="hljs-number">14.33</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.56</span>  <span class="hljs-number">1673700.0</span>  <span class="hljs-number">24369100.0</span>  <span class="hljs-number">14.56</span>   

       a1_v   a2_p      a2_v   a3_p    ...      b1_p     b1_v   b2_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">58802.0</span>  <span class="hljs-number">14.16</span>    <span class="hljs-number">4500.0</span>  <span class="hljs-number">14.17</span>    ...     <span class="hljs-number">14.14</span>   <span class="hljs-number">8700.0</span>  <span class="hljs-number">14.13</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">67091.0</span>  <span class="hljs-number">14.49</span>  <span class="hljs-number">201092.0</span>  <span class="hljs-number">14.50</span>    ...     <span class="hljs-number">14.47</span>   <span class="hljs-number">3100.0</span>  <span class="hljs-number">14.46</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">67179.0</span>  <span class="hljs-number">14.34</span>   <span class="hljs-number">17000.0</span>  <span class="hljs-number">14.35</span>    ...     <span class="hljs-number">14.32</span>  <span class="hljs-number">27063.0</span>  <span class="hljs-number">14.31</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">122434.0</span>  <span class="hljs-number">14.57</span>  <span class="hljs-number">364479.0</span>  <span class="hljs-number">14.58</span>    ...     <span class="hljs-number">14.55</span>  <span class="hljs-number">18700.0</span>  <span class="hljs-number">14.54</span>   

       b2_v   b3_p      b3_v   b4_p      b4_v   b5_p      b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">116000.0</span>  <span class="hljs-number">14.12</span>   <span class="hljs-number">30900.0</span>  <span class="hljs-number">14.11</span>  <span class="hljs-number">267900.0</span>  <span class="hljs-number">14.10</span>  <span class="hljs-number">119200.0</span>  
<span class="hljs-number">1</span>    <span class="hljs-number">3900.0</span>  <span class="hljs-number">14.45</span>   <span class="hljs-number">40000.0</span>  <span class="hljs-number">14.44</span>     <span class="hljs-number">700.0</span>  <span class="hljs-number">14.43</span>    <span class="hljs-number">1900.0</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">12600.0</span>  <span class="hljs-number">14.30</span>  <span class="hljs-number">166400.0</span>  <span class="hljs-number">14.29</span>    <span class="hljs-number">2100.0</span>  <span class="hljs-number">14.28</span>   <span class="hljs-number">10100.0</span>  
<span class="hljs-number">3</span>    <span class="hljs-number">2100.0</span>  <span class="hljs-number">14.53</span>   <span class="hljs-number">24800.0</span>  <span class="hljs-number">14.51</span>   <span class="hljs-number">19300.0</span>  <span class="hljs-number">14.50</span>   <span class="hljs-number">81700.0</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">25</span> columns]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_ticks"></span>get_ticks</label>
      <label>tick数据</label>
      <article style="display: block; height: 669.102px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields)
</code></pre>
<p>股票部分，支持 2010-01-01 至今的tick数据，提供买五卖五数据。（每3秒一次快照）</p>
<p>期货部分，支持 2010-01-01 至今的tick数据，提供买一卖一数据。（每0.5秒一次快照）</p>
<p>期权部分，支持期权tick数据，每0.5s一次快照。其中上证ETF期权从2017-01-01至今，股指期权从2019-12-24至今，商品期权从2019-12-02至今</p>
<p>场内基金，支持 2019-01-01 至今的tick数据，提供买五卖五盘口数据。（每3秒一次快照）</p>
<p>指数部分， 支持 2017-01-01 至今的tick数据。（每3秒一次快照）</p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加微信号<strong>JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: 指数代码，如'000001.XSHG'</li>
<li>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>count: 取出指定时间区间内前N条的tick数据。</li>
<li>fields: 选择要获取的行情数据字段，默认为None，返回结果如下指数tick返回结果。</li>
<li>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</li>
<li>df: 默认为True，传入单个标的返回的是一个dataframe, 当df=False的时候，返回一个np.ndarray</li>
</ul></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>







</div>
</section>
<h3 id="判断是否ST基金净值期货结算价">判断是否ST/基金净值/期货结算价</h3>
<ul>
<li><strong>接口的具体使用，可查看各市场对应的示例</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label>get_extras<span id="get_extras"></span> </label>
      <label>参数：是否是ST/基金单位净值/基金累计净值/场外基金的复权净值/期货结算价</label>
      <article style="display: block; height: 1034.4px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_extras(info, security_list, start_date=<span class="hljs-string">'2015-01-01'</span>, end_date=<span class="hljs-string">'2015-12-31'</span>, df=<span class="hljs-keyword">True</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li><p>info: ['is_st', 'acc_net_value', 'unit_net_value', 'futures_sett_price', 'adj_net_value'] 中的一个</p>
<table>
<thead>
<tr>
<th>指定info字段</th>
<th>返回信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>is_st</td>
<td>是否是ST，是则返回 True，否则返回 False</td>
</tr>
<tr>
<td>acc_net_value</td>
<td>基金累计净值</td>
</tr>
<tr>
<td>unit_net_value</td>
<td>基金单位净值</td>
</tr>
<tr>
<td>futures_sett_price</td>
<td>期货结算价</td>
</tr>
<tr>
<td>adj_net_value</td>
<td><strong>场外</strong>基金的复权净值</td>
</tr>
</tbody>
</table></li>
<li><p>security_list: 标的列表</p></li>
<li><p>start_date/end_date: 开始结束日期, 同 [get_price]</p></li>
<li><p>df: 返回[pandas.DataFrame]对象或者dict</p></li>
<li><p>count: 数量, <strong>与 start_date 二选一, 不可同时使用</strong>, 必须大于 0. 表示取 end_date 往前的 count 个交易日的数据</p></li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>df=True:
返回[pandas.DataFrame]对象, 列索引是股票代号, 行索引是[datetime.datetime]</li>
<li>df=False，返回一个dict, key是股票代号，如</li>
</ul>
<p>以股票为例</p><pre><code class="python language-python hljs"><span class="hljs-comment"># 平安银行和神城A在2013-12-01至2013-12-03是否为ST</span>
get_extras(<span class="hljs-string">'is_st'</span>, [<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000018.XSHE'</span>], start_date=<span class="hljs-string">'2013-12-01'</span>, end_date=<span class="hljs-string">'2013-12-03'</span>)

<span class="hljs-comment"># 输出：</span>
            <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">000018.</span>XSHE
<span class="hljs-number">2013</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span>        <span class="hljs-keyword">False</span>         <span class="hljs-keyword">True</span>
<span class="hljs-number">2013</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>        <span class="hljs-keyword">False</span>         <span class="hljs-keyword">True</span>
</code></pre><p></p></article>
<span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h3 id="run_query查询数据库中的数据">run_query 查询数据库中的数据</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="run_query"></span>run_query</label>
      <label>数据库.run_query( query_object )</label>
      <article style="display: block; height: 1001.3px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>目前可通过 run_query 方法进行查询的数据都为储存于mysql的数据(单季度数据通过get_fundamentals/get_fundamentals_continuously查询)。根据数据的品种我们大致分为四类 :</p>
<p>finance 库(包含股票，基金，期货的相关数据及其他) : <a href="https://www.joinquant.com/help/api/help#JQData:STK_MT_TOTAL">融资融券数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:STK_EXCHANGE_TRADE_INFO">沪深市场每日概况</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E5%B8%82%E5%9C%BA%E9%80%9A%E6%95%B0%E6%8D%AE">市场通数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E4%B8%8A%E5%B8%82%E5%85%AC%E5%8F%B8%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF">上市公司相关信息</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E6%8A%A5%E5%91%8A%E6%9C%9F%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">报告期财务数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E7%94%B3%E4%B8%87%E8%A1%8C%E4%B8%9A%E6%8C%87%E6%95%B0%E6%95%B0%E6%8D%AE">申万行业指数数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E6%9C%9F%E8%B4%A7%E4%BA%A4%E6%98%93%E7%BB%9F%E8%AE%A1%E6%95%B0%E6%8D%AE">期货交易统计数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:FUT_GLOBAL_DAILY">期货外盘日行情</a>，<a href="https://www.joinquant.com/help/api/help#JQData:FUND_SHARE_DAILY">场内基金份额数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E5%85%AC%E5%8B%9F%E5%9F%BA%E9%87%91%E6%95%B0%E6%8D%AE%E5%87%80%E5%80%BC%E7%AD%89">公募基金相关数据</a>，<a href="https://www.joinquant.com/help/api/help#JQData:%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD%E6%96%87%E6%9C%AC">新闻联播文本数据</a><br>
opt 库(包含期权相关数据) : <a href="https://www.joinquant.com/help/api/help#JQData:%E6%9C%9F%E6%9D%83">期权相关数据</a><br>
bond 库(包含债券相关数据) : <a href="https://www.joinquant.com/help/api/help#JQData:%E5%80%BA%E5%88%B8">债券相关数据</a><br>
macro 库(包含宏观数据) : <a href="https://www.joinquant.com/help/api/help#JQData:%E5%AE%8F%E8%A7%82%E6%95%B0%E6%8D%AE">宏观数据</a>  </p>
<p><strong>参数</strong> : query_object , 使用的query对象通过 from jqdatasdk import * 导入 , 关于<a href="https://www.joinquant.com/view/community/detail/433d0e9ed9fed11fc9f7772eab8d9376?type=1">【query的简易教程】</a></p>
<p><strong>返回</strong> : DataFrame，</p>
<p><strong>用法</strong> : 数据库名.run_query( query_object) , </p>
<p>如查询finance库中  STK_XR_XD 表的数据</p>
<pre><code class="hljs capnproto"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
auth(username, pwd)
q = query(finance.STK_XR_XD)  <span class="hljs-comment"># 注意需要先登陆,否则会报错表不存在</span>
finance.run_query(q)
</code></pre>
<p>查询 opt 库中 OPT_CONTRACT_INFO 表的数据</p><pre><code class="hljs reasonml">q = query( opt.OPT_CONTRACT_INFO ).filter(       opt.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">OPT_CONTRACT_INFO</span>.</span></span>underlying_symbol=='<span class="hljs-number">510050.</span>XSHG'
                ).order<span class="hljs-constructor">_by(<span class="hljs-params">opt</span>.OPT_CONTRACT_INFO.<span class="hljs-params">list_date</span>.<span class="hljs-params">desc</span>()</span>).limit(<span class="hljs-number">100</span>)  #  查询最新挂牌的<span class="hljs-number">100</span>条 <span class="hljs-number">510050</span> etf期权的合约资料
opt.run<span class="hljs-constructor">_query(<span class="hljs-params">q</span>)</span>
</code></pre><p></p>
<p><strong>注意</strong> :</p>
<p><strong>1.为防止返回数据量过大，单次返回最多5000行；</strong></p>
<p><strong>2.不支持进行连表查询，即同时查询多张表的数据；</strong></p>
<p><strong>3.如query_object未使用order_by指定字段排序，返回数据的顺序没有意义；</strong></p>
<p><strong>4.id字段为自增id，没有意义；</strong></p></article>
<span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h2 id="股票">股票</h2>

<h3 id="股票概况">股票概况</h3>
<ul>
<li><strong>更新时间：2005至今，8:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="normalize_code"></span>normalize_code</label>
      <label>将股票代码转化成聚宽标准格式</label>
      <article style="display: block; height: 349.336px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">normalize_code(code)
</code></pre>
<p>将其他形式的股票代码转换为jqdatasdk函数可用的股票代码形式。
<strong>适用A股市场股票代码,支持传入单只股票或一个股票list</strong></p>
<p><strong>以股票为例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#输入</span>
normalize_code([<span class="hljs-string">'000001'</span>, <span class="hljs-string">'SZ000001'</span>, <span class="hljs-string">'000001SZ'</span>, <span class="hljs-string">'000001.sz'</span>, <span class="hljs-string">'000001.XSHE'</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000001.XSHE'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label>get_security_info<span id="get_security_info"></span> </label>
      <label>获取单支股票信息</label>
      <article style="display: block; height: 781.047px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>调用方法</strong></p>
<pre><code class="python language-python hljs">get_security_info(code)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>code: 证券代码</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>一个对象, 有如下属性:</li>
</ul>
<ol>
<li>display_name # 中文名称</li>
<li>name # 缩写简称</li>
<li>start_date # 上市日期, [datetime.date] 类型</li>
<li>end_date # 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01</li>
<li>type # 类型，stock(股票)，index(指数)，etf(ETF基金)，fja（分级A），fjb（分级B）</li>
<li>parent # 分级基金的母基金代码</li>
</ol>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取000001.XSHE的中文名称</span>
display_name = get_security_info(<span class="hljs-string">'000001.XSHE'</span>).display_name
print(display_name)
&gt;&gt;&gt;平安银行

<span class="hljs-comment"># 获取000001.XSHE的上市时间</span>
start_date = get_security_info(<span class="hljs-string">'000001.XSHE'</span>).start_date
print(start_date)
&gt;&gt;&gt;<span class="hljs-number">1991</span><span class="hljs-number">-04</span><span class="hljs-number">-03</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有股票信息</label>
      <article style="display: block; height: 1270.81px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types: list: 用来过滤securities的类型, list元素可选: 'stock', 'fund', 'index', 'futures', 'options', 'etf', 'lof', 'fja', 'fjb', 'open_fund', 'bond_fund', 'stock_fund', 'QDII_fund', 'money_market_fund', 'mixture_fund'。<strong>types为空时返回所有股票, 不包括基金,指数和期货</strong></li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>[pandas.DataFrame]</li>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型 : stock(股票)，index(指数)，etf(ETF基金)，fja（分级A），fjb（分级B），fjm（分级母基金），mmf（场内交易的货币基金）open_fund（开放式基金）, bond_fund（债券基金）, stock_fund（股票型基金）, QDII_fund（QDII 基金）, money_market_fund（场外交易的货币基金）, mixture_fund（混合型基金）, options(期权)</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得所有股票列表</span>
df=get_all_securities()
print(df[:<span class="hljs-number">2</span>])

            display_name  name start_date   end_date   type
<span class="hljs-number">000001.</span>XSHE         平安银行  PAYH <span class="hljs-number">1991</span><span class="hljs-number">-04</span><span class="hljs-number">-03</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
<span class="hljs-number">000002.</span>XSHE          万科A   WKA <span class="hljs-number">1991</span><span class="hljs-number">-01</span><span class="hljs-number">-29</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得2020年10月10日还在上市的所有股票列表</span>
df=get_all_securities(date=<span class="hljs-string">'2020-10-10'</span>)
print(df[:<span class="hljs-number">5</span>])
            display_name  name start_date   end_date   type
<span class="hljs-number">000001.</span>XSHE         平安银行  PAYH <span class="hljs-number">1991</span><span class="hljs-number">-04</span><span class="hljs-number">-03</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
<span class="hljs-number">000002.</span>XSHE          万科A   WKA <span class="hljs-number">1991</span><span class="hljs-number">-01</span><span class="hljs-number">-29</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
<span class="hljs-number">000004.</span>XSHE         国华网安  GHWA <span class="hljs-number">1990</span><span class="hljs-number">-12</span><span class="hljs-number">-01</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
<span class="hljs-number">000005.</span>XSHE         世纪星源  SJXY <span class="hljs-number">1990</span><span class="hljs-number">-12</span><span class="hljs-number">-10</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
<span class="hljs-number">000006.</span>XSHE         深振业A  SZYA <span class="hljs-number">1992</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  stock
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#将所有股票列表转换成数组</span>
stocks = list(get_all_securities([<span class="hljs-string">'stock'</span>]).index)
stocks[:<span class="hljs-number">5</span>]
&gt;&gt;&gt;[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>, <span class="hljs-string">'000004.XSHE'</span>]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="get_extras"></span>get_extras</label>
      <label>判断股票是否是ST</label>
      <article style="display: block; height: 935.719px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>得到多只股票在一段时间是否是ST</p>
<pre><code class="python language-python hljs">get_extras(info, security_list, start_date=<span class="hljs-string">'2015-01-01'</span>, end_date=<span class="hljs-string">'2015-12-31'</span>, df=<span class="hljs-keyword">True</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>info:[is_st]是否是ST，是则返回 True，否则返回 False</li>
<li>security_list: 股票列表</li>
<li>start_date/end_date: 开始结束日期, 同 [get_price]</li>
<li>df: 返回[pandas.DataFrame]对象或者dict；</li>
<li>count: 数量, <strong>与 start_date 二选一, 不可同时使用</strong>, 必须大于 0. 表示取 end_date 往前的 count 个交易日的数据</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>df=True:
返回[pandas.DataFrame]对象, 列索引是股票代号, 行索引是[datetime.datetime]</li>
<li>df=False，返回一个dict, key是股票代号，如</li>
</ul>
<p><strong>示例</strong></p>
<ul>
<li>df为False<pre><code class="python language-python hljs"><span class="hljs-comment"># 判断平安银行和神城A在2013-12-01至2013-12-03是否为ST</span>
get_extras(<span class="hljs-string">'is_st'</span>, [<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000018.XSHE'</span>], start_date=<span class="hljs-string">'2013-12-01'</span>, end_date=<span class="hljs-string">'2013-12-03'</span>,df=<span class="hljs-keyword">False</span>)
&gt;&gt;&gt;{<span class="hljs-string">'000001.XSHE'</span>: array([<span class="hljs-keyword">False</span>, <span class="hljs-keyword">False</span>]), <span class="hljs-string">'000018.XSHE'</span>: array([ <span class="hljs-keyword">True</span>,  <span class="hljs-keyword">True</span>])}
</code></pre></li>
<li>df为默认为True<pre><code class="python language-python hljs"><span class="hljs-comment"># 判断平安银行和神城A在2013-12-01至2013-12-03是否为ST</span>
get_extras(<span class="hljs-string">'is_st'</span>, [<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000018.XSHE'</span>], start_date=<span class="hljs-string">'2013-12-01'</span>, end_date=<span class="hljs-string">'2013-12-03'</span>)
            <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">000018.</span>XSHE
<span class="hljs-number">2013</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span>        <span class="hljs-keyword">False</span>         <span class="hljs-keyword">True</span>
<span class="hljs-number">2013</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>        <span class="hljs-keyword">False</span>         <span class="hljs-keyword">True</span>
</code></pre></li>
</ul></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>






</div>
</section>
<h3 id="股票行情数据">股票行情数据</h3>
<ul>
<li><strong>更新时间：日行情 2005至今，盘后15:00更新，24:00校对完成入库</strong></li>
<li><strong>更新时间：分钟行情 2005至今，盘后15:00更新，24:00校对完成入库</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">

<div class="group">
      <label>get_price<span id="get_price"></span> </label>
      <label>1天/分钟行情数据</label>
      <article style="display: block; height: 3147.68px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>, panel=<span class="hljs-keyword">True</span>, fill_paused=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取一支或者多只股票</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li><strong>end_date:当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取 。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
<li>fq:对股票/基金的价格字段、成交量字段生效，factor不受影响，只返回后复权因子</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>'pre'：前复权 / 'none'：不复权, 返回实际价格 / 'post'：后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如果您的环境pandas大于0.25 ，将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p>fields内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td>单位股</td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交额不处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：股票是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>（2）分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货：pre_close--前一天结算；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只股票的多个属性, 同时也满足对比多只股票的一个属性的需求, 我们在security参数是<strong>一只股票和多只股票时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行按1分钟为周期以“2015-01-30 14:00:00”为基础前4个时间单位的数据</span>
df = get_price(<span class="hljs-string">'000001.XSHE'</span>, end_date=<span class="hljs-string">'2015-01-30 14:00:00'</span>,count=<span class="hljs-number">4</span>, frequency=<span class="hljs-string">'minute'</span>, fields=[<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>])
print(df)
                     open  close  high   low    volume      money
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">57</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.97</span>  <span class="hljs-number">295949.0</span>  <span class="hljs-number">2656384.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">58</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.97</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.97</span>  <span class="hljs-number">339030.0</span>  <span class="hljs-number">3041408.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">13</span>:<span class="hljs-number">59</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.98</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.96</span>  <span class="hljs-number">459533.0</span>  <span class="hljs-number">4121592.0</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span> <span class="hljs-number">14</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">8.98</span>   <span class="hljs-number">8.97</span>  <span class="hljs-number">8.98</span>  <span class="hljs-number">8.96</span>  <span class="hljs-number">469211.0</span>  <span class="hljs-number">4208384.0</span>
</code></pre><p></p>
<p><strong>获取多只股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取多支股票, 则返回[pandas.Panel]对象</span>
panel=get_price([<span class="hljs-string">'000300.XSHG'</span>, <span class="hljs-string">'000001.XSHE'</span>])
<span class="hljs-comment">#返回[pandas.DataFrame]对象,行索引是[datetime.datetime]对象, 列索引是股票代号</span>
df=panel[<span class="hljs-string">'money'</span>][:<span class="hljs-number">4</span>]
print(df)

             <span class="hljs-number">000300.</span>XSHG   <span class="hljs-number">000001.</span>XSHE
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">5.198498e+11</span>  <span class="hljs-number">4.565388e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>  <span class="hljs-number">4.985296e+11</span>  <span class="hljs-number">3.453446e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">3.987317e+11</span>  <span class="hljs-number">2.634796e+09</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>  <span class="hljs-number">3.558320e+11</span>  <span class="hljs-number">2.128003e+09</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1951.26px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 股票代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘的时间</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为datetime.datetime.now()即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>关于停牌</strong>: 此API可以获取多只股票的数据, 部分标的在获取时间的范围内可能存在停牌的情况。
此接口返回的结果会直接跳过停牌的日期, 在获取多标的时或使用索引时，需注意时间轴在部分标的停牌时不一致的情况</p>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回股票的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<p><strong>获取一支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行按120分钟为周期以"2018-12-05"为基础往前5个时间单位的数据</span>
df = get_bars(<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
                 date   open  close   high    low      volume        money
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.25</span>  <span class="hljs-number">10.36</span>  <span class="hljs-number">10.36</span>  <span class="hljs-number">10.18</span>  <span class="hljs-number">31202900.0</span>  <span class="hljs-number">320769828.0</span>
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.64</span>  <span class="hljs-number">10.66</span>  <span class="hljs-number">10.48</span>  <span class="hljs-number">80398200.0</span>  <span class="hljs-number">850921284.0</span>
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.64</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.65</span>  <span class="hljs-number">10.56</span>  <span class="hljs-number">26011500.0</span>  <span class="hljs-number">275453511.0</span>
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.57</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.62</span>  <span class="hljs-number">10.53</span>  <span class="hljs-number">29793600.0</span>  <span class="hljs-number">315213376.0</span>
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.61</span>  <span class="hljs-number">10.54</span>  <span class="hljs-number">23687700.0</span>  <span class="hljs-number">250530360.0</span>
</code></pre><p></p>
<p><strong>获取多支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行、万科A按120分钟为周期以"2018-12-05"为基础往前2个时间单位的数据</span>
df = get_bars([<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>], <span class="hljs-number">2</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'close'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'volume'</span>,<span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
                             date   open  close   high    low      volume  \
<span class="hljs-number">000001.</span>XSHE <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.57</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.62</span>  <span class="hljs-number">10.53</span>  <span class="hljs-number">29793600.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">10.60</span>  <span class="hljs-number">10.59</span>  <span class="hljs-number">10.61</span>  <span class="hljs-number">10.54</span>  <span class="hljs-number">23687700.0</span>   
<span class="hljs-number">000002.</span>XSHE <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">25.56</span>  <span class="hljs-number">25.23</span>  <span class="hljs-number">25.56</span>  <span class="hljs-number">25.10</span>  <span class="hljs-number">22614700.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">25.24</span>  <span class="hljs-number">25.13</span>  <span class="hljs-number">25.24</span>  <span class="hljs-number">24.87</span>  <span class="hljs-number">28379900.0</span>   

                     money  
<span class="hljs-number">000001.</span>XSHE <span class="hljs-number">0</span>  <span class="hljs-number">315213376.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">250530360.0</span>  
<span class="hljs-number">000002.</span>XSHE <span class="hljs-number">0</span>  <span class="hljs-number">571859390.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">709510464.0</span>  
</code></pre><p></p></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据 / 2010年至今</label>
      <article style="display: block; height: 1458.24px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。当日的集合竞价数据下午15点更新。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>股票（2010年至今）</strong></li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<p><strong>以股票为例，接口的具体使用，可查看各市场对应的示例</strong></p><pre><code class="hljs angelscript">#获取平安银行<span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-02</span>至<span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span>期间的集合竞价数据
df=get_call_auction(<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'2019-09-02'</span>,<span class="hljs-string">'2019-09-05'</span>)
print(df)

          code                time  current     volume       money   a1_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-02</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.15</span>   <span class="hljs-number">568900.0</span>   <span class="hljs-number">8049900.0</span>  <span class="hljs-number">14.15</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-03</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.48</span>   <span class="hljs-number">647700.0</span>   <span class="hljs-number">9378700.0</span>  <span class="hljs-number">14.48</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-04</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.32</span>   <span class="hljs-number">322637.0</span>   <span class="hljs-number">4620200.0</span>  <span class="hljs-number">14.33</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">000001.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">14.56</span>  <span class="hljs-number">1673700.0</span>  <span class="hljs-number">24369100.0</span>  <span class="hljs-number">14.56</span>   

       a1_v   a2_p      a2_v   a3_p    ...      b1_p     b1_v   b2_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">58802.0</span>  <span class="hljs-number">14.16</span>    <span class="hljs-number">4500.0</span>  <span class="hljs-number">14.17</span>    ...     <span class="hljs-number">14.14</span>   <span class="hljs-number">8700.0</span>  <span class="hljs-number">14.13</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">67091.0</span>  <span class="hljs-number">14.49</span>  <span class="hljs-number">201092.0</span>  <span class="hljs-number">14.50</span>    ...     <span class="hljs-number">14.47</span>   <span class="hljs-number">3100.0</span>  <span class="hljs-number">14.46</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">67179.0</span>  <span class="hljs-number">14.34</span>   <span class="hljs-number">17000.0</span>  <span class="hljs-number">14.35</span>    ...     <span class="hljs-number">14.32</span>  <span class="hljs-number">27063.0</span>  <span class="hljs-number">14.31</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">122434.0</span>  <span class="hljs-number">14.57</span>  <span class="hljs-number">364479.0</span>  <span class="hljs-number">14.58</span>    ...     <span class="hljs-number">14.55</span>  <span class="hljs-number">18700.0</span>  <span class="hljs-number">14.54</span>   

       b2_v   b3_p      b3_v   b4_p      b4_v   b5_p      b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">116000.0</span>  <span class="hljs-number">14.12</span>   <span class="hljs-number">30900.0</span>  <span class="hljs-number">14.11</span>  <span class="hljs-number">267900.0</span>  <span class="hljs-number">14.10</span>  <span class="hljs-number">119200.0</span>  
<span class="hljs-number">1</span>    <span class="hljs-number">3900.0</span>  <span class="hljs-number">14.45</span>   <span class="hljs-number">40000.0</span>  <span class="hljs-number">14.44</span>     <span class="hljs-number">700.0</span>  <span class="hljs-number">14.43</span>    <span class="hljs-number">1900.0</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">12600.0</span>  <span class="hljs-number">14.30</span>  <span class="hljs-number">166400.0</span>  <span class="hljs-number">14.29</span>    <span class="hljs-number">2100.0</span>  <span class="hljs-number">14.28</span>   <span class="hljs-number">10100.0</span>  
<span class="hljs-number">3</span>    <span class="hljs-number">2100.0</span>  <span class="hljs-number">14.53</span>   <span class="hljs-number">24800.0</span>  <span class="hljs-number">14.51</span>   <span class="hljs-number">19300.0</span>  <span class="hljs-number">14.50</span>   <span class="hljs-number">81700.0</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">25</span> columns]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>股票tick数据/2010-01-01起</label>
      <article style="display: block; height: 1969.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip=<span class="hljs-keyword">True</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>股票部分， 支持 2010-01-01 至今的tick数据，提供买五卖五数据。（每3秒一次快照）</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 股票代码或期货代码,不支持传入多个标的</p></li>
<li><p>start_dt: 开始日期</p></li>
<li><p>end_dt: 结束日期</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>
<li><p><strong>股票tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（股）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>a1_v~a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p~a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v~b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p~b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>股票tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取平安银行2018-07-02的tick数据，start_dt和count只能有一个不为None值</span>
d = get_ticks(<span class="hljs-string">"000001.XSHE"</span>,start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-string">"2018-07-03"</span>, count=<span class="hljs-number">8</span>)
print(d)

<span class="hljs-comment">#输出</span>
                 time  current  high   low       volume         money  a1_p  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">42</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128332300.0</span>  <span class="hljs-number">1.130823e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">45</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128348600.0</span>  <span class="hljs-number">1.130963e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">48</span>     <span class="hljs-number">8.61</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128380000.0</span>  <span class="hljs-number">1.131233e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">51</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128420300.0</span>  <span class="hljs-number">1.131581e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">54</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128425000.0</span>  <span class="hljs-number">1.131621e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">57</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128485000.0</span>  <span class="hljs-number">1.132138e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">57</span>:<span class="hljs-number">00</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128514800.0</span>  <span class="hljs-number">1.132395e+09</span>  <span class="hljs-number">0.00</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">03</span>     <span class="hljs-number">8.61</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">131552000.0</span>  <span class="hljs-number">1.158546e+09</span>  <span class="hljs-number">8.61</span>   

        a1_v  a2_p      a2_v    ...     b1_p       b1_v  b2_p      b2_v  b3_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">479000.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>    <span class="hljs-number">13500.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">434200.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">478700.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>     <span class="hljs-number">5500.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">436600.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">478400.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>     <span class="hljs-number">2000.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">512600.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">464600.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>    <span class="hljs-number">23100.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">558200.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">460300.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>   <span class="hljs-number">108800.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">564300.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">386500.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">649000.0</span>    ...     <span class="hljs-number">8.61</span>   <span class="hljs-number">399200.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">682500.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">6</span>        <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>    ...     <span class="hljs-number">0.00</span>        <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2560700.0</span>  <span class="hljs-number">8.62</span>  <span class="hljs-number">483200.0</span>    ...     <span class="hljs-number">8.60</span>  <span class="hljs-number">1009300.0</span>  <span class="hljs-number">8.59</span>  <span class="hljs-number">201000.0</span>  <span class="hljs-number">8.58</span>   

       b3_v  b4_p      b4_v  b5_p      b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">211300.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">311100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">211300.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">210900.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">209600.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306200.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">179200.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">209500.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">307300.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184200.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">209500.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306800.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184200.0</span>  
<span class="hljs-number">6</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">365600.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184700.0</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">250900.0</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">26</span> columns]
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>





</div>
</section>
<h3 id="股票融资融券数据">股票融资融券数据</h3>
<ul>
<li><strong>更新时间：2010至今,下一个交易日10点之前更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_mtss"></span>get_mtss</label>
      <label>获取股票的融资融券信息</label>
      <article style="display: block; height: 2649.71px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_mtss(security_list, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取一只或者多只股票在一个时间段内的融资融券信息</p>
<p><strong>注： 需导入 jqdatasdk 模块，<code class="hljs angelscript"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *</code></strong></p>
<p><strong>参数</strong></p>
<ul>
<li><p>security_list: 一只股票代码或者一个股票代码的 list</p></li>
<li><p>start_date: 开始日期, <strong>与 count 二选一, 不可同时使用</strong>. 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 默认为平台提供的数据的最早日期</p></li>
<li><p>end_date: 结束日期, 一个字符串或者 [datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()</p></li>
<li><p>count: 数量, <strong>与 start_date 二选一，不可同时使用</strong>, 必须大于 0. 表示返回 end_date 之前 count 个交易日的数据, 包含 end_date</p></li>
<li><p>fields: 字段名或者 list, 可选. 默认为 None, 表示取全部字段, 各字段含义如下：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>sec_code</td>
<td>股票代码</td>
</tr>
<tr>
<td>fin_value</td>
<td>融资余额(元）</td>
</tr>
<tr>
<td>fin_buy_value</td>
<td>融资买入额（元）</td>
</tr>
<tr>
<td>fin_refund_value</td>
<td>融资偿还额（元）</td>
</tr>
<tr>
<td>sec_value</td>
<td>融券余量（股）</td>
</tr>
<tr>
<td>sec_sell_value</td>
<td>融券卖出量（股）</td>
</tr>
<tr>
<td>sec_refund_value</td>
<td>融券偿还量（股）</td>
</tr>
<tr>
<td>fin_sec_value</td>
<td>融资融券余额（元）</td>
</tr>
</tbody>
</table></li>
<li><p><strong>返回</strong></p></li>
</ul>
<p>返回一个 [pandas.DataFrame] 对象，默认的列索引为取得的全部字段. 如果给定了 fields 参数, 则列索引与给定的 fields 对应.</p>
<p><strong>示例</strong></p>
<p><strong>获取一只股票</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取平安银行在2016-01-01和2016-04-01的融资融券信息</span>
df=get_mtss(<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'2016-01-01'</span>,<span class="hljs-string">'2016-04-01'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df[:<span class="hljs-number">5</span>])

        date     sec_code     fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">3.472612e+09</span>    <span class="hljs-number">152129217.0</span>       <span class="hljs-number">169414153.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">3.439317e+09</span>    <span class="hljs-number">143615276.0</span>       <span class="hljs-number">176910198.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">3.424639e+09</span>    <span class="hljs-number">110246569.0</span>       <span class="hljs-number">124924119.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">3.431689e+09</span>     <span class="hljs-number">35093634.0</span>        <span class="hljs-number">28044375.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">3.369931e+09</span>    <span class="hljs-number">136799561.0</span>       <span class="hljs-number">198556950.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>   <span class="hljs-number">594640.0</span>        <span class="hljs-number">184100.0</span>          <span class="hljs-number">317900.0</span>   <span class="hljs-number">3.479349e+09</span>  
<span class="hljs-number">1</span>   <span class="hljs-number">584540.0</span>         <span class="hljs-number">20800.0</span>           <span class="hljs-number">30900.0</span>   <span class="hljs-number">3.445981e+09</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">403040.0</span>           <span class="hljs-number">900.0</span>          <span class="hljs-number">182400.0</span>   <span class="hljs-number">3.429286e+09</span>  
<span class="hljs-number">3</span>   <span class="hljs-number">395140.0</span>             <span class="hljs-number">0.0</span>            <span class="hljs-number">7900.0</span>   <span class="hljs-number">3.436011e+09</span>  
<span class="hljs-number">4</span>   <span class="hljs-number">362440.0</span>          <span class="hljs-number">2400.0</span>           <span class="hljs-number">35100.0</span>   <span class="hljs-number">3.373962e+09</span>  
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取股票 000001.XSHE 在日期 2016-06-30 往前 5 个交易日的融资融券信息</span>
df=get_mtss(<span class="hljs-string">'000001.XSHE'</span>, end_date=<span class="hljs-string">"2016-06-30"</span>, count=<span class="hljs-number">5</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df)
        date     sec_code     fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-24</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2.855885e+09</span>     <span class="hljs-number">71503613.0</span>        <span class="hljs-number">53903693.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-27</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2.869486e+09</span>     <span class="hljs-number">47309234.0</span>        <span class="hljs-number">33707430.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-28</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2.889199e+09</span>     <span class="hljs-number">55438177.0</span>        <span class="hljs-number">35725201.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-29</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2.897613e+09</span>     <span class="hljs-number">72215294.0</span>        <span class="hljs-number">63801533.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2.859810e+09</span>     <span class="hljs-number">41895702.0</span>        <span class="hljs-number">79699182.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>  <span class="hljs-number">2210681.0</span>         <span class="hljs-number">14100.0</span>         <span class="hljs-number">1666940.0</span>   <span class="hljs-number">2.874830e+09</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">3846536.0</span>       <span class="hljs-number">1660755.0</span>           <span class="hljs-number">24900.0</span>   <span class="hljs-number">2.902605e+09</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">3920836.0</span>         <span class="hljs-number">91700.0</span>           <span class="hljs-number">17400.0</span>   <span class="hljs-number">2.923036e+09</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">4024356.0</span>        <span class="hljs-number">161500.0</span>           <span class="hljs-number">57980.0</span>   <span class="hljs-number">2.932585e+09</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">3921356.0</span>         <span class="hljs-number">45700.0</span>          <span class="hljs-number">148700.0</span>   <span class="hljs-number">2.893925e+09</span>  
</code></pre>
<p><strong>获取多只股票的</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取平安银行、万科A、中信海直股票的融资融券信息</span>
df=get_mtss([<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>,<span class="hljs-string">'000099.XSHE'</span>],<span class="hljs-string">'2015-03-25'</span>,<span class="hljs-string">'2016-01-25'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df[:<span class="hljs-number">5</span>])

        date     sec_code     fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">5.147989e+09</span>    <span class="hljs-number">443602813.0</span>       <span class="hljs-number">401129440.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-26</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">5.112350e+09</span>    <span class="hljs-number">414025447.0</span>       <span class="hljs-number">449664794.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-27</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">5.136957e+09</span>    <span class="hljs-number">290626262.0</span>       <span class="hljs-number">266019436.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-30</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">5.204888e+09</span>    <span class="hljs-number">760545895.0</span>       <span class="hljs-number">692614645.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">5.057292e+09</span>    <span class="hljs-number">637117836.0</span>       <span class="hljs-number">784714127.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>  <span class="hljs-number">1401703.0</span>       <span class="hljs-number">4212074.0</span>         <span class="hljs-number">4466123.0</span>   <span class="hljs-number">5.168889e+09</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">1915450.0</span>       <span class="hljs-number">8223542.0</span>         <span class="hljs-number">7709795.0</span>   <span class="hljs-number">5.141292e+09</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">1510960.0</span>       <span class="hljs-number">7542256.0</span>         <span class="hljs-number">7946746.0</span>   <span class="hljs-number">5.159742e+09</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">1496603.0</span>      <span class="hljs-number">11072162.0</span>        <span class="hljs-number">11086519.0</span>   <span class="hljs-number">5.228325e+09</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">1556264.0</span>       <span class="hljs-number">7769048.0</span>         <span class="hljs-number">7709387.0</span>   <span class="hljs-number">5.081803e+09</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_margincash_stocks"></span>get_margincash_stocks</label>
      <label><strong>融资</strong>标的列表 </label>
      <article style="display: block; height: 459.055px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_margincash_stocks(date)
</code></pre>
<p><strong>参数</strong>
date:默认为None,不指定时返回上交所、深交所最近一次披露的的可融资标的列表的list。</p>
<p><strong>返回结果</strong>
返回指定日期上交所、深交所披露的的可融资标的列表的list。</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取融资标的列表，并赋值给 margincash_stocks</span>
margincash_stocks = get_margincash_stocks(date=<span class="hljs-string">'2018-07-02'</span>)
margincash_stocks[:<span class="hljs-number">3</span>]
&gt;&gt;&gt;[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>, <span class="hljs-string">'000006.XSHE'</span>]

<span class="hljs-comment"># 判断平安银行是否在可融资列表</span>
<span class="hljs-string">'000001.XSHE'</span> <span class="hljs-keyword">in</span> get_margincash_stocks(date=<span class="hljs-string">'2018-07-02'</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">True</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_marginsec_stocks"></span>get_marginsec_stocks</label>
      <label><strong>融券</strong>标的列表</label>
      <article style="display: block; height: 459.055px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_marginsec_stocks(date)
</code></pre>
<p><strong>参数</strong>
date:默认为None,不指定时返回上交所、深交所最近一次披露的的可融券标的列表的list。</p>
<p><strong>返回结果</strong>
返回指定日期上交所、深交所披露的的可融券标的列表的list。</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取融券标的列表，并赋值给 marginsec_stocks</span>
marginsec_stocks= get_marginsec_stocks(date=<span class="hljs-string">'2018-07-05'</span>)
print(marginsec_stocks[:<span class="hljs-number">5</span>])
[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>, <span class="hljs-string">'000006.XSHE'</span>, <span class="hljs-string">'000009.XSHE'</span>, <span class="hljs-string">'000012.XSHE'</span>]

<span class="hljs-comment"># 判断平安银行是否在可融券列表</span>
<span class="hljs-string">'000001.XSHE'</span> <span class="hljs-keyword">in</span> get_marginsec_stocks(date=<span class="hljs-string">'2018-07-05'</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">True</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_MT_TOTAL"></span>STK_MT_TOTAL</label>
      <label>融资融券汇总数据</label>
      <article style="display: block; height: 1486.14px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
finance.run_query(query(finance.STK_MT_TOTAL).filter(finance.STK_MT_TOTAL.date==<span class="hljs-string">'2019-05-23'</span>).limit(n))
</code></pre>
<p>描述：记录上海交易所和深圳交易所的融资融券汇总数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_MT_TOTAL)</strong>：表示从finance.STK_MT_TOTAL这张表中查询融资融券汇总数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></li>
<li><strong>finance.STK_MT_TOTAL</strong>：收录了融资融券汇总数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td>名称</td>
        <td>类型</td>
        <td>描述</td>
    </tr>
    <tr>
        <td>date</td>
        <td>date</td>
        <td>交易日期</td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>varchar(12)</td>
        <td><p>交易市场。例如，XSHG-上海证券交易所；XSHE-深圳证券交易所。</p>
<p>对应DataAPI.SysCodeGet.codeTypeID=10002。</p></td>
    </tr>
    <tr>
        <td>fin_value</td>
        <td>decimal(20,2)</td>
        <td>融资余额（元）</td>
    </tr>
    <tr>
        <td>fin_buy_value</td>
        <td>decimal(20,2)</td>
        <td>融资买入额（元）</td>
    </tr>
    <tr>
        <td>sec_volume</td>
        <td>int</td>
        <td>融券余量（股）</td>
    </tr>
    <tr>
        <td>sec_value</td>
        <td>decimal(20,2)</td>
        <td>融券余量金额（元）</td>
    </tr>
    <tr>
        <td>sec_sell_volume</td>
        <td>int</td>
        <td>融券卖出量（股）</td>
    </tr>
    <tr>
        <td>fin_sec_value</td>
        <td>decimal(20,2)</td>
        <td>融资融券余额（元）</td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(finance.STK_MT_TOTAL.date==date)</strong>：指定筛选条件，通过finance.STK_MT_TOTAL.date==date可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询2019-05-23的融资融券汇总数据。</span>
df=finance.run_query(query(finance.STK_MT_TOTAL).filter(finance.STK_MT_TOTAL.date==<span class="hljs-string">'2019-05-23'</span>))
print(df)

     id        date exchange_code     fin_value  fin_buy_value  sec_volume  \
<span class="hljs-number">0</span>  <span class="hljs-number">4445</span>  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>          XSHE  <span class="hljs-number">3.601290e+11</span>   <span class="hljs-number">1.460400e+10</span>   <span class="hljs-number">136000000</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">4446</span>  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>          XSHG  <span class="hljs-number">5.605276e+11</span>   <span class="hljs-number">1.906461e+10</span>   <span class="hljs-number">930593681</span>   

      sec_value  sec_sell_volume  fin_sec_value  
<span class="hljs-number">0</span>  <span class="hljs-number">1.465000e+09</span>         <span class="hljs-number">26000000</span>   <span class="hljs-number">3.615940e+11</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">6.018287e+09</span>        <span class="hljs-number">144633497</span>   <span class="hljs-number">5.665458e+11</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="股票：指数成分股及权重数据">股票：指数成分股及权重数据</h3>
<p><strong>更新时间：2005至今，交易日8:00更新</strong>
<span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_index_stocks"></span>get_index_stocks</label>
      <label>指数成份股</label>
      <article style="display: block; height: 548.797px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_index_stocks(index_symbol, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取一个指数给定日期在平台可交易的成分股列表，请点击<a href="https://www.joinquant.com/indexData">指数列表</a>查看指数信息</p>
<p><strong>参数</strong></p>
<ul>
<li>index_symbol: 指数代码</li>
<li>date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, </li>
</ul>
<p><strong>返回</strong>
返回股票代码的list</p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取所有沪深300的股票</span>
stocks = get_index_stocks(<span class="hljs-string">'000300.XSHG'</span>)
print(stocks[:<span class="hljs-number">5</span>])

<span class="hljs-comment"># 输出</span>
[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>, <span class="hljs-string">'000063.XSHE'</span>, <span class="hljs-string">'000066.XSHE'</span>, <span class="hljs-string">'000069.XSHE'</span>]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_index_weights"></span>get_index_weights</label>
      <label>指数成份股权重（月度）</label>
      <article style="display: block; height: 896.516px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs reasonml">get<span class="hljs-constructor">_index_weights(<span class="hljs-params">index_id</span>, <span class="hljs-params">date</span>=None)</span>
</code></pre>
<p>获取指数成份股给定日期的权重数据，每月的月底或者月初更新一次，请点击<a href="https://www.joinquant.com/help/api/help?name=index#%E6%B2%AA%E6%B7%B1%E6%8C%87%E6%95%B0%E5%88%97%E8%A1%A8">指数列表</a>查看指数信息</p>
<p><strong>参数</strong></p>
<ul>
<li>index_id: 代表指数的标准形式代码， 形式：指数代码.交易所代码，例如"000001.XSHG"。</li>
<li>date: 查询权重信息的日期，形式："%Y-%m-%d"，例如"2018-05-03"；</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>查询到对应日期，且有权重数据，返回 pandas.DataFrame， code(股票代码)，display_name(股票名称), date(日期), weight(权重)；</li>
<li>查询到对应日期，且无权重数据， 返回距离查询日期最近日期的权重信息；</li>
<li>找不到对应日期的权重信息， 返回距离查询日期最近日期的权重信息；</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="hljs lsl">#获取<span class="hljs-number">2018</span>年<span class="hljs-number">5</span>月<span class="hljs-number">9</span>日这天的上证指数的成份股权重
df = get_index_weights(index_id=<span class="hljs-string">"000001.XSHG"</span>, date=<span class="hljs-string">"2018-05-09"</span>)
print(df)

＃输出
code          display_name      date     weight                                   
<span class="hljs-number">603648.</span>XSHG         畅联股份  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.023</span>
<span class="hljs-number">603139.</span>XSHG         康惠制药  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.007</span>
<span class="hljs-number">603138.</span>XSHG         海量数据  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.015</span>
<span class="hljs-number">603136.</span>XSHG          天目湖  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.009</span>
<span class="hljs-number">603131.</span>XSHG         上海沪工  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.011</span>
                 ...         ...     ...
<span class="hljs-number">603005.</span>XSHG         晶方科技  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.023</span>
<span class="hljs-number">603007.</span>XSHG         花王股份  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.013</span>
<span class="hljs-number">603006.</span>XSHG         联明股份  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.008</span>
<span class="hljs-number">603009.</span>XSHG         北特科技  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.014</span>
<span class="hljs-number">603008.</span>XSHG          喜临门  <span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-09</span>   <span class="hljs-number">0.022</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="股票交易统计数据">股票交易统计数据</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_money_flow"></span>get_money_flow</label>
      <label>股票资金流向数据 / 2010至今,盘后20:00更新</label>
      <article style="display: block; height: 3048.98px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
get_money_flow(security_list, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取一只或者多只股票在一个时间段内的资金流向数据</p>
<p><strong>参数</strong></p>
<ul>
<li>security_list: 一只股票代码或者一个股票代码的 list</li>
<li>start_date: 开始日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象</li>
<li>end_date: 结束日期, 一个字符串或者 [datetime.date]/[datetime.datetime] 对象</li>
<li>count: 数量, 与 start_date 二选一，不可同时使用, 必须大于 0. 表示返回 end_date 之前 count 个交易日的数据, 包含 end_date</li>
<li>fields: 字段名或者 list, 可选. 默认为 None, 表示取全部字段, 各字段含义如下：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">含义</th>
<th style="text-align:left;">备注</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">date</td>
<td style="text-align:left;">日期</td>
<td style="text-align:left;"></td>
</tr>
<tr>
<td style="text-align:left;">sec_code</td>
<td style="text-align:left;">股票代码</td>
<td style="text-align:left;"></td>
</tr>
<tr>
<td style="text-align:left;">change_pct</td>
<td style="text-align:left;">涨跌幅(%)</td>
<td style="text-align:left;"></td>
</tr>
<tr>
<td style="text-align:left;">net_amount_main</td>
<td style="text-align:left;">主力净额(万)</td>
<td style="text-align:left;">主力净额 = 超大单净额 + 大单净额</td>
</tr>
<tr>
<td style="text-align:left;">net_pct_main</td>
<td style="text-align:left;">主力净占比(%)</td>
<td style="text-align:left;">主力净占比 = 主力净额 / 成交额</td>
</tr>
<tr>
<td style="text-align:left;">net_amount_xl</td>
<td style="text-align:left;">超大单净额(万)</td>
<td style="text-align:left;">超大单：大于等于50万股或者100万元的成交单</td>
</tr>
<tr>
<td style="text-align:left;">net_pct_xl</td>
<td style="text-align:left;">超大单净占比(%)</td>
<td style="text-align:left;">超大单净占比 = 超大单净额 / 成交额</td>
</tr>
<tr>
<td style="text-align:left;">net_amount_l</td>
<td style="text-align:left;">大单净额(万)</td>
<td style="text-align:left;">大单：大于等于10万股或者20万元且小于50万股或者100万元的成交单</td>
</tr>
<tr>
<td style="text-align:left;">net_pct_l</td>
<td style="text-align:left;">大单净占比(%)</td>
<td style="text-align:left;">大单净占比 = 大单净额 / 成交额</td>
</tr>
<tr>
<td style="text-align:left;">net_amount_m</td>
<td style="text-align:left;">中单净额(万)</td>
<td style="text-align:left;">中单：大于等于2万股或者4万元且小于10万股或者20万元的成交单</td>
</tr>
<tr>
<td style="text-align:left;">net_pct_m</td>
<td style="text-align:left;">中单净占比(%)</td>
<td style="text-align:left;">中单净占比 = 中单净额 / 成交额</td>
</tr>
<tr>
<td style="text-align:left;">net_amount_s</td>
<td style="text-align:left;">小单净额(万)</td>
<td style="text-align:left;">小单：小于2万股或者4万元的成交单</td>
</tr>
<tr>
<td style="text-align:left;">net_pct_s</td>
<td style="text-align:left;">小单净占比(%)</td>
<td style="text-align:left;">小单净占比 = 小单净额 / 成交额</td>
</tr>
</tbody>
</table>
<p><strong>返回</strong></p>
<p>返回一个 [pandas.DataFrame] 对象，默认的列索引为取得的全部字段. 如果给定了 fields 参数, 则列索引与给定的 fields 对应.</p>
<p><strong>示例</strong></p>
<p><strong>代码示例</strong></p>
<p><strong>获取一支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取一只股票在一个时间段内的资金流量数据</span>
df=get_money_flow([<span class="hljs-string">'000001.XSHE'</span>], <span class="hljs-string">'2010-01-01'</span>, <span class="hljs-string">'2010-01-30'</span>, [<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'change_pct'</span>,<span class="hljs-string">'net_amount_main'</span>,<span class="hljs-string">'net_pct_main'</span>,<span class="hljs-string">'net_amount_xl'</span>,<span class="hljs-string">'net_pct_xl'</span>,<span class="hljs-string">'net_amount_l'</span>,<span class="hljs-string">'net_pct_l'</span>,<span class="hljs-string">'net_amount_m'</span>,<span class="hljs-string">'net_pct_m'</span>,<span class="hljs-string">'net_amount_s'</span>,<span class="hljs-string">'net_pct_s'</span>])
print(df[:<span class="hljs-number">4</span>])

        date     sec_code  change_pct  net_amount_main  net_pct_main  \
<span class="hljs-number">0</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">-2.71</span>         <span class="hljs-number">-5106.20</span>          <span class="hljs-number">-8.8</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">-1.73</span>        <span class="hljs-number">-14486.95</span>         <span class="hljs-number">-11.2</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">-1.72</span>        <span class="hljs-number">-14450.14</span>         <span class="hljs-number">-15.3</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">-1.09</span>        <span class="hljs-number">-11419.16</span>         <span class="hljs-number">-14.2</span>   

   net_amount_xl  net_pct_xl  net_amount_l  net_pct_l  net_amount_m  \
<span class="hljs-number">0</span>       <span class="hljs-number">-1682.72</span>        <span class="hljs-number">-2.9</span>      <span class="hljs-number">-3423.47</span>       <span class="hljs-number">-5.9</span>       <span class="hljs-number">1450.62</span>   
<span class="hljs-number">1</span>      <span class="hljs-number">-21213.02</span>       <span class="hljs-number">-16.4</span>       <span class="hljs-number">6726.08</span>        <span class="hljs-number">5.2</span>       <span class="hljs-number">6726.09</span>   
<span class="hljs-number">2</span>      <span class="hljs-number">-13883.47</span>       <span class="hljs-number">-14.7</span>       <span class="hljs-number">-566.68</span>       <span class="hljs-number">-0.6</span>       <span class="hljs-number">4722.27</span>   
<span class="hljs-number">3</span>       <span class="hljs-number">-9087.08</span>       <span class="hljs-number">-11.3</span>      <span class="hljs-number">-2332.08</span>       <span class="hljs-number">-2.9</span>       <span class="hljs-number">3297.08</span>   

   net_pct_m  net_amount_s  net_pct_s  
<span class="hljs-number">0</span>        <span class="hljs-number">2.5</span>       <span class="hljs-number">3655.57</span>        <span class="hljs-number">6.3</span>  
<span class="hljs-number">1</span>        <span class="hljs-number">5.2</span>       <span class="hljs-number">7760.86</span>        <span class="hljs-number">6.0</span>  
<span class="hljs-number">2</span>        <span class="hljs-number">5.0</span>       <span class="hljs-number">9727.87</span>       <span class="hljs-number">10.3</span>  
<span class="hljs-number">3</span>        <span class="hljs-number">4.1</span>       <span class="hljs-number">8122.08</span>       <span class="hljs-number">10.1</span>  
</code></pre><p></p>
<p><strong>获取多支股票</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取多只股票在一个时间段内的资金流向数据</span>
df=get_money_flow([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000040.XSHE'</span>, <span class="hljs-string">'000099.XSHE'</span>], <span class="hljs-string">'2010-01-01'</span>, <span class="hljs-string">'2010-01-30'</span>, [<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'change_pct'</span>,<span class="hljs-string">'net_amount_main'</span>,<span class="hljs-string">'net_pct_main'</span>,<span class="hljs-string">'net_amount_xl'</span>,<span class="hljs-string">'net_pct_xl'</span>,<span class="hljs-string">'net_amount_l'</span>,<span class="hljs-string">'net_pct_l'</span>,<span class="hljs-string">'net_amount_m'</span>,<span class="hljs-string">'net_pct_m'</span>,<span class="hljs-string">'net_amount_s'</span>,<span class="hljs-string">'net_pct_s'</span>])
print(df[:<span class="hljs-number">4</span>])

        date     sec_code  change_pct  net_amount_main  net_pct_main  \
<span class="hljs-number">0</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">000099.</span>XSHE        <span class="hljs-number">0.77</span>           <span class="hljs-number">576.20</span>          <span class="hljs-number">13.7</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">000040.</span>XSHE       <span class="hljs-number">-1.95</span>          <span class="hljs-number">-667.22</span>         <span class="hljs-number">-29.1</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">-2.71</span>         <span class="hljs-number">-5106.20</span>          <span class="hljs-number">-8.8</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2010</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">000040.</span>XSHE       <span class="hljs-number">-2.27</span>          <span class="hljs-number">-473.25</span>         <span class="hljs-number">-13.3</span>   

   net_amount_xl  net_pct_xl  net_amount_l  net_pct_l  net_amount_m  \
<span class="hljs-number">0</span>         <span class="hljs-number">121.97</span>         <span class="hljs-number">2.9</span>        <span class="hljs-number">454.23</span>       <span class="hljs-number">10.8</span>        <span class="hljs-number">-46.26</span>   
<span class="hljs-number">1</span>           <span class="hljs-number">0.00</span>         <span class="hljs-number">0.0</span>       <span class="hljs-number">-667.22</span>      <span class="hljs-number">-29.1</span>         <span class="hljs-number">75.66</span>   
<span class="hljs-number">2</span>       <span class="hljs-number">-1682.72</span>        <span class="hljs-number">-2.9</span>      <span class="hljs-number">-3423.47</span>       <span class="hljs-number">-5.9</span>       <span class="hljs-number">1450.62</span>   
<span class="hljs-number">3</span>           <span class="hljs-number">0.00</span>         <span class="hljs-number">0.0</span>       <span class="hljs-number">-473.25</span>      <span class="hljs-number">-13.3</span>       <span class="hljs-number">-206.38</span>   

   net_pct_m  net_amount_s  net_pct_s  
<span class="hljs-number">0</span>       <span class="hljs-number">-1.1</span>       <span class="hljs-number">-529.93</span>      <span class="hljs-number">-12.6</span>  
<span class="hljs-number">1</span>        <span class="hljs-number">3.3</span>        <span class="hljs-number">591.56</span>       <span class="hljs-number">25.8</span>  
<span class="hljs-number">2</span>        <span class="hljs-number">2.5</span>       <span class="hljs-number">3655.57</span>        <span class="hljs-number">6.3</span>  
<span class="hljs-number">3</span>       <span class="hljs-number">-5.8</span>        <span class="hljs-number">679.62</span>       <span class="hljs-number">19.1</span>  
</code></pre><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取多只股票在某一天的资金流向数据</span>
df=get_money_flow([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000040.XSHE'</span>, <span class="hljs-string">'000099.XSHE'</span>], <span class="hljs-string">'2016-04-01'</span>, <span class="hljs-string">'2016-04-01'</span>,[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'change_pct'</span>,<span class="hljs-string">'net_amount_main'</span>,<span class="hljs-string">'net_pct_main'</span>,<span class="hljs-string">'net_amount_xl'</span>,<span class="hljs-string">'net_pct_xl'</span>,<span class="hljs-string">'net_amount_l'</span>,<span class="hljs-string">'net_pct_l'</span>,<span class="hljs-string">'net_amount_m'</span>,<span class="hljs-string">'net_pct_m'</span>,<span class="hljs-string">'net_amount_s'</span>,<span class="hljs-string">'net_pct_s'</span>])
print(df[:<span class="hljs-number">4</span>])

        date     sec_code  change_pct  net_amount_main  net_pct_main  \
<span class="hljs-number">0</span> <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span>  <span class="hljs-number">000001.</span>XSHE        <span class="hljs-number">0.19</span>          <span class="hljs-number">-580.30</span>         <span class="hljs-number">-1.48</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span>  <span class="hljs-number">000040.</span>XSHE       <span class="hljs-number">-0.69</span>          <span class="hljs-number">-293.20</span>         <span class="hljs-number">-3.40</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span>  <span class="hljs-number">000099.</span>XSHE       <span class="hljs-number">-3.61</span>         <span class="hljs-number">-8913.61</span>        <span class="hljs-number">-23.39</span>   

   net_amount_xl  net_pct_xl  net_amount_l  net_pct_l  net_amount_m  \
<span class="hljs-number">0</span>         <span class="hljs-number">684.81</span>        <span class="hljs-number">1.75</span>      <span class="hljs-number">-1265.11</span>      <span class="hljs-number">-3.23</span>       <span class="hljs-number">-527.74</span>   
<span class="hljs-number">1</span>        <span class="hljs-number">-244.34</span>       <span class="hljs-number">-2.83</span>        <span class="hljs-number">-48.86</span>      <span class="hljs-number">-0.57</span>       <span class="hljs-number">-371.15</span>   
<span class="hljs-number">2</span>       <span class="hljs-number">-5711.44</span>      <span class="hljs-number">-14.99</span>      <span class="hljs-number">-3202.18</span>      <span class="hljs-number">-8.40</span>       <span class="hljs-number">2013.41</span>   

   net_pct_m  net_amount_s  net_pct_s  
<span class="hljs-number">0</span>      <span class="hljs-number">-1.35</span>       <span class="hljs-number">1108.05</span>       <span class="hljs-number">2.83</span>  
<span class="hljs-number">1</span>      <span class="hljs-number">-4.30</span>        <span class="hljs-number">664.35</span>       <span class="hljs-number">7.70</span>  
<span class="hljs-number">2</span>       <span class="hljs-number">5.28</span>       <span class="hljs-number">6900.20</span>      <span class="hljs-number">18.10</span>  
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_billboard_list"></span>get_billboard_list</label>
      <label>龙虎榜数据 / 2005至今，盘后20:00和22:00更新</label>
      <article style="display: block; height: 1976.55px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_billboard_list(stock_list, start_date, end_date, count)
</code></pre>
<p>获取指定日期区间内的龙虎榜数据</p>
<p><strong>参数</strong></p>
<ul>
<li>stock_list: 一个股票代码的 list。 当值为 None 时， 返回指定日期的所有股票。</li>
<li>start_date:开始日期</li>
<li>end_date: 结束日期</li>
<li>count: 交易日数量， 可以与 end_date 同时使用， 表示获取 end_date 前 count 个交易日的数据(含 end_date 当日)</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>pandas.DataFrame， 各 column 的含义如下:</li>
<li>code: 股票代码</li>
<li>day: 日期</li>
<li>direction: ALL 表示『汇总』，SELL 表示『卖』，BUY 表示『买』</li>
<li>abnormal_code: 异常波动类型</li>
<li>abnormal_name: 异常波动名称</li>
<li>sales_depart_name: 营业部名称</li>
<li>rank: 0 表示汇总， 1~5 对应买入金额或卖出金额排名第一到第五</li>
<li>buy_value:买入金额</li>
<li>buy_rate:买入金额占比(买入金额/市场总成交额)</li>
<li>sell_value:卖出金额</li>
<li>sell_rate:卖出金额占比(卖出金额/市场总成交额)</li>
<li>net_value:净额(买入金额 - 卖出金额)</li>
<li>amount:市场总成交额</li>
</ul>
<p><strong>异常波动类型</strong></p>
<table>
<thead>
<tr>
<th>参数编码</th>
<th>参数名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>106001</td>
<td>涨幅偏离值达7%的证券</td>
</tr>
<tr>
<td>106002</td>
<td>跌幅偏离值达7%的证券</td>
</tr>
<tr>
<td>106003</td>
<td>日价格振幅达到15%的证券</td>
</tr>
<tr>
<td>106004</td>
<td>换手率达20%的证券</td>
</tr>
<tr>
<td>106005</td>
<td>无价格涨跌幅限制的证券</td>
</tr>
<tr>
<td>106006</td>
<td>连续三个交易日内收盘价格涨幅偏离值累计达到20%的证券</td>
</tr>
<tr>
<td>106007</td>
<td>连续三个交易日内收盘价格跌幅偏离值累计达到20%的证券</td>
</tr>
<tr>
<td>106008</td>
<td>连续三个交易日内收盘价格涨幅偏离值累计达到15%的证券</td>
</tr>
<tr>
<td>106009</td>
<td>连续三个交易日内收盘价格跌幅偏离值累计达到15%的证券</td>
</tr>
<tr>
<td>106010</td>
<td>连续三个交易日内涨幅偏离值累计达到12%的ST证券、*ST证券和未完成股改证券</td>
</tr>
<tr>
<td>106011</td>
<td>连续三个交易日内跌幅偏离值累计达到12%的ST证券、*ST证券和未完成股改证券</td>
</tr>
<tr>
<td>106012</td>
<td>连续三个交易日的日均换手率与前五个交易日日均换手率的比值到达30倍</td>
</tr>
<tr>
<td>106013</td>
<td>单只标的证券的当日融资买入数量达到当日该证券总交易量的50％以上的证券</td>
</tr>
<tr>
<td>106014</td>
<td>单只标的证券的当日融券卖出数量达到当日该证券总交易量的50％以上的证券</td>
</tr>
<tr>
<td>106099</td>
<td>其它异常波动的证券</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取2018-08-01的龙虎榜数据,count表示交易日数量</span>
df=get_billboard_list(stock_list=<span class="hljs-keyword">None</span>, end_date = <span class="hljs-string">'2018-08-01'</span>, count =<span class="hljs-number">1</span>)
print(df[:<span class="hljs-number">3</span>])

          code         day direction  rank  abnormal_code abnormal_name  \
<span class="hljs-number">0</span>  <span class="hljs-number">603803.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>      SELL     <span class="hljs-number">2</span>         <span class="hljs-number">106002</span>   跌幅偏离值达<span class="hljs-number">7</span>%的证券   
<span class="hljs-number">1</span>  <span class="hljs-number">603803.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>       BUY     <span class="hljs-number">5</span>         <span class="hljs-number">106002</span>   跌幅偏离值达<span class="hljs-number">7</span>%的证券   
<span class="hljs-number">2</span>  <span class="hljs-number">603803.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span>       BUY     <span class="hljs-number">4</span>         <span class="hljs-number">106002</span>   跌幅偏离值达<span class="hljs-number">7</span>%的证券   

       sales_depart_name  buy_value  buy_rate  sell_value  sell_rate  \
<span class="hljs-number">0</span>  西部证券股份有限公司丹阳丹凤北路证券营业部        NaN       NaN   <span class="hljs-number">2466090.0</span>     <span class="hljs-number">2.0684</span>   
<span class="hljs-number">1</span>   中泰证券股份有限公司烟台长江路证券营业部  <span class="hljs-number">1781600.0</span>    <span class="hljs-number">1.4943</span>         NaN        NaN   
<span class="hljs-number">2</span>   中航证券有限公司景德镇珠山东路证券营业部  <span class="hljs-number">1842434.0</span>    <span class="hljs-number">1.5453</span>         NaN        NaN   

   total_value  net_value       amount  
<span class="hljs-number">0</span>    <span class="hljs-number">2466090.0</span> <span class="hljs-number">-2466090.0</span>  <span class="hljs-number">119226855.0</span>  
<span class="hljs-number">1</span>    <span class="hljs-number">1781600.0</span>  <span class="hljs-number">1781600.0</span>  <span class="hljs-number">119226855.0</span>  
<span class="hljs-number">2</span>    <span class="hljs-number">1842434.0</span>  <span class="hljs-number">1842434.0</span>  <span class="hljs-number">119226855.0</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_locked_shares"></span>get_locked_shares</label>
      <label>限售解禁数据 / 2005至今盘后20:00更新</label>
      <article style="display: block; height: 836.555px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_locked_shares(stock_list, start_date, end_date, forward_count)
</code></pre>
<p>获取指定日期区间内的限售解禁数据</p>
<p><strong>参数</strong></p>
<ul>
<li>stock_list: 一个股票代码的 list</li>
<li>start_date: 开始日期</li>
<li>end_date: 结束日期</li>
<li>forward_count: 交易日数量， 可以与 start_date 同时使用， 表示获取 start_date 到 forward_count 个交易日区间的数据</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><p>pandas.DataFrame， 各 column 的含义如下:</p>
<ul>
<li>day: 解禁日期</li>
<li>code: 股票代码</li>
<li>num: 解禁股数</li>
<li>rate1: 解禁股数/总股本</li>
<li>rate2: 解禁股数/总流通股本</li></ul></li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 在策略中获取个股未来500天的解禁情况</span>
df=get_locked_shares(stock_list=[<span class="hljs-string">'002345.XSHE'</span>, <span class="hljs-string">'603025.XSHG'</span>], start_date=<span class="hljs-string">'2020-07-20'</span>, forward_count=<span class="hljs-number">500</span>)
print(df)
          day         code         num   rate1   rate2
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-07</span><span class="hljs-number">-20</span>  <span class="hljs-number">002345.</span>XSHE  <span class="hljs-number">12060300.0</span>  <span class="hljs-number">0.0083</span>  <span class="hljs-number">0.0086</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span>  <span class="hljs-number">603025.</span>XSHG   <span class="hljs-number">3561107.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">0.0039</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2021</span><span class="hljs-number">-11</span><span class="hljs-number">-04</span>  <span class="hljs-number">603025.</span>XSHG   <span class="hljs-number">1263300.0</span>  <span class="hljs-number">0.0014</span>  <span class="hljs-number">0.0014</span>
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_EXCHANGE_TRADE_INFO"></span>STK_EXCHANGE_TRADE_INFO</label>
      <label>沪深市场每日成交概况 / 2005年至今，交易日20:30-24:00更新</label>
      <article style="display: block; height: 2586.39px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_EXCHANGE_TRADE_INFO).filter(finance.STK_EXCHANGE_TRADE_INFO.exchange_code==exchange_code).limit(n)
</code></pre>
<p>记录沪深两市股票交易的成交情况，包括市值、成交量，市盈率等情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_EXCHANGE_TRADE_INFO)</strong>：表示从finance.STK_EXCHANGE_TRADE_INFO这张表中查询沪深两市股票交易的成交情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></li>
<li><strong>finance.STK_EXCHANGE_TRADE_INFO</strong>：代表沪深市场每日成交概况表，记录沪深两市股票交易的成交情况，包括市值、成交量，市盈率等情况，表结构和字段信息如下：</li>
</ul>
<table>
    <tbody><tr bgcolor="#CCCCCC" border="2px" solid="" #000000="">


        <td width="150"><strong>字段名称</strong></td>
        <td width="120"><strong>中文名称</strong></td>
        <td width="80"><strong>字段类型</strong></td>
        <td width="80"><strong>能否为空</strong></td>
        <td width="180"><strong>含义</strong></td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>市场编码</td>
        <td>varchar(12)</td>
        <td>N</td>
        <td>编码规则见下表</td>
    </tr>
    <tr>
        <td>exchange_name</td>
        <td>市场名称</td>
        <td>varchar(100)</td>
        <td></td>
        <td><p>上海市场，上海A股，上海B股</p>
        <p>深圳市场，深市主板</p>
        <p>中小企业板，创业板</p></td>
    </tr>
    <tr>
        <td>date</td>
        <td>交易日期</td>
        <td>date</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>total_market_cap</td>
        <td>市价总值</td>
        <td>decimal(20,8)</td>
        <td></td>
        <td>单位：亿</td>
    </tr>
    <tr>
        <td>circulating_market_cap</td>
        <td>流通市值</td>
        <td>decimal(20,8)</td>
        <td></td>
        <td>单位：亿</td>
    </tr>
    <tr>
        <td>volume</td>
        <td>成交量</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万</td>
    </tr>
    <tr>
        <td>money</td>
        <td>成交金额</td>
        <td>decimal(20,8)</td>
        <td></td>
        <td>单位：亿</td>
    </tr>
    <tr>
        <td>deal_number</td>
        <td>成交笔数</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万笔</td>
    </tr>
    <tr>
        <td>pe_average</td>
        <td>平均市盈率</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td><p>上海市场市盈率计算方法：</p>
          <p>市盈率＝∑(收盘价×发行数量)/∑(每股收益×发行数量)，统计时剔除亏损及暂停上市的上市公司。</p>
        <p>深圳市场市盈率计算方法：</p>
        <p>市盈率＝∑市价总值/∑(总股本×上年每股利润)，剔除上年利润为负的公司。</p></td>
    </tr>
    <tr>
        <td>turnover_ratio</td>
        <td>换手率</td>
        <td>decimal(10,4)</td>
        <td></td>
        <td>单位：％</td>
    </tr>
</tbody></table>
<p>市场编码名称对照表</p>
<table>
<thead>
<tr>
<th>市场编码</th>
<th>交易市场名称</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>322001</td>
<td>上海市场</td>
<td></td>
</tr>
<tr>
<td>322002</td>
<td>上海A股</td>
<td></td>
</tr>
<tr>
<td>322003</td>
<td>上海B股</td>
<td></td>
</tr>
<tr>
<td>322004</td>
<td>深圳市场</td>
<td>该市场交易所未公布成交量和成交笔数</td>
</tr>
<tr>
<td>322005</td>
<td>深市主板</td>
<td></td>
</tr>
<tr>
<td>322006</td>
<td>中小企业板</td>
<td></td>
</tr>
<tr>
<td>322007</td>
<td>创业板</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong>filter(finance.STK_EXCHANGE_TRADE_INFO.date==date)</strong>：指定筛选条件，通过finance.STK_EXCHANGE_TRADE_INFO.date==date可以指定你想要查询的交易日期；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EXCHANGE_TRADE_INFO.exchange_code==322001，表示筛选市场编码为322001（上海市场）的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个dataframe，每一行对应数据表中的一条数据，列索引是你所查询的字段名称。</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p></li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs">q=query(finance.STK_EXCHANGE_TRADE_INFO).filter(finance.STK_EXCHANGE_TRADE_INFO.date&gt;=<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

      id exchange_code exchange_name        date  total_market_cap  \
<span class="hljs-number">0</span>  <span class="hljs-number">14847</span>        <span class="hljs-number">322002</span>          上海A股  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>     <span class="hljs-number">252101.167063</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">14848</span>        <span class="hljs-number">322003</span>          上海B股  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>        <span class="hljs-number">883.102583</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">14849</span>        <span class="hljs-number">322001</span>          上海市场  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>     <span class="hljs-number">252984.269645</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">14850</span>        <span class="hljs-number">322006</span>         中小企业板  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>      <span class="hljs-number">51786.890000</span>   

   circulating_market_cap        volume        money  deal_number  pe_average  \
<span class="hljs-number">0</span>           <span class="hljs-number">228118.117416</span>  <span class="hljs-number">5.321700e+06</span>  <span class="hljs-number">5504.189763</span>    <span class="hljs-number">1800.6098</span>      <span class="hljs-number">16.576</span>   
<span class="hljs-number">1</span>              <span class="hljs-number">883.102583</span>  <span class="hljs-number">7.334709e+03</span>     <span class="hljs-number">4.510566</span>       <span class="hljs-number">3.7579</span>      <span class="hljs-number">15.987</span>   
<span class="hljs-number">2</span>           <span class="hljs-number">229001.219999</span>  <span class="hljs-number">5.335211e+06</span>  <span class="hljs-number">5511.112029</span>    <span class="hljs-number">1804.4529</span>      <span class="hljs-number">16.574</span>   
<span class="hljs-number">3</span>            <span class="hljs-number">36548.430000</span>  <span class="hljs-number">5.987000e+05</span>   <span class="hljs-number">845.890000</span>     <span class="hljs-number">381.6300</span>      <span class="hljs-number">41.660</span>   

   turnover_ratio  
<span class="hljs-number">0</span>          <span class="hljs-number">2.1486</span>  
<span class="hljs-number">1</span>          <span class="hljs-number">0.4856</span>  
<span class="hljs-number">2</span>          <span class="hljs-number">2.1385</span>  
<span class="hljs-number">3</span>             NaN  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h3 id="市场通数据（含南北向资金数据）">市场通数据（含南北向资金数据）</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="STK_AH_PRICE_COMP"></span>STK_AH_PRICE_COMP</label>
      <label>市场通AH股价格对比 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 1698.27px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_AH_PRICE_COMP).filter(finance.STK_AH_PRICE_COMP.a_code==a_code).order_by(finance.STK_AH_PRICE_COMP.day).limit(n)
</code></pre>
<p>记录同时在A股和H股上市的股票的价格比对。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_AH_PRICE_COMP)</strong>：表示从finance.STK_AH_PRICE_COMP这张表中查询同时在A股和H股上市的股票的价格对比，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.STK_AH_PRICE_COMP</strong>：代表A股和H股的价格对比表，收录了同时在A股和H股上市的股票的价格对比情况，包括收盘价，涨跌幅等，表结构和字段信息如下：</li>
</ul>
<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>类型</th>
<th>非空</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>day</td>
<td>日期</td>
<td>date</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>股票简称</td>
<td>varchar(32)</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>a_code</td>
<td>a股代码</td>
<td>varchar(12)</td>
<td>Y</td>
<td>'000002.XSHE'</td>
</tr>
<tr>
<td>h_code</td>
<td>h股代码</td>
<td>varchar(12)</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>a_price</td>
<td>a股收盘价</td>
<td>decimal(10,4)</td>
<td></td>
<td>人民币</td>
</tr>
<tr>
<td>h_price</td>
<td>h股收盘价</td>
<td>decimal(10,4)</td>
<td></td>
<td>港币</td>
</tr>
<tr>
<td>a_quote_change</td>
<td>a股涨跌幅</td>
<td>decimal(10,4)</td>
<td></td>
<td>%</td>
</tr>
<tr>
<td>h_quote_change</td>
<td>h股涨跌幅</td>
<td>decimal(10,4)</td>
<td></td>
<td>%</td>
</tr>
<tr>
<td>h_a_comp</td>
<td>比价(H/A)</td>
<td>decimal(10,4)</td>
<td></td>
<td>A股人民币价格/(H股港币价格*港币兑人民币的汇率)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_AH_PRICE_COMP.a_code==a_code)</strong>：指定筛选条件，通过finance.STK_AH_PRICE_COMP.a_code==a_code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_AH_PRICE_COMP.day&gt;='2015-01-01'，表示筛选日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>order_by(finance.STK_AH_PRICE_COMP.day)</strong>: 将返回结果按日期排序</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="Python language-Python hljs">q=query(finance.STK_AH_PRICE_COMP).filter(finance.STK_AH_PRICE_COMP.a_code==<span class="hljs-string">'000002.XSHE'</span>).order_by(finance.STK_AH_PRICE_COMP.day).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

       id         day name       a_code h_code  a_price  h_price  \
<span class="hljs-number">0</span>  <span class="hljs-number">584546</span>  <span class="hljs-number">2014</span><span class="hljs-number">-06</span><span class="hljs-number">-25</span>  万科A  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">02202</span>     <span class="hljs-number">8.13</span>    <span class="hljs-number">13.28</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">584547</span>  <span class="hljs-number">2014</span><span class="hljs-number">-06</span><span class="hljs-number">-26</span>  万科A  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">02202</span>     <span class="hljs-number">8.26</span>    <span class="hljs-number">14.18</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">584548</span>  <span class="hljs-number">2014</span><span class="hljs-number">-06</span><span class="hljs-number">-27</span>  万科A  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">02202</span>     <span class="hljs-number">8.32</span>    <span class="hljs-number">13.92</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">584549</span>  <span class="hljs-number">2014</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  万科A  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">02202</span>     <span class="hljs-number">8.27</span>    <span class="hljs-number">13.76</span>   

   a_quote_change  h_quote_change  h_a_comp  
<span class="hljs-number">0</span>          <span class="hljs-number">0.4944</span>            <span class="hljs-number">0.00</span>    <span class="hljs-number">0.7624</span>  
<span class="hljs-number">1</span>          <span class="hljs-number">1.5990</span>            <span class="hljs-number">6.78</span>    <span class="hljs-number">0.7251</span>  
<span class="hljs-number">2</span>          <span class="hljs-number">0.7264</span>           <span class="hljs-number">-1.83</span>    <span class="hljs-number">0.7453</span>  
<span class="hljs-number">3</span>         <span class="hljs-number">-0.6010</span>           <span class="hljs-number">-1.15</span>    <span class="hljs-number">0.7498</span>  
</code></pre></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_EL_CONST_CHANGE"></span>STK_EL_CONST_CHANGE</label>
      <label>市场通合格证券变动记录 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 1656.45px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_EL_CONST_CHANGE).filter(finance.STK_EL_CONST_CHANGE.code==code).limit(n))
</code></pre>
<p>记录沪港通、深港通和港股通的成分股的变动情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_EL_CONST_CHANGE)</strong>：表示从finance.STK_EL_CONST_CHANGE这张表中查询沪港通、深港通和港股通成分股的变动记录，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_EL_CONST_CHANGE</strong>：代表合资格证券变动表，记录沪港通、深港通和港股通成分股的变动情况，包括交易类型，变更日期，变更方向等，表结构和字段信息如下：</p></li>
</ul>
<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>类型</th>
<th>非空</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>link_id</td>
<td>交易类型编码</td>
<td>int</td>
<td>Y</td>
<td>同市场通编码</td>
</tr>
<tr>
<td>link_name</td>
<td>交易类型名称</td>
<td>varchar(12)</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>证券代码</td>
<td>varchar(12)</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>name_ch</td>
<td>中文简称</td>
<td>varchar(30)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>name_en</td>
<td>英文简称</td>
<td>varchar(120)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>exchange</td>
<td>该股票所在的交易所</td>
<td>varchar(12)</td>
<td>Y</td>
<td>上海市场:XSHG/深圳市场:XSHE/香港市场:XHKG</td>
</tr>
<tr>
<td>change_date</td>
<td>变更日期</td>
<td>date</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>direction</td>
<td>变更方向</td>
<td>varchar(6)</td>
<td>Y</td>
<td>IN/OUT（分别为纳入和剔除）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_EL_CONST_CHANGE.code==code)</strong>：指定筛选条件，通过finance.STK_EL_CONST_CHANGE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EL_CONST_CHANGE.change_date&gt;='2015-01-01'，表示筛选变更日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>order_by(finance.STK_EL_CONST_CHANGE.change_date)</strong>: 将返回结果按变更日期排序</li>
<li><strong>limit(n):</strong>限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_EL_CONST_CHANGE).filter(finance.STK_EL_CONST_CHANGE.link_id==<span class="hljs-number">310001</span>).order_by(finance.STK_EL_CONST_CHANGE.change_date).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

    id  link_id link_name         code name_ch name_en exchange change_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">536</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">600000.</span>XSHG    浦发银行    <span class="hljs-keyword">None</span>     XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-11</span><span class="hljs-number">-17</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">537</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">600004.</span>XSHG    白云机场    <span class="hljs-keyword">None</span>     XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-11</span><span class="hljs-number">-17</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">539</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">600007.</span>XSHG    中国国贸    <span class="hljs-keyword">None</span>     XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-11</span><span class="hljs-number">-17</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">540</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">600008.</span>XSHG    首创股份    <span class="hljs-keyword">None</span>     XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-11</span><span class="hljs-number">-17</span>   

  direction  
<span class="hljs-number">0</span>        IN  
<span class="hljs-number">1</span>        IN  
<span class="hljs-number">2</span>        IN  
<span class="hljs-number">3</span>        IN 
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_EXCHANGE_LINK_CALENDAR"></span>STK_EXCHANGE_LINK_CALENDAR</label>
      <label>市场通交易日历 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 2037.61px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance finance.run_query(query(finance.STK_EXCHANGE_LINK_CALENDAR).filter(finance.STK_EXCHANGE_LINK_CALENDAR.day==day).limit(n))
</code></pre>
<p>记录沪港通、深港通和港股通每天是否开市。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_EXCHANGE_LINK_CALENDAR)</strong>：表示从finance.STK_EXCHANGE_LINK_CALENDAR这张表中查询市场沪港通、深港通和港股通交易日历的信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.STK_EXCHANGE_LINK_CALENDAR</strong>：代表市场通交易日历表，记录沪港通、深港通和港股通每天是否开市，包括交易日期，交易日类型等，表结构和字段信息如下：</li>
</ul>
<table>
    <tbody><tr>
        <td width="100"><strong>字段</strong></td>
        <td width="175"><strong>名称</strong></td>
        <td width="130"><strong>类型</strong></td>
        <td width="60"><strong>非空</strong></td>
        <td width="246"><strong>备注/示例</strong></td>
    </tr>
    <tr>
        <td>day</td>
        <td>交易日期</td>
        <td>date</td>
        <td>Y</td>
        <td></td>
    </tr>
    <tr>
        <td>link_id</td>
        <td>市场通编码</td>
        <td>int</td>
        <td>Y</td>
        <td></td>
    </tr>
    <tr>
        <td>link_name</td>
        <td>市场通名称</td>
        <td>varchar(32)</td>
        <td>Y</td>
        <td><p>包括以下四个名称： </p>
        <p>沪股通， 深股通， </p>
        <p>港股通(沪)， 港股通(深)</p></td>
    </tr>
    <tr>
        <td>type_id</td>
        <td>交易日类型编码</td>
        <td>int</td>
        <td>Y</td>
        <td>如下 交易日类型编码</td>
    </tr>
    <tr>
        <td>type</td>
        <td>交易日类型</td>
        <td>varchar(32)</td>
        <td>Y</td>
        <td></td>
    </tr>
</tbody></table>
<p><strong>附注</strong></p>
<p>港股通（沪）和港股通（深）的交易日在深港通开展后是一致的。</p>
<p>交易日类型编码</p>
<table>
<thead>
<tr>
<th>交易日类型编码</th>
<th>交易日类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>312001</td>
<td>正常交易日</td>
</tr>
<tr>
<td>312002</td>
<td>周末</td>
</tr>
<tr>
<td>312003</td>
<td>全天休市</td>
</tr>
<tr>
<td>312004</td>
<td>上午休市</td>
</tr>
<tr>
<td>312005</td>
<td>下午休市</td>
</tr>
</tbody>
</table>
<p>市场通编码</p>
<table>
<thead>
<tr>
<th>市场通编码</th>
<th>市场通名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>310001</td>
<td>沪股通</td>
</tr>
<tr>
<td>310002</td>
<td>深股通</td>
</tr>
<tr>
<td>310003</td>
<td>港股通（沪）</td>
</tr>
<tr>
<td>310004</td>
<td>港股通（深）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_EXCHANGE_LINK_CALENDAR.day==day)</strong>：指定筛选条件，通过finance.STK_EXCHANGE_LINK_CALENDAR.day==day可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EXCHANGE_LINK_CALENDAR.type_id==312001，表示筛选交易日类型为正常交易日的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_EXCHANGE_LINK_CALENDAR).filter(finance.STK_EXCHANGE_LINK_CALENDAR.day&gt;=<span class="hljs-string">'2015-01-04'</span>).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

        id         day  link_id link_name  type_id   type
<span class="hljs-number">0</span>  <span class="hljs-number">1244833</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>   <span class="hljs-number">310001</span>       沪股通   <span class="hljs-number">312003</span>     休市
<span class="hljs-number">1</span>      <span class="hljs-number">148</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>   <span class="hljs-number">310003</span>    港股通(沪)   <span class="hljs-number">312003</span>     休市
<span class="hljs-number">2</span>  <span class="hljs-number">1244834</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>   <span class="hljs-number">310001</span>       沪股通   <span class="hljs-number">312001</span>  正常交易日
<span class="hljs-number">3</span>      <span class="hljs-number">149</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>   <span class="hljs-number">310003</span>    港股通(沪)   <span class="hljs-number">312001</span>  正常交易日
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_EL_TOP_ACTIVATE"></span>STK_EL_TOP_ACTIVATE</label>
      <label>市场通十大成交活跃股 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 2345.61px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance finance.run_query(query(finance.STK_EL_TOP_ACTIVATE).filter(finance.STK_EL_TOP_ACTIVATE.code==code).limit(n))
</code></pre>
<p>统计沪港通、深港通和港股通前十大交易活跃股的交易状况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_EL_TOP_ACTIVATE)</strong>：表示从finance.STK_EL_TOP_ACTIVATE这张表中查询沪港通、深港通和港股通前十大交易活跃股的交易状况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_EL_TOP_ACTIVATE</strong>：代表市场通十大成交活跃股数据表，统计沪港通、深港通和港股通前十大交易活跃股的交易状况，包括买入金额，卖出金额等，表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td><strong>字段</strong></td>
        <td><strong>名称</strong></td>
        <td><strong>类型</strong></td>
        <td><strong>非空</strong></td>
        <td><strong>交易所</strong></td>
        <td><strong>备注/示例</strong></td>
    </tr>
    <tr>
        <td>day</td>
        <td>日期</td>
        <td>date</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>link_id</td>
        <td>市场通编码</td>
        <td>int</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>link_name</td>
        <td>市场通名称</td>
        <td>varchar(32)</td>
        <td>Y</td>
        <td></td>
        <td><p>包括以下四个名称：</p>
        <p> 沪股通， 深股通， 港股通(沪)，港股通(深)</p></td>
    </tr>
    <tr>
        <td>rank</td>
        <td>排名</td>
        <td>int</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>股票名称</td>
        <td>varchar(100)</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>exchange</td>
        <td>交易所名称</td>
        <td>varchar(12)</td>
        <td>Y</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>buy</td>
        <td>买入金额(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
        <td>Y</td>
        <td></td>
    </tr>
    <tr>
        <td>sell</td>
        <td>卖出金额(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
        <td>Y</td>
        <td></td>
    </tr>
    <tr>
        <td>total</td>
        <td>买入及卖出金额(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
        <td>Y</td>
        <td></td>
    </tr>
</tbody></table>
<p>市场通编码</p>
<table>
<thead>
<tr>
<th>市场通编码</th>
<th>市场通名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>310001</td>
<td>沪股通</td>
</tr>
<tr>
<td>310002</td>
<td>深股通</td>
</tr>
<tr>
<td>310003</td>
<td>港股通（沪）</td>
</tr>
<tr>
<td>310004</td>
<td>港股通（深）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_EL_TOP_ACTIVATE.code==code)</strong>：指定筛选条件，通过finance.STK_EL_TOP_ACTIVATE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EL_TOP_ACTIVATE.day&gt;='2015-01-01'，表示筛选日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_EL_TOP_ACTIVATE).filter(finance.STK_EL_TOP_ACTIVATE.code==<span class="hljs-string">'000002.XSHE'</span>).limit(<span class="hljs-number">10</span>)
df=finance.run_query(q)
print(df)

       id         day  link_id link_name  rank         code name exchange  \
<span class="hljs-number">0</span>  <span class="hljs-number">323010</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-15</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">2</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">1</span>  <span class="hljs-number">323050</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">2</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">2</span>  <span class="hljs-number">323089</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-17</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">1</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">3</span>  <span class="hljs-number">323132</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-18</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">4</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">4</span>  <span class="hljs-number">323213</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-23</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">6</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">5</span>  <span class="hljs-number">323254</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-24</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">7</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">6</span>  <span class="hljs-number">341170</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-25</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">7</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">7</span>  <span class="hljs-number">341209</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-26</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">6</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">8</span>  <span class="hljs-number">341248</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-29</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">5</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   
<span class="hljs-number">9</span>  <span class="hljs-number">341444</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span>   <span class="hljs-number">310002</span>       深股通     <span class="hljs-number">5</span>  <span class="hljs-number">000002.</span>XSHE  万科Ａ      深交所   

           buy         sell        total  
<span class="hljs-number">0</span>  <span class="hljs-number">124497968.0</span>  <span class="hljs-number">326656496.0</span>  <span class="hljs-number">451154464.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">127460061.0</span>  <span class="hljs-number">465933921.0</span>  <span class="hljs-number">593393982.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">157676630.0</span>  <span class="hljs-number">542617116.0</span>  <span class="hljs-number">700293746.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">203996076.0</span>  <span class="hljs-number">105819761.0</span>  <span class="hljs-number">309815837.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">141515523.0</span>  <span class="hljs-number">190282952.0</span>  <span class="hljs-number">331798475.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">110052973.0</span>  <span class="hljs-number">163321615.0</span>  <span class="hljs-number">273374588.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">179785644.0</span>  <span class="hljs-number">120157651.0</span>  <span class="hljs-number">299943295.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">166750550.0</span>   <span class="hljs-number">78471253.0</span>  <span class="hljs-number">245221803.0</span>  
<span class="hljs-number">8</span>  <span class="hljs-number">157899558.0</span>  <span class="hljs-number">170790111.0</span>  <span class="hljs-number">328689669.0</span>  
<span class="hljs-number">9</span>  <span class="hljs-number">201547219.0</span>  <span class="hljs-number">165714289.0</span>  <span class="hljs-number">367261508.0</span> 
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_ML_QUOTA"></span>STK_ML_QUOTA</label>
      <label>市场通成交与额度信息 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 2726.61px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_ML_QUOTA).filter(finance.STK_ML_QUOTA.day==day).limit(n))
</code></pre>
<p>记录沪股通、深股通和港股通每个交易日的成交与额度的控制情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_ML_QUOTA)</strong>：表示从finance.STK_ML_QUOTA这张表中查询沪港通、深港通和港股通的成交与额度信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.STK_ML_QUOTA</strong>：代表了市场通成交与额度信息表，记录了沪港通、深港通和港股通成交与额度的信息，包括买入、卖出等，表结构和字段信息如下：</li>
</ul>
<table>
    <tbody><tr>
        <td><strong>字段</strong></td>
        <td><strong>名称</strong></td>
        <td><strong>类型</strong></td>
        <td><strong>备注/示例</strong></td>
    </tr>
    <tr>
        <td>day</td>
        <td>交易日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>link_id</td>
        <td>市场通编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>link_name</td>
        <td>市场通名称</td>
        <td>varchar(32)</td>
        <td><p>包括以下四个名称： 沪股通，深股通，港股通(沪）,港股通(深）；</p>
<p>其中沪股通和深股通属于北向资金，</p>
<p>港股通（沪）和港股通（深）属于南向资金。</p></td>
    </tr>
    <tr>
        <td>currency_id</td>
        <td>货币编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>currency</td>
        <td>货币名称</td>
        <td>varchar(16)</td>
        <td></td>
    </tr>
    <tr>
        <td>buy_amount</td>
        <td>买入成交额</td>
        <td>decimal(20,4)</td>
        <td>亿</td>
    </tr>
    <tr>
        <td>buy_volume</td>
        <td>买入成交数</td>
        <td>decimal(20,4)</td>
        <td>笔</td>
    </tr>
    <tr>
        <td>sell_amount</td>
        <td>卖出成交额</td>
        <td>decimal(20,4)</td>
        <td>亿</td>
    </tr>
    <tr>
        <td>sell_volume</td>
        <td>卖出成交数</td>
        <td>decimal(20,4)</td>
        <td>笔</td>
    </tr>
    <tr>
        <td>sum_amount</td>
        <td>累计成交额</td>
        <td>decimal(20,4)</td>
        <td>买入成交额+卖出成交额</td>
    </tr>
    <tr>
        <td>sum_volume</td>
        <td>累计成交数目</td>
        <td>decimal(20,4)</td>
        <td>买入成交量+卖出成交量</td>
    </tr>
    <tr>
        <td>quota</td>
        <td>总额度</td>
        <td>decimal(20, 4)</td>
        <td>亿（2016-08-16号起，沪港通和深港通不再设总额度限制）</td>
    </tr>
    <tr>
        <td>quota_balance</td>
        <td>总额度余额</td>
        <td>decimal(20, 4)</td>
        <td>亿</td>
    </tr>
    <tr>
        <td>quota_daily</td>
        <td>每日额度</td>
        <td>decimal(20, 4)</td>
        <td>亿</td>
    </tr>
    <tr>
        <td>quota_daily_balance</td>
        <td>每日额度余额</td>
        <td>decimal(20, 4)</td>
        <td>亿</td>
    </tr>
</tbody></table>
<p><strong>货币编码</strong></p>
<table>
<thead>
<tr>
<th>货币编码</th>
<th>货币名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>110001</td>
<td>人民币</td>
</tr>
<tr>
<td>110003</td>
<td>港元</td>
</tr>
</tbody>
</table>
<p><strong>市场通编码</strong></p>
<table>
<thead>
<tr>
<th>市场通编码</th>
<th>市场通名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>310001</td>
<td>沪股通</td>
</tr>
<tr>
<td>310002</td>
<td>深股通</td>
</tr>
<tr>
<td>310003</td>
<td>港股通（沪）</td>
</tr>
<tr>
<td>310004</td>
<td>港股通（深）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_ML_QUOTA.day==day)</strong>：指定筛选条件，通过finance.STK_ML_QUOTA.day==day可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_ML_QUOTA.link_id==310001，表示筛选市场通编码为310001（沪股通）的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_ML_QUOTA).filter(finance.STK_ML_QUOTA.day&gt;=<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

   id         day  link_id link_name  currency_id currency_name  buy_amount  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-17</span>   <span class="hljs-number">310003</span>    港股通(沪)       <span class="hljs-number">110003</span>            港元     <span class="hljs-number">81.2880</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-17</span>   <span class="hljs-number">310001</span>       沪股通       <span class="hljs-number">110001</span>           人民币     <span class="hljs-number">58.9429</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-16</span>   <span class="hljs-number">310003</span>    港股通(沪)       <span class="hljs-number">110003</span>            港元     <span class="hljs-number">56.1928</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-16</span>   <span class="hljs-number">310001</span>       沪股通       <span class="hljs-number">110001</span>           人民币     <span class="hljs-number">45.3180</span>   

   buy_volume  sell_amount  sell_volume  sum_amount  sum_volume quota  \
<span class="hljs-number">0</span>     <span class="hljs-number">92742.0</span>      <span class="hljs-number">62.8078</span>      <span class="hljs-number">66353.0</span>    <span class="hljs-number">144.0958</span>    <span class="hljs-number">159095.0</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>    <span class="hljs-number">119118.0</span>      <span class="hljs-number">42.9775</span>      <span class="hljs-number">81620.0</span>    <span class="hljs-number">101.9204</span>    <span class="hljs-number">200738.0</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>     <span class="hljs-number">64867.0</span>      <span class="hljs-number">53.9511</span>      <span class="hljs-number">52591.0</span>    <span class="hljs-number">110.1439</span>    <span class="hljs-number">117458.0</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>     <span class="hljs-number">98189.0</span>      <span class="hljs-number">29.5743</span>      <span class="hljs-number">86428.0</span>     <span class="hljs-number">74.8923</span>    <span class="hljs-number">184617.0</span>  <span class="hljs-keyword">None</span>   

  quota_balance  quota_daily  quota_daily_balance  
<span class="hljs-number">0</span>          <span class="hljs-keyword">None</span>        <span class="hljs-number">105.0</span>              <span class="hljs-number">83.7100</span>  
<span class="hljs-number">1</span>          <span class="hljs-keyword">None</span>        <span class="hljs-number">130.0</span>             <span class="hljs-number">111.9694</span>  
<span class="hljs-number">2</span>          <span class="hljs-keyword">None</span>        <span class="hljs-number">105.0</span>              <span class="hljs-number">97.9000</span>  
<span class="hljs-number">3</span>          <span class="hljs-keyword">None</span>        <span class="hljs-number">130.0</span>             <span class="hljs-number">110.5500</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_EXCHANGE_LINK_RATE"></span>STK_EXCHANGE_LINK_RATE</label>
      <label>市场通汇率 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 1850.45px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance finance.run_query(query(finance.STK_EXCHANGE_LINK_RATE).filter(finance.STK_EXCHANGE_LINK_RATE.day==day).limit(n))
</code></pre>
<p>包含2014年11月起人民币和港币之间的参考汇率/结算汇兑比率信息。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_EXCHANGE_LINK_RATE)</strong>：表示从finance.STK_EXCHANGE_LINK_RATE这张表中查询汇率信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_EXCHANGE_LINK_RATE</strong>：代表市场通汇率表，记录参考汇率/结算汇兑比率信息，包括买入参考/结算汇率、卖出参考/结算汇率等，表结构和字段信息如下：</p></li>
</ul>
<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>类型</th>
<th>非空</th>
<th>交易所</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>day</td>
<td>日期</td>
<td>Date</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>link_id</td>
<td>市场通编码</td>
<td>int</td>
<td>Y</td>
<td></td>
<td></td>
</tr>
<tr>
<td>link_name</td>
<td>市场通名称</td>
<td>varchar(32)</td>
<td>Y</td>
<td></td>
<td>以“港股通(沪)”为代表</td>
</tr>
<tr>
<td>domestic_currency</td>
<td>本币</td>
<td>varchar(12)</td>
<td>Y</td>
<td></td>
<td>RMB</td>
</tr>
<tr>
<td>foreign_currency</td>
<td>外币</td>
<td>varchar(12)</td>
<td>Y</td>
<td></td>
<td>HKD</td>
</tr>
<tr>
<td>refer_bid_rate</td>
<td>买入参考汇率</td>
<td>decimal(10, 5)</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>refer_ask_rate</td>
<td>卖出参考汇率</td>
<td>decimal(10, 5)</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>settle_bid_rate</td>
<td>买入结算汇率</td>
<td>decimal(10, 5)</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>settle_ask_rate</td>
<td>卖出结算汇率</td>
<td>decimal(10, 5)</td>
<td>Y</td>
<td>Y</td>
<td></td>
</tr>
</tbody>
</table>
<p>市场通编码</p>
<table>
<thead>
<tr>
<th>市场通编码</th>
<th>市场通名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>310001</td>
<td>沪股通</td>
</tr>
<tr>
<td>310002</td>
<td>深股通</td>
</tr>
<tr>
<td>310003</td>
<td>港股通（沪）</td>
</tr>
<tr>
<td>310004</td>
<td>港股通（深）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_EXCHANGE_LINK_RATE.day==day)</strong>：指定筛选条件，通过finance.STK_EXCHANGE_LINK_RATE.day==day可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EXCHANGE_LINK_RATE.link_id==310001，表示筛选市场通编码为310001（沪股通）的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_EXCHANGE_LINK_RATE).filter(finance.STK_EXCHANGE_LINK_RATE.day&gt;=<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

   id         day  link_id link_name domestic_currency foreign_currency  \
<span class="hljs-number">0</span>  <span class="hljs-number">31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>   <span class="hljs-number">310003</span>    港股通(沪)               RMB              HKD   
<span class="hljs-number">1</span>  <span class="hljs-number">32</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>   <span class="hljs-number">310003</span>    港股通(沪)               RMB              HKD   
<span class="hljs-number">2</span>  <span class="hljs-number">33</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>   <span class="hljs-number">310003</span>    港股通(沪)               RMB              HKD   
<span class="hljs-number">3</span>  <span class="hljs-number">34</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>   <span class="hljs-number">310003</span>    港股通(沪)               RMB              HKD   

   refer_bid_rate  refer_ask_rate  settle_bid_rate  settle_ask_rate  
<span class="hljs-number">0</span>          <span class="hljs-number">0.7774</span>          <span class="hljs-number">0.8254</span>          <span class="hljs-number">0.80317</span>          <span class="hljs-number">0.80283</span>  
<span class="hljs-number">1</span>          <span class="hljs-number">0.7785</span>          <span class="hljs-number">0.8267</span>          <span class="hljs-number">0.80307</span>          <span class="hljs-number">0.80213</span>  
<span class="hljs-number">2</span>          <span class="hljs-number">0.7777</span>          <span class="hljs-number">0.8259</span>          <span class="hljs-number">0.80197</span>          <span class="hljs-number">0.80163</span>  
<span class="hljs-number">3</span>          <span class="hljs-number">0.7773</span>          <span class="hljs-number">0.8253</span>          <span class="hljs-number">0.80116</span>          <span class="hljs-number">0.80144</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_HK_HOLD_INFO"></span>STK_HK_HOLD_INFO</label>
      <label>沪深港通持股数据 / 上市至今，交易日20:30-06:30更新</label>
      <article style="display: block; height: 1946.67px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs reasonml">from jqdatasdk import finance
df=finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_HK_HOLD_INFO)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_HK_HOLD_INFO</span>.</span></span>link_id==<span class="hljs-number">310001</span>))
print(df)
</code></pre>
<p>记录了北向资金（沪股通、深股通）和南向资金港股通的持股数量和持股比例</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_HK_HOLD_INFO)</strong>：表示从finance.STK_HK_HOLD_INFO这张表中查询沪深港通的持股数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号分隔进行提取；如query(finance.STK_HK_HOLD_INFO.code)。query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a>。</li>
<li><strong>finance.STK_HK_HOLD_INFO</strong>：收录了沪深港通每日的持股数量和持股比例数据，表结构和字段信息如下：</li>
</ul>
<table>
    <tbody><tr>
        <td>字段名称</td>
        <td>中文名称</td>
        <td>字段类型</td>
        <td>能否为空</td>
        <td>注释</td>
    </tr>
    <tr>
        <td>day</td>
        <td>日期</td>
        <td>date</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>link_id</td>
        <td>市场通编码</td>
        <td>int</td>
        <td>N</td>
        <td>三种类型：310001-沪股通，310002-深股通，310005-港股通</td>
    </tr>
    <tr>
        <td>link_name</td>
        <td>市场通名称</td>
        <td>varchar(32)</td>
        <td>N</td>
        <td>三种类型：沪股通，深股通，港股通</td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>股票名称</td>
        <td>varchar(100)</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>share_number</td>
        <td>持股数量</td>
        <td>int</td>
        <td></td>
        <td>单位：股，于中央结算系统的持股量</td>
    </tr>
    <tr>
        <td>share_ratio</td>
        <td>持股比例</td>
        <td>decimal(10,4)</td>
        <td></td>
        <td><p>单位：％，沪股通：占于上交所上市及交易的A股总数的百分比；</p>
<p>深股通：占于深交所上市及交易的A股总数的百分比；</p>
<p>港股通：占已发行股份百分比</p></td>
    </tr>
</tbody></table>
<p><strong>市场通编码</strong></p>
<table>
<thead>
<tr>
<th>市场通编码</th>
<th>市场通名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>310001</td>
<td>沪股通</td>
</tr>
<tr>
<td>310002</td>
<td>深股通</td>
</tr>
<tr>
<td>310005</td>
<td>港股通</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.STK_HK_HOLD_INFO.link_id==310001)</strong>：指定筛选条件，通过finance.STK_HK_HOLD_INFO.link_id==310001可以指定查询沪股通的持股数据；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_HK_HOLD_INFO.day=='2019-03-01'，指定获取2019年3月1日的沪深港通持股数据。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li>为了防止返回数据量过大, 我们每次最多返回5000行</li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取北向资金沪股通的持股数据</span>
df=finance.run_query(query(finance.STK_HK_HOLD_INFO).filter(finance.STK_HK_HOLD_INFO.link_id==<span class="hljs-number">310001</span>).order_by(finance.STK_HK_HOLD_INFO.day.desc()))
print(df[:<span class="hljs-number">4</span>])

        id         day  link_id link_name         code  name  share_number  \
<span class="hljs-number">0</span>  <span class="hljs-number">3070982</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">605222.</span>XSHG  起帆电缆        <span class="hljs-number">161022</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">3070981</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">605199.</span>XSHG   葫芦娃         <span class="hljs-number">66103</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">3070980</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">605198.</span>XSHG  德利股份         <span class="hljs-number">90174</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">3070979</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>   <span class="hljs-number">310001</span>       沪股通  <span class="hljs-number">605168.</span>XSHG   三人行        <span class="hljs-number">269393</span>   

   share_ratio  
<span class="hljs-number">0</span>         <span class="hljs-number">0.32</span>  
<span class="hljs-number">1</span>         <span class="hljs-number">0.16</span>  
<span class="hljs-number">2</span>         <span class="hljs-number">0.45</span>  
<span class="hljs-number">3</span>         <span class="hljs-number">1.56</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div> 









</div>
</section>
<h3 id="行业分类与概念分类">行业分类与概念分类</h3>

<h4 id="行业概念分类">行业概念分类</h4>
<ul>
<li><strong>更新时间：2005至今，8:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_industries"></span>get_industries</label>
      <label> 行业列表 </label>
      <article style="display: block; height: 856.234px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_industries(name=<span class="hljs-string">'zjw'</span>, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>按照行业分类获取行业列表。</p>
<p><strong>参数</strong></p>
<ul>
<li><p>name: 行业代码，默认值为'zjw',其他行业取值如下：</p>
<ul>
<li>"sw_l1": 申万一级行业</li>
<li>"sw_l2": 申万二级行业</li>
<li>"sw_l3": 申万三级行业</li>
<li>"jq_l1": 聚宽一级行业</li>
<li>"jq_l2": 聚宽二级行业</li>
<li>"zjw": 证监会行业</li></ul></li>
<li><p>date: 获取数据的日期，默认为None，返回历史上所有行业；传入date，返回date当天存在的行业</p></li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>pandas.DataFrame， 各 column 的含义如下:</li>
<li>index: 行业代码</li>
<li>name: 行业名称</li>
<li>start_date: 开始日期</li>
</ul>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取2020-05-07当天证监会行业行业列表</span>
get_industries(name=<span class="hljs-string">'zjw'</span>, date=<span class="hljs-string">"2020-05-07"</span>)[:<span class="hljs-number">5</span>]

      name start_date
L72  商务服务业 <span class="hljs-number">1996</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span>
L71    租赁业 <span class="hljs-number">1997</span><span class="hljs-number">-01</span><span class="hljs-number">-30</span>
G53  铁路运输业 <span class="hljs-number">1998</span><span class="hljs-number">-05</span><span class="hljs-number">-11</span>
G57  管道运输业 <span class="hljs-number">1996</span><span class="hljs-number">-11</span><span class="hljs-number">-04</span>
G56  航空运输业 <span class="hljs-number">1997</span><span class="hljs-number">-11</span><span class="hljs-number">-05</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_industry_stocks"></span>get_industry_stocks</label>
      <label> 行业成份股</label>
      <article style="display: block; height: 550.555px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_industry_stocks(industry_code, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取在给定日期一个行业的所有股票，行业分类列表见数据页面-<a href="https://www.joinquant.com/help/api/help?name=plateData">行业概念数据</a>。</p>
<p><strong>参数</strong></p>
<ul>
<li>industry_code: 行业编码</li>
<li>date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None.</li>
</ul>
<p><strong>返回</strong>
返回股票代码的list</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取计算机/互联网行业的成分股</span>
stocks = get_industry_stocks(<span class="hljs-string">'I64'</span>)
print(stocks[:<span class="hljs-number">5</span>])

<span class="hljs-comment"># 输出</span>
[<span class="hljs-string">'000503.XSHE'</span>, <span class="hljs-string">'000606.XSHE'</span>, <span class="hljs-string">'000676.XSHE'</span>, <span class="hljs-string">'000835.XSHE'</span>, <span class="hljs-string">'002072.XSHE'</span>]
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_concepts"></span>get_concepts</label>
      <label> 概念列表</label>
      <article style="display: block; height: 574.703px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_concepts()
</code></pre>
<p>获取概念板块列表</p>
<p><strong>返回值</strong></p>
<ul>
<li><p>pandas.DataFrame， 各 column 的含义如下:</p>
<ul>
<li>index: 概念代码</li>
<li>name: 概念名称</li>
<li>start_date: 开始日期</li></ul></li>
</ul>
<pre><code class="python language-python hljs">df=get_concepts()[:<span class="hljs-number">5</span>]
print(df)

       name start_date
SC0001    石墨烯 <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-31</span>
SC0002    阿里  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-31</span>
SC0003    腾讯  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
SC0004    百度  <span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-11</span>
SC0005    华为  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-24</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_concept_stocks"></span>get_concept_stocks</label>
      <label> 概念成分股</label>
      <article style="display: block; height: 527.523px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_concept_stocks(concept_code, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取在给定日期一个概念板块的所有股票，概念板块分类列表见数据页面-<a href="https://www.joinquant.com/help/api/help?name=plateData">行业概念数据</a>。</p>
<p><strong>参数</strong></p>
<ul>
<li>concept_code: 概念板块编码</li>
<li>date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None.</li>
</ul>
<p><strong>返回</strong>
返回股票代码的list</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取风力发电概念板块的成分股</span>
stocks = get_concept_stocks(<span class="hljs-string">'SC0084'</span>)
print(stocks[:<span class="hljs-number">5</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'000027.XSHE'</span>, <span class="hljs-string">'000039.XSHE'</span>, <span class="hljs-string">'000065.XSHE'</span>, <span class="hljs-string">'000099.XSHE'</span>, <span class="hljs-string">'000155.XSHE'</span>]
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_industry"></span>get_industry</label>
      <label>  查询股票所属行业</label>
      <article style="display: block; height: 1640.73px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_industry(security, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>security：标的代码，类型为字符串，形式如"000001.XSHE"；或为包含标的代码字符串的列表，形如["000001.XSHE", "000002.XSHE"]</li>
<li>date：查询的日期。默认为None，指定查询当天数据。类型为字符串，形如"2018-06-01"或"2018-06-01 09:00:00"；或为datetime.datetime对象和datetime.date。注意传入对象的时分秒将被忽略。</li>
</ul>
<p><strong>返回</strong></p>
<p>返回结果是一个dict，key是传入的股票代码</p>
<p><strong>示例</strong></p>
<p><strong>获取一只股票所属行业</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取贵州茅台("600519.XSHG")的所属行业数据</span>
d = get_industry(<span class="hljs-string">"600519.XSHG"</span>,date=<span class="hljs-string">"2018-06-01"</span>)
print(d)

<span class="hljs-comment"># 输出</span>
{<span class="hljs-string">'600519.XSHG'</span>: {<span class="hljs-string">'sw_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801120'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'食品饮料I'</span>}, <span class="hljs-string">'sw_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801123'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'饮料制造II'</span>}, <span class="hljs-string">'sw_l3'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'851231'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'白酒III'</span>}, <span class="hljs-string">'zjw'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'C15'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'酒、饮料和精制茶制造业'</span>}, <span class="hljs-string">'jq_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY478'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'白酒与葡萄酒指数'</span>}, <span class="hljs-string">'jq_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY005'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'日常消费指数'</span>}}}
</code></pre>
<p><strong>同时获取多只股票的所属行业信息</strong></p><pre><code class="python language-python hljs">获取平安银行和万科企业所属行业
stock_list = [<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>]
d = get_industry(security=stock_list, date=<span class="hljs-string">"2018-06-01"</span>)
print(d)

<span class="hljs-comment"># 输出</span>
{<span class="hljs-string">'000001.XSHE'</span>: {<span class="hljs-string">'jq_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY007'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'金融地产'</span>}, <span class="hljs-string">'sw_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801780'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'银行I'</span>}, <span class="hljs-string">'sw_l3'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'851911'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'银行III'</span>}, <span class="hljs-string">'jq_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY07001'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'综合性银行'</span>}, <span class="hljs-string">'sw_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801192'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'银行II'</span>}, <span class="hljs-string">'zjw'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'J66'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'货币金融服务'</span>}}, <span class="hljs-string">'000002.XSHE'</span>: {<span class="hljs-string">'zjw'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'K70'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产业'</span>}, <span class="hljs-string">'sw_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801180'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产I'</span>}, <span class="hljs-string">'sw_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'801181'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产开发II'</span>}, <span class="hljs-string">'sw_l3'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'851811'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产开发III'</span>}, <span class="hljs-string">'jq_l2'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY11001'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产开发'</span>}, <span class="hljs-string">'jq_l1'</span>: {<span class="hljs-string">'industry_code'</span>: <span class="hljs-string">'HY011'</span>, <span class="hljs-string">'industry_name'</span>: <span class="hljs-string">'房地产'</span>}}}
</code></pre>
<strong>dict转化为dataframe</strong><pre><code class="python language-python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
stock_list = [<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>]
d = get_industry(security=stock_list, date=<span class="hljs-string">"2018-06-01"</span>)
df=pd.concat({k:pd.DataFrame(v) <span class="hljs-keyword">for</span> k ,v <span class="hljs-keyword">in</span> d.items()})
df

<span class="hljs-comment"># 输出</span>

                           sw_l1    sw_l2     sw_l3     zjw    jq_l2  jq_l1
<span class="hljs-number">000001.</span>XSHE industry_code  <span class="hljs-number">801780</span>   <span class="hljs-number">801192</span>    <span class="hljs-number">851911</span>     J66  HY07001  HY007
            industry_name     银行I     银行II     银行III  货币金融服务    综合性银行     金融
<span class="hljs-number">000002.</span>XSHE industry_code  <span class="hljs-number">801180</span>   <span class="hljs-number">801181</span>    <span class="hljs-number">851811</span>     K70  HY11001  HY011
            industry_name    房地产I  房地产开发II  房地产开发III    房地产业    房地产开发    房地产
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_concept"></span>get_concept</label>
      <label> 股票所属概念板块 </label>
      <article style="display: block; height: 993.758px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_concept(security, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取股票所属概念板块。返回一个dict，key为标的代码，value详见示例。</p>
<ul>
<li><p>security：标的代码或包含标的代码的列表</p></li>
<li><p>query_dt：时刻,datetime或时刻形式的字符串,只传入日期代表日内时间为00:00:00.</p></li>
<li><p>security: 标的代码或标的列表</p></li>
<li><p>date: 要查询的日期，日期字符串/date对象/datetime对象，注意传入datetime对象时忽略日内时间；默认值为None，研究中默认值为当天，回测中默认值会随着回测日期变化而变化, 等于context.current_dt。<br>
示例：</p><pre><code class="hljs clean"># <span class="hljs-keyword">code</span>是传入的股票代码；多个<span class="hljs-keyword">code</span>返回嵌套的多个字典；
# ‘jq_concept’代表聚宽概念；
# XX是<span class="hljs-keyword">code</span>所在的概念代码；
# YY是<span class="hljs-keyword">code</span>所在的概念名称；

{<span class="hljs-keyword">code</span>: { <span class="hljs-string">'jq_concept'</span>:[
            { <span class="hljs-string">'concept_code'</span>: XX1; <span class="hljs-string">'concept_name'</span>: YY1 },
            { <span class="hljs-string">'concept_code'</span>: XX2; <span class="hljs-string">'concept_name'</span>: YY2 },
            { <span class="hljs-string">'concept_code'</span>: XX3; <span class="hljs-string">'concept_name'</span>: YY3 }]
        }
}
</code></pre><p></p></li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs">dict1 = get_concept(<span class="hljs-string">'000001.XSHE'</span>, date=<span class="hljs-string">'2019-07-15'</span>)
print(dict1)

<span class="hljs-comment">#输出</span>
{<span class="hljs-string">'000001.XSHE'</span>: {<span class="hljs-string">'jq_concept'</span>: [{<span class="hljs-string">'concept_name'</span>: <span class="hljs-string">'XXXX1'</span>, <span class="hljs-string">'concept_code'</span>: <span class="hljs-string">'YYYY1'</span>}, {<span class="hljs-string">'concept_name'</span>: <span class="hljs-string">'XXXX2'</span>, <span class="hljs-string">'concept_code'</span>: <span class="hljs-string">'YYYY2'</span>}
....

]}}
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>





</div>
</section>
<h4 id="申万行业指数数据">申万行业指数数据</h4>
<ul>
<li><strong>更新时间：上市至今，交易日17:30更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="SW1_DAILY_PRICE"></span>SW1_DAILY_PRICE</label>
      <label> 日行情数据 </label>
      <article style="display: block; height: 1675.73px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">df=finance.run_query(query(finance.SW1_DAILY_PRICE).filter(finance.SW1_DAILY_PRICE.code==<span class="hljs-string">'801010'</span>).limit(n))
print(df)
</code></pre>
<p>记录了申万一级行业指数的历史日行情数据，每日18:00更新。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.SW1_DAILY_PRICE)</strong>：表示从finance.SW1_DAILY_PRICE这张表中查询申万一级行业指数的历史日行情数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号分隔进行提取；如query(finance.SW1_DAILY_PRICE.code)。query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a>。</li>
<li><strong>finance.SW1_DAILY_PRICE</strong>：代表申万一级行业日行情数据表，收录了申万一级行业指数的历史日行情数据，表结构和字段信息如下：</li>
</ul>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>能否为空</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>交易日</td>
<td>date</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>指数编码</td>
<td>varchar(12)</td>
<td>N</td>
<td>对应申万一级行业指数编码</td>
</tr>
<tr>
<td>name</td>
<td>指数名称</td>
<td>varchar(20)</td>
<td>N</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>开盘指数</td>
<td>decimal(20,4)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>最高指数</td>
<td>decimal(20,4)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>最低指数</td>
<td>decimal(20,4)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>收盘指数</td>
<td>decimal(20,4)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>成交量</td>
<td>decimal(20,4)</td>
<td></td>
<td>单位：股</td>
</tr>
<tr>
<td>money</td>
<td>成交额</td>
<td>decimal(20,4)</td>
<td></td>
<td>单位：元</td>
</tr>
<tr>
<td>change_pct</td>
<td>涨跌幅</td>
<td>decimal(10,4)</td>
<td></td>
<td>单位：％</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.SW1_DAILY_PRICE.code==801010)</strong>：指定筛选条件，通过finance.SW1_DAILY_PRICE.code==801010可以查询指定行业（如农林牧渔801010）的日行情数据；除此之外，还可以对表中其他字段指定筛选条件，如finance.SW1_DAILY_PRICE.date=='2019-03-01'，指定获取2019年3月1日的申万一级行业日行情数据。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li>为了防止返回数据量过大, 我们每次最多返回5000行</li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 查询最近5个交易日申万一级行业指数-农林牧渔行业（801010）的日行情数据。</span>
df=finance.run_query(query(finance.SW1_DAILY_PRICE).filter(finance.SW1_DAILY_PRICE.code==<span class="hljs-string">'801010'</span>).order_by(finance.SW1_DAILY_PRICE.date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

        id        date    code  name     open     high      low    close  \
<span class="hljs-number">0</span>  <span class="hljs-number">1890712</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-19</span>  <span class="hljs-number">801010</span>  农林牧渔  <span class="hljs-number">3994.62</span>  <span class="hljs-number">4010.07</span>  <span class="hljs-number">3938.46</span>  <span class="hljs-number">3957.44</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">1890684</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>  <span class="hljs-number">801010</span>  农林牧渔  <span class="hljs-number">4048.63</span>  <span class="hljs-number">4052.32</span>  <span class="hljs-number">4003.87</span>  <span class="hljs-number">4041.50</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">1890656</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-17</span>  <span class="hljs-number">801010</span>  农林牧渔  <span class="hljs-number">3981.76</span>  <span class="hljs-number">4066.81</span>  <span class="hljs-number">3975.37</span>  <span class="hljs-number">4053.18</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">1890628</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">801010</span>  农林牧渔  <span class="hljs-number">3947.34</span>  <span class="hljs-number">3964.11</span>  <span class="hljs-number">3906.32</span>  <span class="hljs-number">3935.19</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">1890572</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-15</span>  <span class="hljs-number">801010</span>  农林牧渔  <span class="hljs-number">3985.62</span>  <span class="hljs-number">3991.58</span>  <span class="hljs-number">3899.39</span>  <span class="hljs-number">3935.94</span>   

         volume         money  change_pct  
<span class="hljs-number">0</span>  <span class="hljs-number">1.309043e+09</span>  <span class="hljs-number">1.599323e+10</span>       <span class="hljs-number">-2.08</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">1.503715e+09</span>  <span class="hljs-number">1.631409e+10</span>       <span class="hljs-number">-0.29</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">1.596152e+09</span>  <span class="hljs-number">1.984027e+10</span>        <span class="hljs-number">3.00</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">9.945891e+08</span>  <span class="hljs-number">1.404828e+10</span>       <span class="hljs-number">-0.02</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">1.146963e+09</span>  <span class="hljs-number">1.720195e+10</span>       <span class="hljs-number">-2.35</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>





</div>
</section>
<h2 id="财务数据">财务数据</h2>

<h3 id="单季度年度财务数据">单季度/年度财务数据</h3>

<h4 id="查询方法（含新接口）">查询方法（含新接口）</h4>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述（查表）/ 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_fundamentals"></span>get_fundamentals</label>
      <label> 查询财务数据(附综合案例)</label>
      <article style="display: block; height: 4221.59px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_fundamentals(query_object, date=<span class="hljs-keyword">None</span>, statDate=<span class="hljs-keyword">None</span>)
</code></pre>
<p>查询财务数据，详细的数据字段描述请点击<a href="https://www.joinquant.com/help/api/help?name=Stock#%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE%E5%88%97%E8%A1%A8">财务数据文档</a>查看</p>
<p>date和statDate参数只能传入一个:</p>
<ul>
<li>传入date时, 查询<strong>指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据</strong>, 我们会查找上市公司在这个日期之前(包括此日期)发布的数据, 不会有未来函数.</li>
<li>传入statDate时, 查询 <strong>statDate 指定的季度或者年份的财务数据</strong>. 
<strong>注意:</strong></li>
</ul>
<ol>
<li>由于公司发布财报不及时, 一般是看不到当季度或年份的财务报表的, 回测中使用这个数据可能会有未来函数, 请注意规避.</li>
<li>由于估值表每天更新, 当按季度或者年份查询时, 返回季度或者年份最后一天的数据</li>
<li>由于“资产负债数据”这个表是存量性质的， 查询年度数据是返回第四季度的数据。</li>
<li>银行业、券商、保险专项数据只有年报数据，需传入statDate参数，当传入 date 参数 或 statDate 传入季度时返回空，请自行避免未来函数。</li>
</ol>
<p>当 date 和 statDate 都不传入时, 相当于使用 date 参数, date 的默认值下面会描述.</p>
<p><strong>参数</strong></p>
<ul>
<li><p>query_object: 一个sqlalchemy.orm.query.Query对象，可以通过全局的 query 函数获取 Query 对象，<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></p></li>
<li><p>date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 使用默认日期. 如果传入的 date 不是交易日, 则使用这个日期之前的最近的一个交易日</p></li>
<li><p>statDate: 财报统计的季度或者年份, 一个字符串, 有两种格式:</p></li>
</ul>
<ol>
<li>季度: 格式是: <strong>年 + 'q' + 季度序号</strong>, 例如: '2015q1', '2013q4'.</li>
<li>年份: 格式就是年份的数字, 例如: '2015', '2016'.</li>
</ol>
<p><strong>返回</strong></p>
<p>返回一个 [pandas.DataFrame], 每一行对应数据库返回的每一行(可能是几个表的联合查询结果的一行), 列索引是你查询的所有字段
注意：</p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>当相关股票上市前、退市后，财务数据返回各字段为空</li>
</ol>
<p><strong>综合案例</strong></p>
<p><strong>获取多只股票在某一天的指标数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取多只股票在某一日期的市值, 利润</span>
df = get_fundamentals(query(
        valuation, income
    ).filter(
        <span class="hljs-comment"># 这里不能使用 in 操作, 要使用in_()函数</span>
        valuation.code.in_([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'600000.XSHG'</span>])
    ), date=<span class="hljs-string">'2015-10-15'</span>)
print(df)

        id         code  pe_ratio  turnover_ratio  pb_ratio  ps_ratio  \
<span class="hljs-number">0</span>  <span class="hljs-number">5024884</span>  <span class="hljs-number">000001.</span>XSHE    <span class="hljs-number">7.4984</span>          <span class="hljs-number">0.4116</span>    <span class="hljs-number">1.0593</span>    <span class="hljs-number">1.8748</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">5031852</span>  <span class="hljs-number">600000.</span>XSHG    <span class="hljs-number">6.1440</span>          <span class="hljs-number">0.0000</span>    <span class="hljs-number">1.1596</span>    <span class="hljs-number">2.1996</span>   

   pcf_ratio  capitalization  market_cap  circulating_cap         ...          \
<span class="hljs-number">0</span>     <span class="hljs-number">1.0246</span>     <span class="hljs-number">1430867.625</span>   <span class="hljs-number">1598.2791</span>      <span class="hljs-number">1180405.500</span>         ...           
<span class="hljs-number">1</span>     <span class="hljs-number">8.1501</span>     <span class="hljs-number">1865347.125</span>   <span class="hljs-number">2965.9021</span>      <span class="hljs-number">1865347.125</span>         ...           

   income_tax_expense    net_profit  np_parent_company_owners  \
<span class="hljs-number">0</span>        <span class="hljs-number">1.866000e+09</span>  <span class="hljs-number">5.956000e+09</span>              <span class="hljs-number">5.956000e+09</span>   
<span class="hljs-number">1</span>        <span class="hljs-number">3.915000e+09</span>  <span class="hljs-number">1.281700e+10</span>              <span class="hljs-number">1.270900e+10</span>   

   minority_profit basic_eps diluted_eps other_composite_income  \
<span class="hljs-number">0</span>              <span class="hljs-number">0.0</span>     <span class="hljs-number">0.430</span>       <span class="hljs-number">0.430</span>           <span class="hljs-number">2.680000e+08</span>   
<span class="hljs-number">1</span>      <span class="hljs-number">108000000.0</span>     <span class="hljs-number">0.681</span>       <span class="hljs-number">0.681</span>           <span class="hljs-number">1.614000e+09</span>   

  total_composite_income  ci_parent_company_owners  ci_minority_owners  
<span class="hljs-number">0</span>           <span class="hljs-number">6.224000e+09</span>                       NaN                 <span class="hljs-number">0.0</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">1.443100e+10</span>                       NaN         <span class="hljs-number">108000000.0</span>  

[<span class="hljs-number">2</span> rows x <span class="hljs-number">56</span> columns]
</code></pre><p></p>
<p><strong>根据条件，筛选数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 选出所有的总市值大于1000亿元, 市盈率小于10, 基本每股收益大于0.8的股票</span>
df = get_fundamentals(query(
        valuation.code, valuation.market_cap, valuation.pe_ratio, income.basic_eps ,income.total_operating_revenue
    ).filter(

        valuation.market_cap &gt; <span class="hljs-number">1000</span>,
        valuation.pe_ratio &lt; <span class="hljs-number">10</span>,
         income.basic_eps  &gt; <span class="hljs-number">0.8</span>
    ).order_by(
        <span class="hljs-comment"># 按市值降序排列</span>
        valuation.market_cap.desc()
   ))
print(df)

          code  market_cap  pe_ratio  basic_eps  total_operating_revenue
<span class="hljs-number">0</span>  <span class="hljs-number">601166.</span>XSHG   <span class="hljs-number">4908.9414</span>    <span class="hljs-number">7.3679</span>       <span class="hljs-number">0.92</span>             <span class="hljs-number">5.176600e+10</span>
<span class="hljs-number">1</span>  <span class="hljs-number">600585.</span>XSHG   <span class="hljs-number">2754.5774</span>    <span class="hljs-number">7.8412</span>       <span class="hljs-number">1.63</span>             <span class="hljs-number">4.997668e+10</span>
</code></pre><p></p>
<p><strong>使用or_函数,筛选数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 使用 or_ 函数: 查询总市值大于1000亿元 或者 市盈率小于10的股票 或者 基本每股收益大于0.5</span>
<span class="hljs-keyword">from</span> sqlalchemy.sql.expression <span class="hljs-keyword">import</span> or_
df=get_fundamentals(query(
        valuation.code,valuation.pe_ratio,valuation.market_cap,income.basic_eps ,income.total_operating_revenue
    ).filter(
        or_(
            valuation.market_cap &gt; <span class="hljs-number">1000</span>,
            valuation.pe_ratio &lt; <span class="hljs-number">10</span>,
            income.basic_eps &gt; <span class="hljs-number">0.5</span>          
        )
    ).order_by(
        <span class="hljs-comment"># 按市值降序排列</span>
        valuation.market_cap.desc()))
print(df[:<span class="hljs-number">5</span>])

          code  pe_ratio  market_cap  basic_eps  total_operating_revenue
<span class="hljs-number">0</span>  <span class="hljs-number">600519.</span>XSHG   <span class="hljs-number">56.0766</span>  <span class="hljs-number">24998.2109</span>       <span class="hljs-number">8.94</span>             <span class="hljs-number">2.394051e+10</span>
<span class="hljs-number">1</span>  <span class="hljs-number">601398.</span>XSHG    <span class="hljs-number">6.6798</span>  <span class="hljs-number">19317.2188</span>       <span class="hljs-number">0.22</span>             <span class="hljs-number">2.172370e+11</span>
<span class="hljs-number">2</span>  <span class="hljs-number">601939.</span>XSHG    <span class="hljs-number">7.4127</span>  <span class="hljs-number">18325.8047</span>       <span class="hljs-number">0.27</span>             <span class="hljs-number">1.823260e+11</span>
<span class="hljs-number">3</span>  <span class="hljs-number">601318.</span>XSHG   <span class="hljs-number">10.1966</span>  <span class="hljs-number">14591.2891</span>       <span class="hljs-number">2.27</span>             <span class="hljs-number">3.012450e+11</span>
<span class="hljs-number">4</span>  <span class="hljs-number">600036.</span>XSHG   <span class="hljs-number">13.9336</span>  <span class="hljs-number">13563.2334</span>       <span class="hljs-number">0.77</span>             <span class="hljs-number">6.905200e+10</span>
</code></pre><p></p>
<p><strong>查询季报, 放到数组中</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询平安银行2014年四个季度的季报, 放到数组中</span>
q = query(
        income.statDate,
        income.code,
        income.basic_eps,
        balance.cash_equivalents,
        cash_flow.goods_sale_and_service_render_cash
    ).filter(
        income.code == <span class="hljs-string">'000001.XSHE'</span>,
    )

rets = [get_fundamentals(q, statDate=<span class="hljs-string">'2018q'</span>+str(i)) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)]
print(rets)

[     statDate         code  basic_eps  cash_equivalents  \
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">0.33</span>      <span class="hljs-number">2.819490e+11</span>   

   goods_sale_and_service_render_cash  
<span class="hljs-number">0</span>                                 NaN  ,      statDate         code  basic_eps  cash_equivalents  \
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">000001.</span>XSHE        <span class="hljs-number">0.4</span>      <span class="hljs-number">3.074000e+11</span>   

   goods_sale_and_service_render_cash  
<span class="hljs-number">0</span>                                 NaN  ,      statDate         code  basic_eps  cash_equivalents  \
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">0.41</span>      <span class="hljs-number">2.876480e+11</span>   

   goods_sale_and_service_render_cash  
<span class="hljs-number">0</span>                                 NaN  ,      statDate         code  basic_eps  cash_equivalents  \
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">0.25</span>      <span class="hljs-number">2.785280e+11</span>   

   goods_sale_and_service_render_cash  
<span class="hljs-number">0</span>                                 NaN  ]
</code></pre><p></p>
<p><strong>查询年报</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询平安银行2018年的年报</span>
q = query(
        income.statDate,
        income.code,
        income.basic_eps,
        cash_flow.goods_sale_and_service_render_cash
    ).filter(
        income.code == <span class="hljs-string">'000001.XSHE'</span>,
    )

ret = get_fundamentals(q, statDate=<span class="hljs-string">'2018'</span>)
print(ret)

     statDate         code  basic_eps  goods_sale_and_service_render_cash
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">000001.</span>XSHE       <span class="hljs-number">1.39</span>                                 NaN
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><span id="get_fundamentals_continuously"></span>get_fundamentals_continuously</label>
      <label>多日财务数据</label>
      <article style="display: block; height: 876.047px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_fundamentals_continuously(query_object, end_date=<span class="hljs-keyword">None</span>,count=<span class="hljs-number">1</span>，panel=<span class="hljs-keyword">True</span>)
</code></pre>
<p>查询财务数据，详细的数据字段描述请点击<a href="https://www.joinquant.com/data/dict/fundamentals" target="_blank">财务数据文档</a>查看</p>
<p><strong>参数</strong></p>
<ul>
<li>query_object: 一个sqlalchemy.orm.query.Query对象，可以通过全局的 query 函数获取 Query 对象，<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a>。</li>
<li>end_date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, 如果传入的 date 不是交易日, 则使用这个日期之前的最近的一个交易日</li>
<li>count: 获取 end_date 前 count 个日期的数据</li>
</ul>
<p><strong>返回</strong>
返回一个 [pandas.Panel]，如果您的环境pandas大于0.25 ，将强制返回dataframe。</p>
<p><strong>出于性能方面考虑，我们做出了返回总条数不超过5000条的限制。 也就是说：查询的股票数量*count 要小于5000。 否则，返回的数据会不完整。</strong></p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs">q = query(valuation.turnover_ratio,
              valuation.market_cap,
              indicator.eps
            ).filter(valuation.code.in_([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'600000.XSHG'</span>]))
df = get_fundamentals_continuously(q, end_date=<span class="hljs-string">'2017-12-25'</span>, count=<span class="hljs-number">5</span>,panel=<span class="hljs-keyword">False</span>)[:<span class="hljs-number">5</span>]
print(df)

<span class="hljs-comment"># 输出</span>
          day         code  turnover_ratio  market_cap   eps
<span class="hljs-number">0</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-19</span>  <span class="hljs-number">000001.</span>XSHE          <span class="hljs-number">1.4174</span>   <span class="hljs-number">2280.2307</span>  <span class="hljs-number">0.38</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span>  <span class="hljs-number">000001.</span>XSHE          <span class="hljs-number">0.6539</span>   <span class="hljs-number">2276.7964</span>  <span class="hljs-number">0.38</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span>  <span class="hljs-number">000001.</span>XSHE          <span class="hljs-number">0.8779</span>   <span class="hljs-number">2324.8738</span>  <span class="hljs-number">0.38</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-22</span>  <span class="hljs-number">000001.</span>XSHE          <span class="hljs-number">0.4391</span>   <span class="hljs-number">2321.4397</span>  <span class="hljs-number">0.38</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-25</span>  <span class="hljs-number">000001.</span>XSHE          <span class="hljs-number">0.9372</span>   <span class="hljs-number">2275.0796</span>  <span class="hljs-number">0.38</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



    <div class="group">
      <label>⭐ get_valuation <span id="get_valuation"></span> </label>
      <label>获取多个标的在指定交易日范围内的市值表数据</label>
      <article style="display: block; height: 992.492px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
get_valuation(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取多个标的在指定交易日范围内的市值表数据</p>
<h5 id=""><strong>参数</strong></h5>
<ul>
<li>security: 标的code字符串列表或者单个标的字符串</li>
<li>end_date: 查询结束时间</li>
<li>start_date: 查询开始时间，不能与count共用</li>
<li>count: 表示往前查询每一个标的count个交易日的数据，如果期间标的停牌，则该标的返回的市值数据数量小于count</li>
<li>fields: 财务数据中市值表的字段，返回结果中总会包含code、day字段，可用字段如下：
|code| 股票代码 带后缀.XSHE/.XSHG|
|day |日期 取数据的日期|
| capitalization |总股本(万股)|
|circulating_cap| 流通股本(万股)|
|market_cap |总市值(亿元)|
|circulating_market_cap| 流通市值(亿元)|
|turnover_ratio |换手率(%)|
|pe_ratio |市盈率(PE, TTM)|
|pe_ratio_lyr |市盈率(PE)|
|pb_ratio |市净率(PB)|
| ps_ratio| 市销率(PS, TTM)|
|pcf_ratio| 市现率(PCF, 现金净流量TTM)|</li>
</ul>
<h5 id="-1"><strong>返回值</strong></h5>
<ul>
<li>返回一个dataframe，索引默认是pandas的整数索引，返回的结果中总会包含code、day字段。</li>
</ul>
<h4 id="-2"><strong>注意</strong></h4>
<ul>
<li>每次最多返回5000条数据，更多数据需要根据标的或者时间分多次获取</li>
</ul>
<h5 id="prec0cpre"><strong>示例</strong><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
<span class="hljs-comment"># 传入单个标的</span>
df1 = get_valuation(<span class="hljs-string">'000001.XSHE'</span>, end_date=<span class="hljs-string">"2019-11-18"</span>, count=<span class="hljs-number">3</span>, fields=[<span class="hljs-string">'capitalization'</span>, <span class="hljs-string">'market_cap'</span>])
print(df1)

<span class="hljs-comment"># 传入多个标的</span>
df2 = get_valuation([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>], end_date=<span class="hljs-string">"2019-11-18"</span>, count=<span class="hljs-number">3</span>, fields=[<span class="hljs-string">'capitalization'</span>, <span class="hljs-string">'market_cap'</span>])
print(df2)
</code></pre></h5></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label>⭐ get_history_fundamentals<span id="get_history_fundamentals"></span></label>
      <label>获取多个季度/年度的历史财务数据</label>
      <article style="display: block; height: 1581.25px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>获取多个季度/年度的三大财务报表和财务指标数据. 可指定单季度数据, 也可以指定年度数据。可以指定观察日期, 也可以指定最后一个报告期的结束日期</p>
<pre><code class="python language-python hljs">get_history_fundamentals(security, fields, watch_date=<span class="hljs-keyword">None</span>, stat_date=<span class="hljs-keyword">None</span>, count=<span class="hljs-number">1</span>, interval=<span class="hljs-string">'1q'</span>, stat_by_year=<span class="hljs-keyword">False</span>)
</code></pre>
<h5 id=""><strong>参数</strong></h5>
<ul>
<li>security：股票代码或者股票代码列表。</li>
<li>fields：要查询的财务数据的列表, 季度数据和年度数据可选择的列不同。示例：<br>
[balance.cash_equivalents, cash_flow.net_deposit_increase, income.total_operating_revenue]</li>
<li>watch_date：观察日期, 如果指定, 将返回 watch_date 日期前(包含该日期)发布的报表数据</li>
<li>stat_date：统计日期, 可以是 '2019'/'2019q1'/'2018q4' 格式, 如果指定, 将返回 stat_date 对应报告期及之前的历史报告期的报表数据<br><ul>
<li>watch_date 和 stat_date 只能指定一个, 而且必须指定一个</li>
<li>如果没有 stat_date 指定报告期的数据, 则该数据会缺失一行.</li></ul></li>
<li>count：查询历史的多个报告期时, 指定的报告期数量. 如果股票历史报告期的数量小于 count, 则该股票返回的数据行数将小于 count</li>
<li>interval：查询多个报告期数据时, 指定报告期间隔, 可选值: '1q'/'1y', 表示间隔一季度或者一年, 举例说明:<br><ul>
<li>stat_date='2019q1', interval='1q', count=4, 将返回 2018q2,2018q3,2018q4,2019q1 的数据</li>
<li>stat_date='2019q1', interval='1y', count=4, 将返回 2016q1,2017q1,2018q1,2019q1 的数据</li>
<li>stat_by_year=True, stat_date='2018', interval='1y', count=4 将返回 2015/2016/2017/2018 年度的年报数据</li></ul></li>
<li>stat_by_year：bool, 是否返回年度数据. 默认返回的按季度统计的数据(比如income表中只有单个季度的利润).<ul>
<li>如果是True：<br><ul>
<li>interval必须是 '1y'</li>
<li>如果指定了 stat_date 的话, stat_date 必须是一个代表年份整数、字符串, 表明统计的年份，比如2019, "2019"。但不能是"20191q"这种格式。</li>
<li>fields 可以选择 balance/income/cash_flow/indicator/bank_indicator/security_indicator/insurance_indicator 表中的列</li></ul></li>
<li>如果是False：<br>
fields只能选择balance/income/cash_flow/indicator 表中的列</li></ul></li>
</ul>
<h5 id="-1"><strong>返回值</strong></h5>
<p>pandas.DataFrame, 数据库查询结果. 数据格式同 get_fundamentals. 每个股票每个报告期(一季度或者一年)的数据占用一行.</p>
<h5 id="-2"><strong>注意</strong></h5>
<ul>
<li>不支持valuation市值表</li>
<li>推荐用户对结果使用pandas的<a href="https://pandas.pydata.org/pandas-docs/version/0.22/generated/pandas.DataFrame.groupby.html">groupby</a>方法来进行分组分析数据</li>
<li>每次最多返回50000条数据，更多数据需要根据标的或者时间分多次获取</li>
</ul>
<h5 id="prec0cpre"><strong>示例</strong><pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
<span class="hljs-keyword">security</span> = [<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'600000.XSHG'</span>]
df = get_history_fundamentals(<span class="hljs-keyword">security</span>, fields=[balance.cash_equivalents, 
        cash_flow.net_deposit_increase, income.total_operating_revenue], 
        watch_date=<span class="hljs-keyword">None</span>, stat_date=<span class="hljs-string">'2019q1'</span>, count=<span class="hljs-number">5</span>, <span class="hljs-type">interval</span>=<span class="hljs-string">'1q'</span>, stat_by_year=<span class="hljs-keyword">False</span>)
print(df)
print(df.groupby(<span class="hljs-string">'code'</span>).mean())
</code></pre></h5></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h4 id="财务及估值数据">财务及估值数据</h4>
<ul>
<li><strong>更新时间：2005至今， 每天24:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述（查表）</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="valuation"></span>valuation</label>
      <label>估值数据（市值、市盈率、市净率等） / 2005至今，每天24:00更新</label>
      <article style="display: block; height: 2397.49px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_fundamentals(query_object, date=<span class="hljs-keyword">None</span>, statDate=<span class="hljs-keyword">None</span>)
</code></pre>
<p>市值数据每天更新，可以使用get_fundamentals(query(valuation),date),指定date为某一交易日,获取该交易日的估值数据。查询方法详见<a href="https://www.joinquant.com/help/api/help?name=JQData#get_fundamentals-%E6%9F%A5%E8%AF%A2%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">get_fundamentals()接口说明</a></p>
<p><strong>注意</strong>：
（详细内容可看get_fundamentals接口）</p>
<ul>
<li>date和statDate参数只能传入一个:</li>
<li>传入date时, 查询指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据</li>
<li>statDate: 财报统计的季度或者年份,。
季度: 格式是<strong>年 + 'q' + 季度序号</strong>, 例如: <strong>'2015q1', '2013q4'</strong>.
年份: 格式就是<strong>年份的数字</strong>, 例如:<strong>'2015', '2016'</strong>.</li>
</ul>
<p><strong>表名: valuation</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
<th>公式</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
<td></td>
</tr>
<tr>
<td>day</td>
<td>日期</td>
<td>取数据的日期</td>
<td></td>
</tr>
<tr>
<td>capitalization</td>
<td>总股本(万股)</td>
<td>公司已发行的普通股股份总数(包含A股，B股和H股的总股本)</td>
<td></td>
</tr>
<tr>
<td>circulating_cap</td>
<td>流通股本(万股)</td>
<td>公司已发行的境内上市流通、以人民币兑换的股份总数(A股市场的流通股本)</td>
<td></td>
</tr>
<tr>
<td>market_cap</td>
<td>总市值(亿元)</td>
<td>A股收盘价*已发行股票总股本（A股+B股+H股）</td>
<td></td>
</tr>
<tr>
<td>circulating_market_cap</td>
<td>流通市值(亿元)</td>
<td>流通市值指在某特定时间内当时可交易的流通股股数乘以当时股价得出的流通股票总价值。</td>
<td>A股市场的收盘价*A股市场的流通股数</td>
</tr>
<tr>
<td>turnover_ratio</td>
<td>换手率(%)</td>
<td>指在一定时间内市场中股票转手买卖的频率，是反映股票流通性强弱的指标之一。</td>
<td>换手率=[指定交易日成交量(手)<em>100/截至该日股票流通股本(股)]</em>100%</td>
</tr>
<tr>
<td>pe_ratio</td>
<td>市盈率(PE, TTM)</td>
<td>每股市价为每股收益的倍数，反映投资人对每元净利润所愿支付的价格，用来估计股票的投资报酬和风险</td>
<td>市盈率（PE，TTM）=（股票在指定交易日期的收盘价 * 当日人民币外汇挂牌价* 截止当日公司总股本）/归属于母公司股东的净利润TTM。</td>
</tr>
<tr>
<td>pe_ratio_lyr</td>
<td>市盈率(PE)</td>
<td>以上一年度每股盈利计算的静态市盈率. 股价/最近年度报告EPS</td>
<td>市盈率（PE）=（股票在指定交易日期的收盘价 * 当日人民币外汇牌价 * 截至当日公司总股本）/归属母公司股东的净利润。</td>
</tr>
<tr>
<td>pb_ratio</td>
<td>市净率(PB)</td>
<td>每股股价与每股净资产的比率</td>
<td>市净率=（股票在指定交易日期的收盘价 * 截至当日公司总股本）/(归属母公司股东的权益MRQ-其他权益工具)。</td>
</tr>
<tr>
<td>ps_ratio</td>
<td>市销率(PS, TTM)</td>
<td>市销率为股票价格与每股销售收入之比，市销率越小，通常被认为投资价值越高。</td>
<td>市销率TTM=（股票在指定交易日期的收盘价 * 当日人民币外汇牌价 * 截至当日公司总股本）/营业总收入TTM</td>
</tr>
<tr>
<td>pcf_ratio</td>
<td>市现率(PCF, 现金净流量TTM)</td>
<td>每股市价为每股现金净流量的倍数</td>
<td>市现率=（股票在指定交易日期的收盘价 * 当日人民币外汇牌价 * 截至当日公司总股本）/现金及现金等价物净增加额TTM</td>
</tr>
</tbody>
</table>
<p><strong>获取最近日期所有股票的市值数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取最近日期的市值数据</span>
df=get_fundamentals(query(valuation))
print(df[:<span class="hljs-number">4</span>])

         id         code  pe_ratio  turnover_ratio  pb_ratio  ps_ratio  \
<span class="hljs-number">0</span>  <span class="hljs-number">64650881</span>  <span class="hljs-number">000001.</span>XSHE   <span class="hljs-number">14.4095</span>             NaN    <span class="hljs-number">1.4169</span>    <span class="hljs-number">2.7148</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">64649277</span>  <span class="hljs-number">000002.</span>XSHE    <span class="hljs-number">9.0344</span>             NaN    <span class="hljs-number">1.8051</span>    <span class="hljs-number">0.9491</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">64649388</span>  <span class="hljs-number">000004.</span>XSHE   <span class="hljs-number">40.2554</span>             NaN    <span class="hljs-number">1.9572</span>   <span class="hljs-number">19.2944</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">64649010</span>  <span class="hljs-number">000005.</span>XSHE   <span class="hljs-number">22.7056</span>             NaN    <span class="hljs-number">1.4351</span>   <span class="hljs-number">11.5734</span>   

   pcf_ratio  capitalization  market_cap  circulating_cap  \
<span class="hljs-number">0</span>     <span class="hljs-number">4.1729</span>    <span class="hljs-number">1.940592e+06</span>   <span class="hljs-number">4168.3911</span>     <span class="hljs-number">1.940576e+06</span>   
<span class="hljs-number">1</span>     <span class="hljs-number">5.1463</span>    <span class="hljs-number">1.161773e+06</span>   <span class="hljs-number">3658.4238</span>     <span class="hljs-number">9.714315e+05</span>   
<span class="hljs-number">2</span>    <span class="hljs-number">26.1566</span>    <span class="hljs-number">1.650526e+04</span>     <span class="hljs-number">28.3725</span>     <span class="hljs-number">1.151256e+04</span>   
<span class="hljs-number">3</span> <span class="hljs-number">-8155.7451</span>    <span class="hljs-number">1.058537e+05</span>     <span class="hljs-number">23.2878</span>     <span class="hljs-number">1.057946e+05</span>   

   circulating_market_cap         day  pe_ratio_lyr  
<span class="hljs-number">0</span>               <span class="hljs-number">4168.3560</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>       <span class="hljs-number">14.4095</span>  
<span class="hljs-number">1</span>               <span class="hljs-number">3059.0378</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>        <span class="hljs-number">9.4114</span>  
<span class="hljs-number">2</span>                 <span class="hljs-number">19.7901</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>      <span class="hljs-number">915.4301</span>  
<span class="hljs-number">3</span>                 <span class="hljs-number">23.2748</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>       <span class="hljs-number">13.3311</span>  
</code></pre><p></p>
<p><strong>获取某一天所有的市值数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取“2021-01-05”所有的市值数据</span>
get_fundamentals(query(valuation),date=<span class="hljs-string">"2021-01-05"</span>)[:<span class="hljs-number">4</span>]
</code></pre><p></p>
<p><strong>获取某只股票在某天的市值数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询'000001.XSHE'的所有市值数据, 时间是2015-10-15</span>
q = query(
    valuation
).filter(
    valuation.code == <span class="hljs-string">'000001.XSHE'</span>
)
df = get_fundamentals(q, <span class="hljs-string">'2015-10-15'</span>)
<span class="hljs-comment"># 打印出总市值</span>
print(df[<span class="hljs-string">'market_cap'</span>][<span class="hljs-number">0</span>])
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="indicator"></span>indicator</label>
      <label>财务指标数据 / 2005至今，每天24:00更新</label>
      <article style="display: block; height: 5876.48px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按季度更新, 统计周期是一季度。可以使用<strong>get_fundamentals(query_object, date=None, statDate=None)</strong>查询，查询方法详见<a href="https://www.joinquant.com/help/api/help?name=JQData#get_fundamentals-%E6%9F%A5%E8%AF%A2%E8%B4%A2%E5%8A%A1%E6%95%B0%E6%8D%AE">get_fundamentals()接口说明</a></p>
<p><strong>注意</strong>：
（详细内容可看get_fundamentals接口）</p>
<ul>
<li>date和statDate参数只能传入一个:</li>
<li>传入date时, 查询指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据</li>
<li>statDate: 财报统计的季度或者年份,。
季度: 格式是<strong>年 + 'q' + 季度序号</strong>, 例如: <strong>'2015q1', '2013q4'</strong>.
年份: 格式就是<strong>年份的数字</strong>, 例如:<strong>'2015', '2016'</strong>.</li>
</ul>
<p><strong>表名: indicator</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
</tr>
<tr>
<td>pubDate</td>
<td>日期</td>
<td>公司发布财报日期</td>
</tr>
<tr>
<td>statDate</td>
<td>日期</td>
<td>财报统计的季度的最后一天, 比如2015-03-31, 2015-06-30</td>
</tr>
<tr>
<td>eps</td>
<td>每股收益EPS(元)</td>
<td>每股收益(摊薄)＝净利润/期末股本；分子从单季利润表取值，分母取季度末报告期股本值。</td>
</tr>
<tr>
<td>adjusted_profit</td>
<td>扣除非经常损益后的净利润(元)</td>
<td>非经常性损益这一概念是证监会在1999年首次提出的，当时将其定义为：公司正常经营损益之外的一次性或偶发性损益。《问答第1号》则指出：非经常性损益是公司发生的与经营业务无直接关系的收支；以及虽与经营业务相关，但由于其性质、金额或发生频率等方面的原因，影响了真实公允地反映公司正常盈利能力的各项收入。</td>
</tr>
<tr>
<td>operating_profit</td>
<td>经营活动净收益(元)</td>
<td>营业总收入-营业总成本</td>
</tr>
<tr>
<td>value_change_profit</td>
<td>价值变动净收益(元)</td>
<td>公允价值变动净收益+投资净收益+汇兑净收益</td>
</tr>
<tr>
<td>roe</td>
<td>净资产收益率ROE(%)</td>
<td>归属于母公司股东的净利润*2/（期初归属于母公司股东的净资产+期末归属于母公司股东的净资产）</td>
</tr>
<tr>
<td>inc_return</td>
<td>净资产收益率(扣除非经常损益)(%)</td>
<td>扣除非经常损益后的净利润（不含少数股东损益）*2/（期初归属于母公司股东的净资产+期末归属于母公司股东的净资产）</td>
</tr>
<tr>
<td>roa</td>
<td>总资产净利率ROA(%)</td>
<td>净利润*2/（期初总资产+期末总资产）</td>
</tr>
<tr>
<td>net_profit_margin</td>
<td>销售净利率(%)</td>
<td>净利润/营业收入</td>
</tr>
<tr>
<td>gross_profit_margin</td>
<td>销售毛利率(%)</td>
<td>毛利/营业收入</td>
</tr>
<tr>
<td>expense_to_total_revenue</td>
<td>营业总成本/营业总收入(%)</td>
<td>营业总成本/营业总收入(%)</td>
</tr>
<tr>
<td>operation_profit_to_total_revenue</td>
<td>营业利润/营业总收入(%)</td>
<td>营业利润/营业总收入(%)</td>
</tr>
<tr>
<td>net_profit_to_total_revenue</td>
<td>净利润/营业总收入(%)</td>
<td>净利润/营业总收入(%)</td>
</tr>
<tr>
<td>operating_expense_to_total_revenue</td>
<td>营业费用/营业总收入(%)</td>
<td>营业费用/营业总收入(%)</td>
</tr>
<tr>
<td>ga_expense_to_total_revenue</td>
<td>管理费用/营业总收入(%)</td>
<td>管理费用/营业总收入(%)</td>
</tr>
<tr>
<td>financing_expense_to_total_revenue</td>
<td>财务费用/营业总收入(%)</td>
<td>财务费用/营业总收入(%)</td>
</tr>
<tr>
<td>operating_profit_to_profit</td>
<td>经营活动净收益/利润总额(%)</td>
<td>经营活动净收益/利润总额(%)</td>
</tr>
<tr>
<td>invesment_profit_to_profit</td>
<td>价值变动净收益/利润总额(%)</td>
<td>价值变动净收益/利润总额(%)</td>
</tr>
<tr>
<td>adjusted_profit_to_profit</td>
<td>扣除非经常损益后的净利润/归属于母公司所有者的净利润(%)</td>
<td>扣除非经常损益后的净利润/归属于母公司所有者的净利润(%)</td>
</tr>
<tr>
<td>goods_sale_and_service_to_revenue</td>
<td>销售商品提供劳务收到的现金/营业收入(%)</td>
<td>销售商品提供劳务收到的现金/营业收入(%)</td>
</tr>
<tr>
<td>ocf_to_revenue</td>
<td>经营活动产生的现金流量净额/营业收入(%)</td>
<td>经营活动产生的现金流量净额/营业收入(%)</td>
</tr>
<tr>
<td>ocf_to_operating_profit</td>
<td>经营活动产生的现金流量净额/经营活动净收益(%)</td>
<td>经营活动产生的现金流量净额/经营活动净收益(%)</td>
</tr>
<tr>
<td>inc_total_revenue_year_on_year</td>
<td>营业总收入同比增长率(%)</td>
<td>营业总收入同比增长率是企业在一定期间内取得的营业总收入与其上年同期营业总收入的增长的百分比，以反映企业在此期间内营业总收入的增长或下降等情况。</td>
</tr>
<tr>
<td>inc_total_revenue_annual</td>
<td>营业总收入环比增长率(%)</td>
<td>营业收入是指企业在从事销售商品，提供劳务和让渡资产使用权等日常经营业务过程中所形成的经济利益的总流入。环比增长率=（本期的某个指标的值-上一期这个指标的值）/上一期这个指标的值*100%。</td>
</tr>
<tr>
<td>inc_revenue_year_on_year</td>
<td>营业收入同比增长率(%)</td>
<td>营业收入,是指公司在从事销售商品、提供劳务和让渡资产使用权等日常经营业务过程中所形成的经济利益的总流入，而营业收入同比增长率，则是检验上市公司去年一年挣钱能力是否提高的标准，营业收入同比增长,说明公司在上一年度挣钱的能力加强了，营业收入同比下降，则说明公司的挣钱能力稍逊于往年。</td>
</tr>
<tr>
<td>inc_revenue_annual</td>
<td>营业收入环比增长率(%)</td>
<td>环比增长率=（本期的某个指标的值-上一期这个指标的值）/上一期这个指标的值*100%。</td>
</tr>
<tr>
<td>inc_operation_profit_year_on_year</td>
<td>营业利润同比增长率(%)</td>
<td>同比增长率就是指公司当年期的净利润和上月同期、上年同期的净利润比较。（当期的利润-上月（上年）当期的利润）/上月（上年）当期的利润=利润同比增长率。</td>
</tr>
<tr>
<td>inc_operation_profit_annual</td>
<td>营业利润环比增长率(%)</td>
<td>环比增长率=（本期的某个指标的值-上一期这个指标的值）/上一期这个指标的值*100%。</td>
</tr>
<tr>
<td>inc_net_profit_year_on_year</td>
<td>净利润同比增长率(%)</td>
<td>（当期的净利润-上月（上年）当期的净利润）/上月（上年）当期的净利润绝对值=净利润同比增长率。</td>
</tr>
<tr>
<td>inc_net_profit_annual</td>
<td>净利润环比增长率(%)</td>
<td>环比增长率=（本期的某个指标的值-上一期这个指标的值）/上一期这个指标的值*100%。</td>
</tr>
<tr>
<td>inc_net_profit_to_shareholders_year_on_year</td>
<td>归属母公司股东的净利润同比增长率(%)</td>
<td>归属于母公司股东净利润是指全部归属于母公司股东的净利润，包括母公司实现的净利润和下属子公司实现的净利润；同比增长率，一般是指和去年同期相比较的增长率。同比增长 和上一时期、上一年度或历史相比的增长（幅度）。</td>
</tr>
<tr>
<td>inc_net_profit_to_shareholders_annual</td>
<td>归属母公司股东的净利润环比增长率(%)</td>
<td>环比增长率=（本期的某个指标的值-上一期这个指标的值）/上一期这个指标的值*100%。</td>
</tr>
</tbody>
</table>
<p><strong>获取某一天所有的财务指标数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取“2021-01-05”所有的财务指标数据</span>
df=get_fundamentals(query(indicator),date=<span class="hljs-string">"2021-01-05"</span>)
print(df[:<span class="hljs-number">4</span>])

         id         code         day     pubDate    statDate     eps  \
<span class="hljs-number">0</span>  <span class="hljs-number">45000708</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-22</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.4493</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">45590101</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.6331</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">45590317</span>  <span class="hljs-number">000004.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.3324</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">45406174</span>  <span class="hljs-number">000005.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.0043</span>   

   adjusted_profit  operating_profit  value_change_profit   roe  \
<span class="hljs-number">0</span>     <span class="hljs-number">8.730000e+09</span>      <span class="hljs-number">1.041200e+10</span>         <span class="hljs-number">8.570000e+08</span>  <span class="hljs-number">2.46</span>   
<span class="hljs-number">1</span>     <span class="hljs-number">6.775110e+09</span>      <span class="hljs-number">1.379713e+10</span>         <span class="hljs-number">1.785868e+09</span>  <span class="hljs-number">3.69</span>   
<span class="hljs-number">2</span>     <span class="hljs-number">5.469821e+07</span>      <span class="hljs-number">6.525505e+07</span>                  NaN  <span class="hljs-number">3.86</span>   
<span class="hljs-number">3</span>    <span class="hljs-number">-1.787463e+07</span>     <span class="hljs-number">-1.747028e+07</span>         <span class="hljs-number">4.047380e+07</span>  <span class="hljs-number">0.28</span>   

                   ...                    inc_total_revenue_year_on_year  \
<span class="hljs-number">0</span>                  ...                                            <span class="hljs-number">8.8400</span>   
<span class="hljs-number">1</span>                  ...                                           <span class="hljs-number">12.4700</span>   
<span class="hljs-number">2</span>                  ...                                        <span class="hljs-number">17929.4004</span>   
<span class="hljs-number">3</span>                  ...                                          <span class="hljs-number">-41.6200</span>   

   inc_total_revenue_annual  inc_revenue_year_on_year  inc_revenue_annual  \
<span class="hljs-number">0</span>                     <span class="hljs-number">-5.36</span>                    <span class="hljs-number">8.8400</span>               <span class="hljs-number">-5.36</span>   
<span class="hljs-number">1</span>                     <span class="hljs-number">-3.48</span>                   <span class="hljs-number">12.4700</span>               <span class="hljs-number">-3.48</span>   
<span class="hljs-number">2</span>                    <span class="hljs-number">209.31</span>                <span class="hljs-number">17929.4004</span>              <span class="hljs-number">209.31</span>   
<span class="hljs-number">3</span>                     <span class="hljs-number">-3.07</span>                  <span class="hljs-number">-41.6200</span>               <span class="hljs-number">-3.07</span>   

   inc_operation_profit_year_on_year  inc_operation_profit_annual  \
<span class="hljs-number">0</span>                               <span class="hljs-number">5.51</span>                      <span class="hljs-number">69.1000</span>   
<span class="hljs-number">1</span>                              <span class="hljs-number">10.53</span>                     <span class="hljs-number">-28.2900</span>   
<span class="hljs-number">2</span>                             <span class="hljs-number">745.37</span>                    <span class="hljs-number">6337.2998</span>   
<span class="hljs-number">3</span>                             <span class="hljs-number">138.08</span>                     <span class="hljs-number">155.5600</span>   

   inc_net_profit_year_on_year  inc_net_profit_annual  \
<span class="hljs-number">0</span>                         <span class="hljs-number">6.11</span>                <span class="hljs-number">69.9800</span>   
<span class="hljs-number">1</span>                        <span class="hljs-number">22.97</span>               <span class="hljs-number">-29.3600</span>   
<span class="hljs-number">2</span>                       <span class="hljs-number">721.89</span>              <span class="hljs-number">3654.3401</span>   
<span class="hljs-number">3</span>                       <span class="hljs-number">143.59</span>               <span class="hljs-number">151.5400</span>   

   inc_net_profit_to_shareholders_year_on_year  \
<span class="hljs-number">0</span>                                         <span class="hljs-number">6.11</span>   
<span class="hljs-number">1</span>                                        <span class="hljs-number">14.94</span>   
<span class="hljs-number">2</span>                                       <span class="hljs-number">783.92</span>   
<span class="hljs-number">3</span>                                       <span class="hljs-number">132.08</span>   

   inc_net_profit_to_shareholders_annual  
<span class="hljs-number">0</span>                                <span class="hljs-number">69.9800</span>  
<span class="hljs-number">1</span>                               <span class="hljs-number">-34.6700</span>  
<span class="hljs-number">2</span>                              <span class="hljs-number">4519.6099</span>  
<span class="hljs-number">3</span>                               <span class="hljs-number">140.9000</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">36</span> columns]
</code></pre><p></p>
<p><strong>获取一只股票某个字段数据</strong></p><pre><code class="python language-python hljs">q = query(
    indicator
).filter(
    indicator.code == <span class="hljs-string">'000004.XSHE'</span>
)
df = get_fundamentals(q, <span class="hljs-string">'2015-10-15'</span>)
<span class="hljs-comment"># 打印出每股收益EPS(元)</span>
print(df[<span class="hljs-string">'eps'</span>][<span class="hljs-number">0</span>])

&gt;&gt;&gt;<span class="hljs-number">0.0365</span>
</code></pre><p></p>
<p><strong>获取多只股票在某一日期的财务数据</strong></p><pre><code class="python language-python hljs">df = get_fundamentals(query(
        indicator
    ).filter(
        <span class="hljs-comment"># 这里不能使用 in 操作, 要使用in_()函数</span>
        indicator.code.in_([<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'600000.XSHG'</span>])
    ), date=<span class="hljs-string">'2015-10-15'</span>)
print(df)

        id         code         day     pubDate    statDate     eps  \
<span class="hljs-number">0</span>      <span class="hljs-number">178</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-15</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-14</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.4162</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2952806</span>  <span class="hljs-number">600000.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-15</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-20</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.6813</span>   

   adjusted_profit  operating_profit  value_change_profit   roe  \
<span class="hljs-number">0</span>     <span class="hljs-number">5.954000e+09</span>      <span class="hljs-number">6.254000e+09</span>         <span class="hljs-number">1.566000e+09</span>  <span class="hljs-number">4.14</span>   
<span class="hljs-number">1</span>     <span class="hljs-number">1.239500e+10</span>      <span class="hljs-number">1.553200e+10</span>         <span class="hljs-number">8.140000e+08</span>  <span class="hljs-number">4.45</span>   

                   ...                    inc_total_revenue_year_on_year  \
<span class="hljs-number">0</span>                  ...                                             <span class="hljs-number">39.02</span>   
<span class="hljs-number">1</span>                  ...                                             <span class="hljs-number">19.94</span>   

   inc_total_revenue_annual  inc_revenue_year_on_year  inc_revenue_annual  \
<span class="hljs-number">0</span>                     <span class="hljs-number">25.32</span>                     <span class="hljs-number">39.02</span>               <span class="hljs-number">25.32</span>   
<span class="hljs-number">1</span>                     <span class="hljs-number">14.30</span>                     <span class="hljs-number">19.94</span>               <span class="hljs-number">14.30</span>   

   inc_operation_profit_year_on_year  inc_operation_profit_annual  \
<span class="hljs-number">0</span>                              <span class="hljs-number">17.90</span>                         <span class="hljs-number">5.01</span>   
<span class="hljs-number">1</span>                               <span class="hljs-number">4.92</span>                        <span class="hljs-number">12.52</span>   

   inc_net_profit_year_on_year  inc_net_profit_annual  \
<span class="hljs-number">0</span>                        <span class="hljs-number">18.69</span>                   <span class="hljs-number">5.81</span>   
<span class="hljs-number">1</span>                         <span class="hljs-number">6.29</span>                  <span class="hljs-number">13.33</span>   

   inc_net_profit_to_shareholders_year_on_year  \
<span class="hljs-number">0</span>                                        <span class="hljs-number">18.69</span>   
<span class="hljs-number">1</span>                                         <span class="hljs-number">6.39</span>   

   inc_net_profit_to_shareholders_annual  
<span class="hljs-number">0</span>                                   <span class="hljs-number">5.81</span>  
<span class="hljs-number">1</span>                                  <span class="hljs-number">13.53</span>  

[<span class="hljs-number">2</span> rows x <span class="hljs-number">36</span> columns]
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="balance"></span>balance</label>
      <label>资产负债表 / 2005至今，每天24:00更新</label>
      <article style="display: block; height: 16655.9px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按季度更新, 统计周期是一季度。可以使用get_fundamentals() 的statDate参数查询年度数据。 由于这个表是存量性质的， 查询年度数据是返回第四季度的数据。</p>
<p><strong>注意</strong>：
（详细内容可看get_fundamentals接口）</p>
<ul>
<li>date和statDate参数只能传入一个:</li>
<li>传入date时, 查询指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据</li>
<li>statDate: 财报统计的季度或者年份,。
季度: 格式是<strong>年 + 'q' + 季度序号</strong>, 例如: <strong>'2015q1', '2013q4'</strong>.
年份: 格式就是<strong>年份的数字</strong>, 例如:<strong>'2015', '2016'</strong>.</li>
</ul>
<p><strong>表名: balance</strong></p>
<table>
    <tbody><tr>
        <td width="425"><strong>列名</strong></td>
        <td width="142"><strong>列的含义</strong></td>
        <td width="267"><strong>解释</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>带后缀.XSHE/.XSHG</td>
    </tr>
    <tr>
        <td>pubDate</td>
        <td>日期</td>
        <td>公司发布财报的日期</td>
    </tr>
    <tr>
        <td>statDate</td>
        <td>日期</td>
        <td>财报统计的季度的最后一天, 比如2015-03-31, 2015-06-30</td>
    </tr>
    <tr>
        <td>cash_equivalents</td>
        <td>货币资金(元)</td>
        <td>货币资金是指在企业生产经营过程中处于货币形态的那部分资金，按其形态和用途不同可分为包括库存现金、银行存款和其他货币资金。它是企业中最活跃的资金，流动性强，是企业的重要支付手段和流通手段，因而是流动资产的审查重点。货币资金：又称为货币资产，是指在企业生产经营过程中处于货币形态的资产。是指可以立即投入流通，用以购买商品或劳务或用以偿还债务的交换媒介物。</td>
    </tr>
    <tr>
        <td>settlement_provi</td>
        <td>结算备付金(元)</td>
        <td>结算备付金是指结算参与人根据规定，存放在其资金交收账户中用于证券交易及非交易结算的资金。资金交收账户即结算备付金账户。</td>
    </tr>
    <tr>
        <td>lend_capital</td>
        <td>拆出资金(元)</td>
        <td>企业（金融）拆借给境内、境外其他金融机构的款项。</td>
    </tr>
    <tr>
        <td>trading_assets</td>
        <td>交易性金融资产(元)</td>
        <td>交易性金融资产是指：企业为了近期内出售而持有的金融资产。通常情况下，以赚取差价为目的从二级市场购入的股票、债券和基金等，应分类为交易性金融资产，故长期股权投资不会被分类转入交易性金融资产及其直接指定为以公允价值计量且其变动计入当期损益的金融资产进行核算。</td>
    </tr>
    <tr>
        <td>bill_receivable</td>
        <td>应收票据(元)</td>
        <td>应收票据是指企业持有的还没有到期、尚未兑现的票据。应收票据是企业未来收取货款的权利，这种权利和将来应收取的货款金额以书面文件形式约定下来，因此它受到法律的保护，具有法律上的约束力。是一种债权凭证。根据我国现行法律的规定，商业汇票的期限不得超过6个月，因而我国的商业汇票是一种流动资产。在我国应收票据、应付票据通常是指“商业汇票”，包括“银行承兑汇票”和“商业承兑汇票”两种，是远期票据，付款期一般在1个月以上，6个月以内。其他的银行票据(支票、本票、汇票}等，都是作为货币资金来核算的，而不作为应收应付票据</td>
    </tr>
    <tr>
        <td>account_receivable</td>
        <td>应收账款(元)</td>
        <td>应收账款是指企业在正常的经营过程中因销售商品、产品、提供劳务等业务，应向购买单位收取的款项，包括应由购买单位或接受劳务单位负担的税金、代购买方垫付的各种运杂费等。</td>
    </tr>
    <tr>
        <td>advance_payment</td>
        <td>预付款项(元)</td>
        <td>预付款项，包括预付货款和预付工程款等，通常属于流动资产。预付账款与应收账款都属于公司的债权，但两者产生的原因不同，应收账款是公司应收的销货款，通常是用货币清偿的，而预付账款是预付给供货单位的购货款或预付给施工单位的工程价款和材料款，通常是用商品、劳务或完工工程来清偿的。</td>
    </tr>
    <tr>
        <td>insurance_receivables</td>
        <td>应收保费(元)</td>
        <td>保险公司按照合同约定应向投保人收取但尚未收到的保费收入。</td>
    </tr>
    <tr>
        <td>reinsurance_receivables</td>
        <td>应收分保账款(元)</td>
        <td>指公司开展分保业务而发生的各种应收款项。</td>
    </tr>
    <tr>
        <td>reinsurance_contract_reserves_receivable</td>
        <td>应收分保合同准备金(元)</td>
        <td>是用于核算企业（再保险分出人）从事再保险业务确认的应收分保未到期责任准备金，以及应向再保险接受人摊回的保险责任准备金。</td>
    </tr>
    <tr>
        <td>interest_receivable</td>
        <td>应收利息(元)</td>
        <td>应收利息是指：短期债券投资实际支付的价款中包含的已到付息期但尚未领取的债券利息。这部分应收利息不计入短期债券投资初始投资成本中。但实际支付的价款中包含尚未到期的债券利息，则计入短期债券投资初始投资成本中（不需要单独核算）。</td>
    </tr>
    <tr>
        <td>dividend_receivable</td>
        <td>应收股利(元)</td>
        <td>应收股利是指企业因股权投资而应收取的现金股利以及应收其他单位的利润，包括企业购入股票实际支付的款项中所包括的已宣告发放但尚未领取的现金股利和企业因对外投资应分得的现金股利或利润等，但不包括应收的股票股利。</td>
    </tr>
    <tr>
        <td>other_receivable</td>
        <td>其他应收款(元)</td>
        <td>其他应收款是企业应收款项的另一重要组成部分。是企业除应收票据、应收账款和预付账款以外的各种应收暂付款项。其他应收款通常包括暂付款，是指企业在商品交易业务以外发生的各种应收、暂付款项。</td>
    </tr>
    <tr>
        <td>bought_sellback_assets</td>
        <td>买入返售金融资产(元)</td>
        <td>指公司按返售协议约定先买入再按固定价格返售的证券等金融资产所融出的资金。</td>
    </tr>
    <tr>
        <td>inventories</td>
        <td>存货(元)</td>
        <td>是指企业在日常活动中持有的以备出售的产成品或商品、处在生产过程中的在产品、在生产过程或提供劳务过程中耗用的材料和物料等。</td>
    </tr>
    <tr>
        <td>non_current_asset_in_one_year</td>
        <td>一年内到期的非流动资产(元)</td>
        <td>一年内到期的非流动资产反映企业将于一年内到期的非流动资产项目金额。包括一年内到期的持有至到期投资、长期待摊费用和一年内可收回的长期应收款。应根据有关科目的期末余额填列。执行企业会计制度的企业根据“一年内到期的长期债权投资”等科目填列。</td>
    </tr>
    <tr>
        <td>other_current_assets</td>
        <td>其他流动资产(元)</td>
        <td>其他流动资产，是指除货币资金、短期投资、应收票据、应收账款、其他应收款、存货等流动资产以外的流动资产</td>
    </tr>
    <tr>
        <td>total_current_assets</td>
        <td>流动资产合计(元)</td>
        <td>指在一年内或者超过一年的一个营业周期内变现或者耗用的资产，包括货币资金、短期投资、应收票据、应收账款、坏账准备、应收账款净额、预付账款、其他应收款、存货、待转其他业务支出、待摊费用、待处理流动资产净损失、一年内到期的长期债券投资、其他流动资产等项。</td>
    </tr>
    <tr>
        <td>loan_and_advance</td>
        <td>发放委托贷款及垫款(元)</td>
        <td>委托贷款是指由委托人提供合法来源的资金转入委托银行一般委存账户，委托银行根据委托人确定的贷款对象、用途、金额、期限、利率等代为发放、监督使用并协助收回的贷款业务。垫款是指银行在客户无力支付到期款项的情况下，被迫以自有资金代为支付的行为。</td>
    </tr>
    <tr>
        <td>hold_for_sale_assets</td>
        <td>可供出售金融资产(元)</td>
        <td>可供出售金融资产指初始确认时即被指定为可供出售的非衍生金融资产，以及下列各类资产之外的非衍生金融资产：（一）贷款和应收款项；（二）持有至到期投资；（三）交易性金融资产。</td>
    </tr>
    <tr>
        <td>hold_to_maturity_investments</td>
        <td>持有至到期投资(元)</td>
        <td>持有至到期投资指企业有明确意图并有能力持有至到期，到期日固定、回收金额固定或可确定的非衍生金融资产。以下非衍生金融资产不应划分为持有至到期投资：（一）初始确认时划分为交易性非衍生金融资产；（二）初始确认时被指定为可供出售非衍生金融资产；（三）符合贷款和应收款项定义的非衍生金融资产。</td>
    </tr>
    <tr>
        <td>longterm_receivable_account</td>
        <td>长期应收款(元)</td>
        <td>长期应收款是根据长期应收款的账户余额减去未确认融资收益还有一年内到期的长期应收款。</td>
    </tr>
    <tr>
        <td>longterm_equity_invest</td>
        <td>长期股权投资(元)</td>
        <td>长期股权投资是指企业持有的对其子公司、合营企业及联营企业的权益性投资以及企业持有的对被投资单位不具有控制、共同控制或重大影响，且在活跃市场中没有报价、公允价值不能可靠计量的权益性投资。</td>
    </tr>
    <tr>
        <td>investment_property</td>
        <td>投资性房地产(元)</td>
        <td>投资性房地产是指为赚取租金或资本增值，或两者兼有而持有的房地产。投资性房地产应当能够单独计量和出售。</td>
    </tr>
    <tr>
        <td>fixed_assets</td>
        <td>固定资产(元)</td>
        <td>固定资产是指企业为生产商品、提供劳务、出租或经营管理而持有的、使用寿命超过一个会计年度的有形资产。属于产品生产过程中用来改变或者影响劳动对象的劳动资料，是固定资本的实物形态。固定资产在生产过程中可以长期发挥作用，长期保持原有的实物形态，但其价值则随着企业生产经营活动而逐渐地转移到产品成本中去，并构成产品价值的一个组成部分。</td>
    </tr>
    <tr>
        <td>constru_in_process</td>
        <td>在建工程(元)</td>
        <td>在建工程是指企业固定资产的新建、改建、扩建，或技术改造、设备更新和大修理工程等尚未完工的工程支出。在建工程通常有”自营”和”出包”两种方式。自营在建工程指企业自行购买工程用料、自行施工并进行管理的工程；出包在建工程是指企业通过签订合同，由其它工程队或单位承包建造的工程。</td>
    </tr>
    <tr>
        <td>construction_materials</td>
        <td>工程物资(元)</td>
        <td>工程物资是指用于固定资产建造的建筑材料（如钢材、水泥、玻璃等），企业（民用航空运输）的高价周转件（例如飞机的引擎）等。买回来要再次加工建设的资产。在资产负债表中列示为非流动资产。</td>
    </tr>
    <tr>
        <td>fixed_assets_liquidation</td>
        <td>固定资产清理(元)</td>
        <td>固定资产清理是指企业因出售、报废和毁损等原因转入清理的固定资产价值及其在清理过程中所发生的清理费用和清理收入等。</td>
    </tr>
    <tr>
        <td>biological_assets</td>
        <td>生产性生物资产(元)</td>
        <td>生产性生物资产是指为产出农产品、提供劳务或出租等目的而持有的生物资产，包括经济林、薪炭林、产畜和役畜等。</td>
    </tr>
    <tr>
        <td>oil_gas_assets</td>
        <td>油气资产(元)</td>
        <td>重要资产，其价值在总资产中占有较大比重。油气资产是指油气开采企业所拥有或控制的井及相关设施和矿区权益。油气资产属于递耗资产。递耗资产是通过开掘、采伐、利用而逐渐耗竭，以致无法恢复或难以恢复、更新或按原样重置的自然资源，如矿藏、原始森林等。油气资产是油气生产企业的重要资产，其价值在总资产中占有较大比重。</td>
    </tr>
    <tr>
        <td>intangible_assets</td>
        <td>无形资产(元)</td>
        <td>无形资产是指企业拥有或者控制的没有实物形态的可辨认非货币性资产。资产满足下列条件之一的，符合无形资产定义中的可辨认性标准：　1、能够从企业中分离或者划分出来，并能够单独或者与相关合同、资产或负债一起，用于出售、转移、授予许可、租赁或者交换。　2、源自合同性权利或其他法定权利，无论这些权利是否可以从企业或其他权利和义务中转移或者分离。无形资产主要包括专利权、非专利技术、商标权、著作权、土地使用权、特许权等。商誉的存在无法与企业自身分离，不具有可辨认性，不属于本章所指无形资产。</td>
    </tr>
    <tr>
        <td>development_expenditure</td>
        <td>开发支出(元)</td>
        <td>开发支出项目是反映企业开发无形资产过程中能够资本化形成无形资产成本的支出部分。开发支出项目应当根据”研发支出”科目中所属的”资本化支出”明细科目期末余额填列。</td>
    </tr>
    <tr>
        <td>good_will</td>
        <td>商誉(元)</td>
        <td>商誉是指能在未来期间为企业经营带来超额利润的潜在经济价值，或一家企业预期的获利能力超过可辨认资产正常获利能力（如社会平均投资回报率）的资本化价值。商誉是企业整体价值的组成部分。在企业合并时，它是购买企业投资成本超过被并企业净资产公允价值的差额。</td>
    </tr>
    <tr>
        <td>long_deferred_expense</td>
        <td>长期待摊费用(元)</td>
        <td>长期待摊费用是指企业已经支出，但摊销期限在1年以上(不含1年)的各项费用，包括开办费、租入固定资产的改良支出及摊销期在1年以上的固定资产大修理支出、股票发行费用等。应由本期负担的借款利息、租金等，不得作为长期待摊费用。</td>
    </tr>
    <tr>
        <td>deferred_tax_assets</td>
        <td>递延所得税资产(元)</td>
        <td>指对于可抵扣暂时性差异，以未来期间很可能取得用来抵扣可抵扣暂时性差异的应纳税所得额为限确认的一项资产。而对于所有应纳税暂时性差异均应确认为一项递延所得税负债，但某些特殊情况除外。递延所得税资产和递延所得税负债是和暂时性差异相对应的，可抵减暂时性差异是将来可用来抵税的部分，是应该收回的资产，所以对应递延所得税资产递延所得税负债是由应纳税暂时性差异产生的，对于影响利润的暂时性差异，确认的递延所得税负债应该调整“所得税费用”。例如会计折旧小于税法折旧，导致资产的账面价值大于计税基础，如果产品已经对外销售了，就会影响利润，所以递延所得税负债应该调整当期的所得税费用。如果暂时性差异不影响利润，而是直接计入所有者权益的，则确认的递延所得税负债应该调整资本公积。例如可供出售金融资产是按照公允价值来计量的，公允价值产升高了，会计上调增了可供出售金融资产的账面价值，并确认的资本公积，因为不影响利润，所以确认的递延所得税负债不能调整所得税费用，而应该调整资本公积。</td>
    </tr>
    <tr>
        <td>other_non_current_assets</td>
        <td>其他非流动资产(元)</td>
        <td>贷款是指贷款人(我国的商业银行等金融机构)对借款人提供的并按约定的利率和期限还本付息的货币资金。贷款币可以是人民币，也可以是外币。</td>
    </tr>
    <tr>
        <td>total_non_current_assets</td>
        <td>非流动资产合计(元)</td>
        <td>公式：非流动资产合计=所有的非流动资产项目之和—一年内到期的非流动资产=固定资产—累计折旧—固定资产减值准备—一年内到期的非流动资产。</td>
    </tr>
    <tr>
        <td>total_assets</td>
        <td>资产总计(元)</td>
        <td>资产总计是指企业拥有或可控制的能以货币计量的经济资源，包括各种财产、债权和其他权利。企业的资产按其流动性划分为：流动资产、长期投资、固定资产、无形资产及递延资产、其他资产等，即为企业资产负债表的资产总计项。所谓流动性是指企业资产的变现能力和支付能力。该指标根据会计“资产负债表”中“资产总计”项的年末数填列。资产总计=流动资产+长期投资+固定资产+无形及递延资产+其他资产。</td>
    </tr>
    <tr>
        <td>shortterm_loan</td>
        <td>短期借款(元)</td>
        <td>短期借款企业用来维持正常的生产经营所需的资金或为抵偿某项债务而向银行或其他金融机构等外单位借入的、还款期限在一年以下或者一年的一个经营周期内的各种借款。</td>
    </tr>
    <tr>
        <td>borrowing_from_centralbank</td>
        <td>向中央银行借款(元)</td>
        <td>向中央银行借款的形式有两种，一种是直接借款，也称再贷款;另一种为间接借款，即所谓的再贴现。</td>
    </tr>
    <tr>
        <td>deposit_in_interbank</td>
        <td>吸收存款及同业存放(元)</td>
        <td>吸收存款是负债类科目，它核算企业（银行）吸收的除了同业存放款项以外的其他各种存款，即：收到的除金融机构以外的企业或者个人、组织的存款，包括单位存款（企业、事业单位、机关、社会团体等）、个人存款、信用卡存款、特种存款、转贷款资金和财政性存款等。同业存放，也称同业存款，全称是同业及其金融机构存入款项，是指因支付清算和业务合作等的需要，由其他金融机构存放于商业银行的款项。</td>
    </tr>
    <tr>
        <td>borrowing_capital</td>
        <td>拆入资金(元)</td>
        <td>拆入资金，是指信托投资公司向银行或其他金融机构借入的资金。拆入资金应按实际借入的金额入账。</td>
    </tr>
    <tr>
        <td>trading_liability</td>
        <td>交易性金融负债(元)</td>
        <td>交易性金融负债是指企业采用短期获利模式进行融资所形成的负债，比如短期借款、长期借款、应付债券。作为交易双方来说，甲方的金融债权就是乙方的金融负债，由于融资方需要支付利息，因比，就形成了金融负债。交易性金融负债是企业承担的交易性金融负债的公允价值。</td>
    </tr>
    <tr>
        <td>notes_payable</td>
        <td>应付票据(元)</td>
        <td>应付票据是指企业购买材料、商品和接受劳务供应等而开出、承兑的商业汇票，包括商业承兑汇票和银行承兑汇票。在我国应收票据、应付票据仅指“商业汇票”，包括“银行承兑汇票”和“商业承兑汇票”两种，属于远期票据，付款期一般在1个月以上，6个月以内。其他的银行票据（支票、本票、汇票）等，都是作为货币资金来核算的，而不作为应收应付票据。</td>
    </tr>
    <tr>
        <td>accounts_payable</td>
        <td>应付账款(元)</td>
        <td>应付账款是指因购买材料、商品或接受劳务供应等而发生的债务，这是买卖双方在购销活动中由于取得物资与支付贷款在时间上不一致而产生的负债。</td>
    </tr>
    <tr>
        <td>advance_peceipts</td>
        <td>预收款项(元)</td>
        <td>预收款项是在企业销售交易成立以前，预先收取的部分货款。</td>
    </tr>
    <tr>
        <td>sold_buyback_secu_proceeds</td>
        <td>卖出回购金融资产款(元)</td>
        <td>卖出回购金融资产款是用于核算企业（金融）按回购协议卖出票据、证券、贷款等金融资产所融入的资金。</td>
    </tr>
    <tr>
        <td>commission_payable</td>
        <td>应付手续费及佣金(元)</td>
        <td>是会计科目的一种，用以核算企业因购买材料、商品和接受劳务供应等经营活动应支付的款项。通常是指因购买材料、商品或接受劳务供应等而发生的债务，这是买卖双方在购销活动中由于取得物资与支付贷款在时间上不一致而产生的负债。</td>
    </tr>
    <tr>
        <td>salaries_payable</td>
        <td>应付职工薪酬(元)</td>
        <td>应付职工薪酬是指企业为获得职工提供的服务而给予各种形式的报酬以及其他相关支出。职工薪酬包括：职工工资、奖金、津贴和补贴；职工福利费；医疗保险费、养老保险费、失业保险费、工伤保险费和生育保险费等社会保险费；住房公积金；工会经费和职工教育经费；非货币性福利；因解除与职工的劳动关系给予的补偿；其他与获得职工提供的服务相关的支出。原“应付工资”和“应付福利费”取消，换成“应付职工薪酬”。</td>
    </tr>
    <tr>
        <td>taxs_payable</td>
        <td>应交税费(元)</td>
        <td>应交税费是指企业根据在一定时期内取得的营业收入、实现的利润等，按照现行税法规定，采用一定的计税方法计提的应交纳的各种税费。应交税费包括企业依法交纳的增值税、消费税、营业税、所得税、资源税、土地增值税、城市维护建设税、房产税、土地使用税、车船税、教育费附加、矿产资源补偿费等税费，以及在上缴国家之前，由企业代收代缴的个人所得税等。</td>
    </tr>
    <tr>
        <td>interest_payable</td>
        <td>应付利息(元)</td>
        <td>应付利息是指金融企业根据存款或债券金额及其存续期限和规定的利率，按期计提应支付给单位和个人的利息。应付利息应按已计但尚未支付的金额入账。应付利息包括分期付息到期还本的长期借款、企业债券等应支付的利息。应付利息与应计利息的区别：应付利息属于借款,应计利息属于企业存款。</td>
    </tr>
    <tr>
        <td>dividend_payable</td>
        <td>应付股利(元)</td>
        <td>应付股利是指企业根据年度利润分配方案，确定分配的股利。是企业经董事会或股东大会，或类似机构决议确定分配的现金股利或利润。企业分配的股票股利，不通过“应付股利”科目核算。确定时借记“未分配利润”帐户，贷记“应付股利”帐户；实际支付时借记“应付股利”帐户，贷记“银行存款”帐户。</td>
    </tr>
    <tr>
        <td>other_payable</td>
        <td>其他应付款(元)</td>
        <td>其他应付款是财务会计中的一个往来科目，通常情况下，该科目只核算企业应付其他单位或个人的零星款项，如应付经营租入固定资产和包装物的租金、存入保证金、应付统筹退休金等。</td>
    </tr>
    <tr>
        <td>reinsurance_payables</td>
        <td>应付分保账款(元)</td>
        <td>应付分保账款表示债务，这样一来，债权、债务关系更加一目了然。另外，财产保险公司应收分保账款是指本公司与其他保险公司之间开展分保业务发生的各种应收款项。</td>
    </tr>
    <tr>
        <td>insurance_contract_reserves</td>
        <td>保险合同准备金(元)</td>
        <td>险准备金是指保险人为保证其如约履行保险赔偿或给付义务，根据政府有关法律规定或业务特定需要，从保费收入或盈余中提取的与其所承担的保险责任相对应的一定数量的基金。</td>
    </tr>
    <tr>
        <td>proxy_secu_proceeds</td>
        <td>代理买卖证券款(元)</td>
        <td>代理买卖证券款是指公司接受客户委托，代理客户买卖股票、债券和基金等有价证券而收到的款项，包括公司代理客户认购新股的款项、代理客户领取的现金股利和债券利息，代客户向证券交易所支付的配股款等。</td>
    </tr>
    <tr>
        <td>receivings_from_vicariously_sold_securities</td>
        <td>代理承销证券款(元)</td>
        <td>代理承销证券款是指公司接受委托，采用承购包销方式或代销方式承销证券所形成的、应付证券发行人的承销资金。</td>
    </tr>
    <tr>
        <td>non_current_liability_in_one_year</td>
        <td>一年内到期的非流动负债(元)</td>
        <td>是反映企业各种非流动负债在一年之内到期的金额，包括一年内到期的长期借款、长期应付款和应付债券。本项目应根据上述账户分析计算后填列。计入(收录)流动负债中。</td>
    </tr>
    <tr>
        <td>other_current_liability</td>
        <td>其他流动负债(元)</td>
        <td>其他流动负债是指不能归属于短期借款，应付短期债券券，应付票据，应付帐款，应付所得税，其他应付款，预收账款这七款项目的流动负债。但以上各款流动负债，其金额未超过流动负债合计金额百分之五者，得并入其他流动负债内。</td>
    </tr>
    <tr>
        <td>total_current_liability</td>
        <td>流动负债合计(元)</td>
        <td>流动负债合计是指企业在一年内或超过一年的一个营业周期内需要偿还的债务，包括短期借款、应付帐款、其他应付款、应付工资、应付福利费、未交税金和未付利润、其他应付款、预提费用等。</td>
    </tr>
    <tr>
        <td>longterm_loan</td>
        <td>长期借款(元)</td>
        <td>长期借款是指企业从银行或其他金融机构借入的期限在一年以上(不含一年)的借款。我国股份制企业的长期借款主要是向金融机构借人的各项长期性借款，如从各专业银行、商业银行取得的贷款；除此之外，还包括向财务公司、投资公司等金融企业借人的款项。</td>
    </tr>
    <tr>
        <td>bonds_payable</td>
        <td>应付债券(元)</td>
        <td>应付债券是指企业为筹集资金而对外发行的期限在一年以上的长期借款性质的书面证明，约定在一定期限内还本付息的一种书面承诺。</td>
    </tr>
    <tr>
        <td>longterm_account_payable</td>
        <td>长期应付款(元)</td>
        <td>长期应付款是指企业除了长期借款和应付债券以外的长期负债，包括应付引进设备款、应付融资租入固定资产的租赁费等。</td>
    </tr>
    <tr>
        <td>specific_account_payable</td>
        <td>专项应付款(元)</td>
        <td>专项应付款是企业接受国家拨入的具有专门用途的款项所形成的不需要以资产或增加其他负债偿还的负债。专项应付款指企业接受国家拨入的具有专门用途的拨款，如新产品试制费拨款、中间试验费拨款和重要科学研究补助费拨款等科技三项拨款等。</td>
    </tr>
    <tr>
        <td>estimate_liability</td>
        <td>预计负债(元)</td>
        <td>预计负债是因或有事项可能产生的负债。根据或有事项准则的规定，与或有事项相关的义务同时符合以下三个条件的，企业应将其确认为负债：一是该义务是企业承担的现时义务；二是该义务的履行很可能导致经济利益流出企业，这里的“很可能”指发生的可能性为“大于50%，但小于或等于95%”；三是该义务的金额能够可靠地计量。</td>
    </tr>
    <tr>
        <td>deferred_tax_liability</td>
        <td>递延所得税负债(元)</td>
        <td>递延所得税负债是指根据应纳税暂时性差异计算的未来期间应付所得税的金额；递延所得税资产和递延所得税负债是和暂时性差异相对应的，可抵减暂时性差异是将来可用来抵税的部分，是应该收回的资产，所以对应递延所得税资产；递延所得税负债是由应纳税暂时性差异产生的，对于影响利润的暂时性差异，确认的递延所得税负债应该调整“所得税费用”。</td>
    </tr>
    <tr>
        <td>other_non_current_liability</td>
        <td>其他非流动负债(元)</td>
        <td>其他非流动负债项目是反映企业除长期借款、应付债券等项目以外的其他非流动负债。其他非流动负债项目应根据有关科目的期末余额填列。其他非流动负债项目应根据有关科目期末余额减去将于一年内(含一年)到期偿还数后的余额填列。非流动负债各项目中将于一年内(含一年)到期的非流动负债，应在”一年内到期的非流动负债”项目内单独反映。</td>
    </tr>
    <tr>
        <td>total_non_current_liability</td>
        <td>非流动负债合计(元)</td>
        <td>流动负债合计是指企业在一年内或超过一年的一个营业周期内需要偿还的债务，包括短期借款、应付帐款、其他应付款、应付工资、应付福利费、未交税金和未付利润、其他应付款、预提费用等。</td>
    </tr>
    <tr>
        <td>total_liability</td>
        <td>负债合计(元)</td>
        <td>负债合计是指企业所承担的能以，将以资产或劳务偿还的债务，偿还形式包括货币、资产或提供劳务。</td>
    </tr>
    <tr>
        <td>paidin_capital</td>
        <td>实收资本(或股本)(元)</td>
        <td>实收资本是指企业的投资者按照企业章程或合同、协议的约定，实际投入企业的资本。我国实行的是注册资本制，因而，在投资者足额缴纳资本之后，企业的实收资本应该等于企业的注册资本。“实收资本”科目用于核算企业实际收到的投资人投入的资本。</td>
    </tr>
    <tr>
        <td>capital_reserve_fund</td>
        <td>资本公积金(元)</td>
        <td>资本公积金是在公司的生产经营之外，由资本、资产本身及其他原因形成的股东权益收入。股份公司的资本公积金，主要来源于的股票发行的溢价收入、接受的赠与、资产增值、因合并而接受其他公司资产净额等。其中，股票发行溢价是上市公司最常见、是最主要的资本公积金来源。</td>
    </tr>
    <tr>
        <td>treasury_stock</td>
        <td>库存股(元)</td>
        <td>指股份有限公司已发行的股票，由于公司的重新回购或其他原因且不是为了注销的目的而由公司持有的股票。</td>
    </tr>
    <tr>
        <td>specific_reserves</td>
        <td>专项储备(元)</td>
        <td>专项储备用于核算高危行业企业按照规定提取的安全生产费以及维持简单再生产费用等具有类似性质的费用。</td>
    </tr>
    <tr>
        <td>surplus_reserve_fund</td>
        <td>盈余公积金(元)</td>
        <td>盈余公积是指企业按照规定从净利润中提取的各种积累资金。</td>
    </tr>
    <tr>
        <td>ordinary_risk_reserve_fund</td>
        <td>一般风险准备(元)</td>
        <td>指从事证券业务的金融企业按规定从 净利润中提取，用于弥补亏损的 风险准备。</td>
    </tr>
    <tr>
        <td>retained_profit</td>
        <td>未分配利润(元)</td>
        <td>未分配利润是企业未作分配的利润。它在以后年度可继续进行分配，在未进行分配之前，属于所有者权益的组成部分。</td>
    </tr>
    <tr>
        <td>foreign_currency_report_conv_diff</td>
        <td>外币报表折算差额(元)</td>
        <td>是指在编制合并财务报表时，把国外子公司或分支机构以所在国家货币编制的财务报表折算成以记账本位币表达的财务报表时，由于报表项目采用不同汇率折算而形成的汇兑损益。</td>
    </tr>
    <tr>
        <td>equities_parent_company_owners</td>
        <td>归属于母公司股东权益合计(元)</td>
        <td>母公司股东权益反映的是母公司所持股份部分的所有者权益数，所有者权益合计是反映的是所有的股东包括母公司与少数股东一起100%的股东所持股份的总体所有者权益合计数。即所有者权益合计＝母公司股东权益合计母＋少数股东权益合计。</td>
    </tr>
    <tr>
        <td>minority_interests</td>
        <td>少数股东权益(元)</td>
        <td>少数股东权益简称少数股权,是反映除母公司以外的其他投资者在子公司中的权益，表示其他投资者在子公司所有者权益中所拥有的份额。在控股合并形式下，子公司股东权益中未被母公司持有部分。在母公司拥有子公司股份不足100%，即只拥有子公司净资产的部分产权时，子公司股东权益的一部分属于母公司所有，即多数股权，其余部分仍属外界其他股东所有，由于后者在子公司全部股权中不足半数，对子公司没有控制能力，故被称为少数股权。</td>
    </tr>
    <tr>
        <td>total_owner_equities</td>
        <td>股东权益合计(元)</td>
        <td>指股本、资本公积、盈余公积、未分配利润的之和，代表了股东对企业的所有权，反映了股东在企业资产中享有的经济利益。</td>
    </tr>
    <tr>
        <td>total_sheet_owner_equities</td>
        <td>负债和股东权益合计</td>
        <td>负债和股东权益总计是等于负债总额加上股东权益总额，也等于资产总额。</td>
    </tr>
</tbody></table>
<p><strong>获取所有公司最近季度的资产负债表</strong></p><pre><code class="python language-python hljs">df=get_fundamentals(query(balance))
print(df[:<span class="hljs-number">4</span>])
         id         code         day     pubDate    statDate  \
<span class="hljs-number">0</span>  <span class="hljs-number">31771107</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-02</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">32297446</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">32297662</span>  <span class="hljs-number">000004.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">32126926</span>  <span class="hljs-number">000005.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   cash_equivalents  settlement_provi  lend_capital  trading_assets  \
<span class="hljs-number">0</span>      <span class="hljs-number">2.839820e+11</span>               NaN  <span class="hljs-number">7.099600e+10</span>    <span class="hljs-number">3.112700e+11</span>   
<span class="hljs-number">1</span>      <span class="hljs-number">1.730500e+11</span>               NaN           NaN    <span class="hljs-number">2.270278e+08</span>   
<span class="hljs-number">2</span>      <span class="hljs-number">1.293766e+08</span>               NaN           NaN             NaN   
<span class="hljs-number">3</span>      <span class="hljs-number">6.283763e+07</span>               NaN           NaN    <span class="hljs-number">2.531232e+07</span>   

   bill_receivable             ...              treasury_stock  \
<span class="hljs-number">0</span>              NaN             ...                         NaN   
<span class="hljs-number">1</span>       <span class="hljs-number">21815870.0</span>             ...                         NaN   
<span class="hljs-number">2</span>         <span class="hljs-number">484800.0</span>             ...                         NaN   
<span class="hljs-number">3</span>        <span class="hljs-number">3513000.0</span>             ...                         NaN   

   specific_reserves  surplus_reserve_fund  ordinary_risk_reserve_fund  \
<span class="hljs-number">0</span>                NaN          <span class="hljs-number">1.078100e+10</span>                <span class="hljs-number">5.153600e+10</span>   
<span class="hljs-number">1</span>                NaN          <span class="hljs-number">7.082625e+10</span>                         NaN   
<span class="hljs-number">2</span>                NaN          <span class="hljs-number">1.341421e+07</span>                         NaN   
<span class="hljs-number">3</span>                NaN          <span class="hljs-number">1.495191e+08</span>                         NaN   

   retained_profit  foreign_currency_report_conv_diff  \
<span class="hljs-number">0</span>     <span class="hljs-number">1.311860e+11</span>                                NaN   
<span class="hljs-number">1</span>     <span class="hljs-number">1.034041e+11</span>                                NaN   
<span class="hljs-number">2</span>     <span class="hljs-number">7.160281e+07</span>                                NaN   
<span class="hljs-number">3</span>    <span class="hljs-number">-1.715857e+08</span>                                NaN   

   equities_parent_company_owners  minority_interests  total_owner_equities  \
<span class="hljs-number">0</span>                    <span class="hljs-number">3.641310e+11</span>                 NaN          <span class="hljs-number">3.641310e+11</span>   
<span class="hljs-number">1</span>                    <span class="hljs-number">2.026750e+11</span>        <span class="hljs-number">9.996741e+10</span>          <span class="hljs-number">3.026424e+11</span>   
<span class="hljs-number">2</span>                    <span class="hljs-number">1.449622e+09</span>        <span class="hljs-number">1.207967e+07</span>          <span class="hljs-number">1.461701e+09</span>   
<span class="hljs-number">3</span>                    <span class="hljs-number">1.622737e+09</span>        <span class="hljs-number">9.179124e+07</span>          <span class="hljs-number">1.714528e+09</span>   

   total_sheet_owner_equities  
<span class="hljs-number">0</span>                <span class="hljs-number">4.468514e+12</span>  
<span class="hljs-number">1</span>                <span class="hljs-number">1.814466e+12</span>  
<span class="hljs-number">2</span>                <span class="hljs-number">1.548313e+09</span>  
<span class="hljs-number">3</span>                <span class="hljs-number">2.939184e+09</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">86</span> columns]
</code></pre><p></p>
<p><strong>获取某只股票的资产负债表数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询'000001.XSHE'的资产负债表数据</span>
q = query(
    balance
).filter(
    balance.code == <span class="hljs-string">'000001.XSHE'</span>
)
<span class="hljs-comment"># 运行时间2020-10-15</span>
df = get_fundamentals(q,<span class="hljs-string">'2020-10-15'</span>)
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,cash_equivalents货币资金</span>
print(df[[<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'cash_equivalents'</span>]])

<span class="hljs-comment">#输出</span>
      pubDate    statDate  cash_equivalents
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2020</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>      <span class="hljs-number">2.524260e+11</span>
</code></pre><p></p></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="cash_flow"></span>cash_flow</label>
      <label>现金流量表 / 2005至今，每天24:00更新</label>
      <article style="display: block; height: 7824px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按季度更新, 统计周期是一季度。可以使用get_fundamentals() 的 statDate 参数查询年度数据。</p>
<p><strong>表名: cash_flow</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
</tr>
<tr>
<td>pubDate</td>
<td>日期</td>
<td>公司发布财报日期</td>
</tr>
<tr>
<td>statDate</td>
<td>日期</td>
<td>财报统计的季度的最后一天, 比如2015-03-31, 2015-06-30</td>
</tr>
<tr>
<td>goods_sale_and_service_render_cash</td>
<td>销售商品、提供劳务收到的现金(元)</td>
<td>反映企业本期销售商品、提供劳务收到的现金，以及前期销售商品、提供劳务本期收到的现金（包括销售收入和应向购买者收取的增值税销项税额）和本期预收的款项，减去本期销售本期退回的商品和前期销售本期退回的商品支付的现金。企业销售材料和代购代销业务收到的现金，也在本项目反映。</td>
</tr>
<tr>
<td>net_deposit_increase</td>
<td>客户存款和同业存放款项净增加额(元)</td>
<td>客户存款和同业存款净增加额=客户存款和同业存款期末余额－客户存款和同业存款期初余额。</td>
</tr>
<tr>
<td>net_borrowing_from_central_bank</td>
<td>向中央银行借款净增加额(元)</td>
<td>向中央银行借款净增加额=向中央银行借款期末余额－向中央银行借款期初余额。</td>
</tr>
<tr>
<td>net_borrowing_from_finance_co</td>
<td>向其他金融机构拆入资金净增加额(元)</td>
<td>向其他金融机构拆入资金净增加额=向其他金融机构拆入资金期末余额－向其他金融机构拆入资金期初余额。</td>
</tr>
<tr>
<td>net_original_insurance_cash</td>
<td>收到原保险合同保费取得的现金(元)</td>
<td>收到原保险合同保费取得的现金</td>
</tr>
<tr>
<td>net_cash_received_from_reinsurance_business</td>
<td>收到再保险业务现金净额(元)</td>
<td>再保险是指一个保险人，分出一定的保险金额给另一个保险人。</td>
</tr>
<tr>
<td>net_insurer_deposit_investment</td>
<td>保户储金及投资款净增加额(元)</td>
<td>保户储金，是指保险公司以储金利息作为保费的保险业务，收到保户缴存的储金。投资款是收到股东的款项。</td>
</tr>
<tr>
<td>net_deal_trading_assets</td>
<td>处置交易性金融资产净增加额(元)</td>
<td>交易性金融资产是指企业为了近期内出售而持有的债券投资、股票投资和基金投资。</td>
</tr>
<tr>
<td>interest_and_commission_cashin</td>
<td>收取利息、手续费及佣金的现金(元)</td>
<td>收取利息、手续费及佣金的现金</td>
</tr>
<tr>
<td>net_increase_in_placements</td>
<td>拆入资金净增加额(元)</td>
<td>拆入资金净增加额=拆入资金期末余额－拆入资金期初余额。</td>
</tr>
<tr>
<td>net_buyback</td>
<td>回购业务资金净增加额(元)</td>
<td>回购交易是质押贷款的一种方式，通常用在政府债券上。债券经纪人向投资者临时出售一定的债券，同时签约在一定的时间内以稍高价格买回来。债券经纪人从中取得资金再用来投资，而投资者从价格差中得利。</td>
</tr>
<tr>
<td>tax_levy_refund</td>
<td>收到的税费返还(元)</td>
<td>反映企业收到返还的增值税、营业税、所得税、消费税、关税和教育费附加返还款等各种税费。</td>
</tr>
<tr>
<td>other_cashin_related_operate</td>
<td>收到其他与经营活动有关的现金(元)</td>
<td>反映企业收到的罚款收入、经营租赁收到的租金等其他与经营活动有关的现金流入，金额较大的应当单独列示。</td>
</tr>
<tr>
<td>subtotal_operate_cash_inflow</td>
<td>经营活动现金流入小计(元)</td>
<td>销售商品、提供劳务+收到的现金收到的税费返还+收到其他与经营活动有关的现金。</td>
</tr>
<tr>
<td>goods_and_services_cash_paid</td>
<td>购买商品、接受劳务支付的现金(元)</td>
<td>反映企业本期购买商品、接受劳务实际支付的现金（包括增值税进项税额），以及本期支付前期购买商品、接受劳务的未付款项和本期预付款项，减去本期发生的购货退回收到的现金。</td>
</tr>
<tr>
<td>net_loan_and_advance_increase</td>
<td>客户贷款及垫款净增加额(元)</td>
<td>客户贷款是科目核算信托项目管理运用、处分信托财产而持有的各项贷款。垫款是指银行在客户无力支付到期款项的情况下，被迫以自有资金代为支付的行为。</td>
</tr>
<tr>
<td>net_deposit_in_cb_and_ib</td>
<td>存放中央银行和同业款项净增加额(元)</td>
<td>存放中央银行款项是指各金融企业在中央银行开户而存入的用于支付清算、调拨款项、提取及缴存现金、往来资金结算以及按吸收存款的一定比例缴存于中央银行的款项和其他需要缴存的款项。存放同业是指商业银行存放在其他银行和非银行金融机构的存款。</td>
</tr>
<tr>
<td>original_compensation_paid</td>
<td>支付原保险合同赔付款项的现金(元)</td>
<td>赔付支出主要指核算企业（保险）支付的原保险合同赔付款项和再保险合同赔付款项。原保险即是区别于再保险的名词。</td>
</tr>
<tr>
<td>handling_charges_and_commission</td>
<td>支付利息、手续费及佣金的现金(元)</td>
<td>一般是指涉及到贷款利息，银行扣缴的手续费及佣金等现金的流出，用在利息指出，或者银行手续费支出，佣金支出等业务上。</td>
</tr>
<tr>
<td>policy_dividend_cash_paid</td>
<td>支付保单红利的现金(元)</td>
<td>保单红利支出是根据原保险合同的约定，按照分红保险产品的红利分配方法及有关精算结果而估算，支付给保单持有人的红利。</td>
</tr>
<tr>
<td>staff_behalf_paid</td>
<td>支付给职工以及为职工支付的现金(元)</td>
<td>这个项目反映企业实际支付给职工的现金以及为职工支付的现金，包括本期实际支付给职工的工资、奖金、各种津贴和补贴等，以及为职工支付的其他费用。不包括支付的离退休人员的各项费用和支付给在建工程人员的工资等。</td>
</tr>
<tr>
<td>tax_payments</td>
<td>支付的各项税费(元)</td>
<td>反映企业本期发生并支付的、本期支付以前各期发生的以及预交的教育费附加、矿产资源补偿费、印花税、房产税、土地增值税、车船使用税、预交的营业税等税费，计入固定资产价值、实际支付的耕地占用税、本期退回的增值税、所得税等除外。</td>
</tr>
<tr>
<td>other_operate_cash_paid</td>
<td>支付其他与经营活动有关的现金(元)</td>
<td>反映企业支付的罚款支出、支付的差旅费、业务招待费、保险费、经营租赁支付的现金等其他与经营活动有关的现金流出，金额较大的应当单独列示。</td>
</tr>
<tr>
<td>subtotal_operate_cash_outflow</td>
<td>经营活动现金流出小计(元)</td>
<td>购买商品、接受劳务支付的现金+支付给职工以及为职工支付的现金+支付的各项税费+支付其他与经营活动有关的现金。</td>
</tr>
<tr>
<td>net_operate_cash_flow</td>
<td>经营活动产生的现金流量净额(元)</td>
<td>公式: 经营活动产生的现金流量净额</td>
</tr>
<tr>
<td>invest_withdrawal_cash</td>
<td>收回投资收到的现金(元)</td>
<td>反映企业出售、转让或到期收回除现金等价物以外的交易性金融资产、长期股权投资而收到的现金，以及收回长期债权投资本金而收到的现金，但长期债权投资收回的利息除外。</td>
</tr>
<tr>
<td>invest_proceeds</td>
<td>取得投资收益收到的现金(元)</td>
<td>反映企业因股权性投资而分得的现金股利，从子公司、联营企业或合营企业分回利润而收到的现金，以及因债权性投资而取得的现金利息收入，但股票股利除外。</td>
</tr>
<tr>
<td>fix_intan_other_asset_dispo_cash</td>
<td>处置固定资产、无形资产和其他长期资产收回的现金净额(元)</td>
<td>反映企业出售、报废固定资产、无形资产和其他长期资产所取得的现金（包括因资产毁损而收到的保险赔偿收入），减去为处置这些资产而支付的有关费用后的净额，但现金净额为负数的除外。</td>
</tr>
<tr>
<td>net_cash_deal_subcompany</td>
<td>处置子公司及其他营业单位收到的现金净额(元)</td>
<td>反映企业处置子公司及其他营业单位所取得的现金减去相关处置费用后的净额。</td>
</tr>
<tr>
<td>other_cash_from_invest_act</td>
<td>收到其他与投资活动有关的现金(元)</td>
<td>反映企业除上述各项目外收到或支付的其他与投资活动有关的现金流入或流出，金额较大的应当单独列示。</td>
</tr>
<tr>
<td>subtotal_invest_cash_inflow</td>
<td>投资活动现金流入小计(元)</td>
<td>取得投资收益收到的现金+处置固定资产、无形资产和其他长期资产收回的现金净额+处置子公司及其他营业单位收到的现金净额+收到其他与投资活动有关的现金。</td>
</tr>
<tr>
<td>fix_intan_other_asset_acqui_cash</td>
<td>购建固定资产、无形资产和其他长期资产支付的现金(元)</td>
<td>反映企业购买、建造固定资产、取得无形资产和其他长期资产所支付的现金及增值税款、支付的应由在建工程和无形资产负担的职工薪酬现金支出，但为购建固定资产而发生的借款利息资本化部分、融资租入固定资产所支付的租赁费除外。</td>
</tr>
<tr>
<td>invest_cash_paid</td>
<td>投资支付的现金(元)</td>
<td>反映企业取得的除现金等价物以外的权益性投资和债权性投资所支付的现金以及支付的佣金、手续费等附加费用。</td>
</tr>
<tr>
<td>impawned_loan_net_increase</td>
<td>质押贷款净增加额(元)</td>
<td>质押贷款是指贷款人按《担保法》规定的质押方式以借款人或第三人的动产或权利为质押物发放的贷款。</td>
</tr>
<tr>
<td>net_cash_from_sub_company</td>
<td>取得子公司及其他营业单位支付的现金净额(元)</td>
<td>反映企业购买子公司及其他营业单位购买出价中以现金支付的部分，减去子公司或其他营业单位持有的现金和现金等价物后的净额。</td>
</tr>
<tr>
<td>other_cash_to_invest_act</td>
<td>支付其他与投资活动有关的现金(元)</td>
<td>现金流量表科目。</td>
</tr>
<tr>
<td>subtotal_invest_cash_outflow</td>
<td>投资活动现金流出小计(元)</td>
<td>购建固定资产、无形资产和其他长期资产支付的现金+投资支付的现金+取得子公司及其他营业单位支付的现金净额+支付其他与投资活动有关的现金。</td>
</tr>
<tr>
<td>net_invest_cash_flow</td>
<td>投资活动产生的现金流量净额(元)</td>
<td>现金流量表科目。</td>
</tr>
<tr>
<td>cash_from_invest</td>
<td>吸收投资收到的现金(元)</td>
<td>反映企业以发行股票、债券等方式筹集资金实际收到的款项，减去直接支付给金融企业的佣金、手续费、宣传费、咨询费、印刷费等发行费用后的净额。</td>
</tr>
<tr>
<td>cash_from_mino_s_invest_sub</td>
<td>子公司吸收少数股东投资收到的现金(元)</td>
<td>《企业会计准则第33 号——合并财务报表》合并现金流量表科目。具体核算范围和方法参见上市公司定期报告。</td>
</tr>
<tr>
<td>cash_from_borrowing</td>
<td>取得借款收到的现金(元)</td>
<td>反映企业举借各种短期、长期借款而收到的现金。</td>
</tr>
<tr>
<td>cash_from_bonds_issue</td>
<td>发行债券收到的现金(元)</td>
<td>反映商业银行本期发行债券收到的本金。</td>
</tr>
<tr>
<td>other_finance_act_cash</td>
<td>收到其他与筹资活动有关的现金(元)</td>
<td>反映企业除上述项目外，收到或支付的其他与筹资活动有关的现金流入或流出，包括以发行股票、债券等方式筹集资金而由企业直接支付的审计和咨询等费用、为购建固定资产而发生的借款利息资本化部分、融资租入固定资产所支付的租赁费、以分期付款方式购建固定资产以后各期支付的现金等。</td>
</tr>
<tr>
<td>subtotal_finance_cash_inflow</td>
<td>筹资活动现金流入小计(元)</td>
<td>吸收投资收到的现金+取得借款收到的现金+收到其他与筹资活动有关的现金+发行债券收到的现金。</td>
</tr>
<tr>
<td>borrowing_repayment</td>
<td>偿还债务支付的现金(元)</td>
<td>反映企业以现金偿还债务的本金。</td>
</tr>
<tr>
<td>dividend_interest_payment</td>
<td>分配股利、利润或偿付利息支付的现金(元)</td>
<td>反映企业实际支付的现金股利、支付给其他投资单位的利润或用现金支付的借款利息、债券利息。</td>
</tr>
<tr>
<td>proceeds_from_sub_to_mino_s</td>
<td>子公司支付给少数股东的股利、利润(元)</td>
<td>一般企业现金流量表科目。</td>
</tr>
<tr>
<td>other_finance_act_payment</td>
<td>支付其他与筹资活动有关的现金(元)</td>
<td>包括：筹资费用所支付的现金，融资租赁所支付的现金，减少注册资本所支付的现金（收购本公司股票、退还联营单位的联营投资等）企业以分期付款方式构建固定资产除首期付款支付的现金以外的其他各期所支付的现金。</td>
</tr>
<tr>
<td>subtotal_finance_cash_outflow</td>
<td>筹资活动现金流出小计(元)</td>
<td>现金流量表科目。</td>
</tr>
<tr>
<td>net_finance_cash_flow</td>
<td>筹资活动产生的现金流量净额(元)</td>
<td>现金流量表科目。</td>
</tr>
<tr>
<td>exchange_rate_change_effect</td>
<td>汇率变动对现金及现金等价物的影响</td>
<td>指企业外币现金流量及境外子公司的现金流量折算成记账本位币时，所采用的是现金流量发生日的汇率或即期汇率的近似汇率。</td>
</tr>
<tr>
<td>cash_equivalent_increase</td>
<td>现金及现金等价物净增加额</td>
<td>中外币现金净增加额按期末汇率折算的金额。</td>
</tr>
<tr>
<td>cash_equivalents_at_beginning</td>
<td>期初现金及现金等价物余额(元)</td>
<td>现金流量表科目。</td>
</tr>
<tr>
<td>cash_and_equivalents_at_end</td>
<td>期末现金及现金等价物余额(元)</td>
<td>现金流量表科目。</td>
</tr>
</tbody>
</table>
<p><strong>获取所有公司最近季度的现金流量表</strong></p><pre><code class="python language-python hljs">df=get_fundamentals(query(cash_flow))
print(df[:<span class="hljs-number">4</span>])

         id         code         day     pubDate    statDate  \
<span class="hljs-number">0</span>  <span class="hljs-number">30720327</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-02</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">31251228</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">31251444</span>  <span class="hljs-number">000004.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">31080491</span>  <span class="hljs-number">000005.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   goods_sale_and_service_render_cash  net_deposit_increase  \
<span class="hljs-number">0</span>                                 NaN          <span class="hljs-number">1.679780e+11</span>   
<span class="hljs-number">1</span>                        <span class="hljs-number">1.241204e+11</span>                   NaN   
<span class="hljs-number">2</span>                        <span class="hljs-number">2.250687e+07</span>                   NaN   
<span class="hljs-number">3</span>                        <span class="hljs-number">7.293948e+07</span>                   NaN   

   net_borrowing_from_central_bank  net_borrowing_from_finance_co  \
<span class="hljs-number">0</span>                     <span class="hljs-number">2.162000e+09</span>                            NaN   
<span class="hljs-number">1</span>                              NaN                            NaN   
<span class="hljs-number">2</span>                              NaN                            NaN   
<span class="hljs-number">3</span>                              NaN                            NaN   

   net_original_insurance_cash             ...               \
<span class="hljs-number">0</span>                          NaN             ...                
<span class="hljs-number">1</span>                          NaN             ...                
<span class="hljs-number">2</span>                          NaN             ...                
<span class="hljs-number">3</span>                          NaN             ...                

   borrowing_repayment  dividend_interest_payment  \
<span class="hljs-number">0</span>         <span class="hljs-number">1.789500e+11</span>              <span class="hljs-number">-1.834000e+09</span>   
<span class="hljs-number">1</span>         <span class="hljs-number">2.968062e+10</span>               <span class="hljs-number">1.606759e+10</span>   
<span class="hljs-number">2</span>                  NaN               <span class="hljs-number">1.161236e+05</span>   
<span class="hljs-number">3</span>         <span class="hljs-number">1.652172e+07</span>              <span class="hljs-number">-5.030181e+06</span>   

   proceeds_from_sub_to_mino_s  other_finance_act_payment  \
<span class="hljs-number">0</span>                          NaN                        NaN   
<span class="hljs-number">1</span>                  <span class="hljs-number">942942016.0</span>               <span class="hljs-number">6.971033e+09</span>   
<span class="hljs-number">2</span>                          NaN                        NaN   
<span class="hljs-number">3</span>                          NaN                        NaN   

   subtotal_finance_cash_outflow  net_finance_cash_flow  \
<span class="hljs-number">0</span>                   <span class="hljs-number">1.818450e+11</span>           <span class="hljs-number">3.475700e+10</span>   
<span class="hljs-number">1</span>                   <span class="hljs-number">5.668232e+10</span>          <span class="hljs-number">-3.631014e+10</span>   
<span class="hljs-number">2</span>                   <span class="hljs-number">1.161236e+05</span>           <span class="hljs-number">1.427376e+06</span>   
<span class="hljs-number">3</span>                   <span class="hljs-number">1.149154e+07</span>           <span class="hljs-number">1.550846e+07</span>   

   exchange_rate_change_effect  cash_equivalent_increase  \
<span class="hljs-number">0</span>                <span class="hljs-number">-1.888000e+09</span>             <span class="hljs-number">-1.412100e+10</span>   
<span class="hljs-number">1</span>                <span class="hljs-number">-4.846036e+08</span>             <span class="hljs-number">-2.098908e+10</span>   
<span class="hljs-number">2</span>                          NaN              <span class="hljs-number">4.059006e+07</span>   
<span class="hljs-number">3</span>                          NaN             <span class="hljs-number">-1.240253e+06</span>   

   cash_equivalents_at_beginning  cash_and_equivalents_at_end  
<span class="hljs-number">0</span>                   <span class="hljs-number">2.930710e+11</span>                 <span class="hljs-number">2.789500e+11</span>  
<span class="hljs-number">1</span>                   <span class="hljs-number">1.881395e+11</span>                 <span class="hljs-number">1.671504e+11</span>  
<span class="hljs-number">2</span>                   <span class="hljs-number">8.861202e+07</span>                 <span class="hljs-number">1.292021e+08</span>  
<span class="hljs-number">3</span>                   <span class="hljs-number">3.398542e+07</span>                 <span class="hljs-number">3.274517e+07</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">59</span> columns]
</code></pre><p></p>
<p><strong>获取某只股票的现金流量表数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询'000002.XSHE'的现金流量表数据</span>
q = query(
    cash_flow
).filter(
    cash_flow.code == <span class="hljs-string">'000002.XSHE'</span>
)
<span class="hljs-comment"># 运行时间2020-10-15</span>
df = get_fundamentals(q,<span class="hljs-string">'2020-10-15'</span>)
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,goods_sale_and_service_render_cash销售商品、提供劳务收到的现金(元)</span>
print(df[[<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'goods_sale_and_service_render_cash'</span>]])

<span class="hljs-comment">#输出</span>
      pubDate    statDate  goods_sale_and_service_render_cash
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2020</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>                        <span class="hljs-number">1.185840e+11</span>
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="income"></span>income</label>
      <label>利润表 / 2005至今，每天24:00更新</label>
      <article style="display: block; height: 8398.44px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按季度更新, 统计周期是一季度。可以使用get_fundamentals() 的statDate参数查询年度数据。</p>
<p><strong>表名: income</strong></p>
<table>
    <tbody><tr>
        <td width="367"><strong>列名</strong></td>
        <td width="165"><strong>列的含义</strong></td>
        <td width="302"><strong>解释</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>带后缀.XSHE/.XSHG</td>
    </tr>
    <tr>
        <td>pubDate</td>
        <td>日期</td>
        <td>公司发布财报日期</td>
    </tr>
    <tr>
        <td>statDate</td>
        <td>日期</td>
        <td>财报统计的季度的最后一天, 比如2015-03-31, 2015-06-30</td>
    </tr>
    <tr>
        <td>total_operating_revenue</td>
        <td>营业总收入(元)</td>
        <td>具体核算范围和方法参见上市公司定期报告</td>
    </tr>
    <tr>
        <td>operating_revenue</td>
        <td>营业收入(元)</td>
        <td>具体核算范围和方法参见上市公司定期报告</td>
    </tr>
    <tr>
        <td>interest_income</td>
        <td>利息收入(元)</td>
        <td>利息收入是指纳税人购买各种债券等有价证券的利息，外单位欠款付给的利息以及其他利息收入。包括：购买各种债券等有价证券的利息，如购买国库券，重点企业建设债券、国家保值公债以及政府部门和企业发放的各类有价证券；企业各项存款所取得的利息外单位欠本企业款而取得的利息；其他利息收入等。</td>
    </tr>
    <tr>
        <td>premiums_earned</td>
        <td>已赚保费(元)</td>
        <td>已赚保费是指保险起期已经预先缴付的保险费,过去的保险期间的保费就成为已赚的保费。</td>
    </tr>
    <tr>
        <td>commission_income</td>
        <td>手续费及佣金收入(元)</td>
        <td>手续费及佣金收入是指公司为客户办理各种业务收取的手续费及佣金收入，包括办理咨询业务、担保业务、代保管等代理业务以及办理投资业务等取得的手续费及佣金，如业务代办手续费收入、咨询服务收入、担保收入、资产管理收入、代保管收入，代理买卖证券、代理承销证券、代理兑付证券、代理保管证券等代理业务以及其他相关服务实现的手续费及佣金收入等。</td>
    </tr>
    <tr>
        <td>total_operating_cost</td>
        <td>营业总成本(元)</td>
        <td>营业总成本=主营业务成本+其他业务成本+利息支出+手续费及佣金支出+退保金+赔付支出净额+提取保险合同准备金净额+保单红利支出+分保费用+营业税金及附加+销售费用+管理费用+财务费用+资产减值损失+其他</td>
    </tr>
    <tr>
        <td>operating_cost</td>
        <td>营业成本(元)</td>
        <td>营业成本，也称运营成本。是指企业所销售商品或者提供劳务的成本。营业成本应当与所销售商品或者所提供劳务而取得的收入进行配比。</td>
    </tr>
    <tr>
        <td>interest_expense</td>
        <td>利息支出(元)</td>
        <td>利息支出是指临时借款的利息支出。在以收付实现制作为记帐基础的前提条件下，所谓支出应以实际支付为标准，即资金流出，标志着现金、银行存款的减少。就利息支出而言、给个人帐户计息，其资金并没有流出，现金、银行存款并没有减少，因此，给个人计息不应作为利息支出列支。</td>
    </tr>
    <tr>
        <td>commission_expense</td>
        <td>手续费及佣金支出(元)</td>
        <td>手续费及佣金支出，本科目主要核算企业（金融）发生的与其经营活动相关的各项手续费、佣金等支出。</td>
    </tr>
    <tr>
        <td>refunded_premiums</td>
        <td>退保金(元)</td>
        <td>退保金是指公司经营的长期人身保险业务中，投保人办理退保时，按保险条款规定支付给投保人的金额。</td>
    </tr>
    <tr>
        <td>net_pay_insurance_claims</td>
        <td>赔付支出净额(元)</td>
        <td>赔付支出主要指核算企业（保险）支付的原保险合同赔付款项和再保险合同赔付款项。企业（保险）可以单独设置“赔款支出”、“满期给付”、“年金给付”、“死伤医疗给付”、“分保赔付支出”等科目。可按保险合同和险种进行明细核算。</td>
    </tr>
    <tr>
        <td>withdraw_insurance_contract_reserve</td>
        <td>提取保险合同准备金净额(元)</td>
        <td>保险准备金是指保险人为保证其如约履行保险赔偿或给付义务，根据政府有关法律规定或业务特定需要，从保费收入或盈余中提取的与其所承担的保险责任相对应的一定数量的基金。</td>
    </tr>
    <tr>
        <td>policy_dividend_payout</td>
        <td>保单红利支出(元)</td>
        <td>保单红利支出是根据原保险合同的约定，按照分红保险产品的红利分配方法及有关精算结果而估算，支付给保单持有人的红利。</td>
    </tr>
    <tr>
        <td>reinsurance_cost</td>
        <td>分保费用(元)</td>
        <td>分保费用，是办理初保业务的保险公司向其他保险公司分保保险业务，在向对方支付分保费的同时，向对方收取的一定费用，用以弥补初保人的费用支出。</td>
    </tr>
    <tr>
        <td>operating_tax_surcharges</td>
        <td>营业税金及附加(元)</td>
        <td>反映企业经营主要业务应负担的营业税、消费税、城市维护建设税、资源税和教育费附加等。填报此项指标时应注意，实行新税制后，会计上规定应交增值税不再计入“主营业务税金及附加”项，无论是一般纳税企业还是小规模纳税企业均应在“应交增值税明细表”中单独反映。根据企业会计“利润表”中对应指标的本年累计数填列。</td>
    </tr>
    <tr>
        <td>sale_expense</td>
        <td>销售费用(元)</td>
        <td>销售费用是指企业在销售产品、自制半成品和提供劳务等过程中发生的各项费用。包括由企业负担的包装费、运输费、广告费、装卸费、保险费、委托代销手续费、展览费、租赁费（不含融资租赁费)和销售服务费、销售部门人员工资、职工福利费、差旅费、折旧费、修理费、物料消耗、低值易耗品摊销以及其他经费等。与销售有关的差旅费应计入销售费用。</td>
    </tr>
    <tr>
        <td>administration_expense</td>
        <td>管理费用(元)</td>
        <td>管理费用是指 企业行政管理部门为组织和管理生产经营活动而发生的各项费用。管理费用属于期间费用，在发生的当期就计入当期的损失或是利益。</td>
    </tr>
    <tr>
        <td>financial_expense</td>
        <td>财务费用(元)</td>
        <td>财务费用指企业在生产经营过程中为筹集资金而发生的筹资费用。包括企业生产经营期间发生的利息支出（减利息收入）、汇兑损益（有的企业如商品流通企业、保险企业进行单独核算，不包括在财务费用）、金融机构手续费，企业发生的现金折扣或收到的现金折扣等。但在企业筹建期间发生的利息支出，应计入开办费；为购建或生产满足资本化条件的资产发生的应予以资本化的借款费用，在“在建工程”、“制造费用”等账户核算。</td>
    </tr>
    <tr>
        <td>asset_impairment_loss</td>
        <td>资产减值损失(元)</td>
        <td>资产减值损失是指因资产的账面价值高于其可收回金额而造成的损失。 新会计准则规定资产减值范围主要是固定资产、无形资产以及除特别规定外的其他资产减值的处理。《资产减值》准则改变了固定资产、无形资产等的减值准备计提后可以转回的做法，资产减值损失一经确认，在以后会期间不得转回，消除了一些企业通过计提秘密准备来调节利润的可能，限制了利润的人为波动。资产减值损失在会计核算中属于损益类科目。</td>
    </tr>
    <tr>
        <td>fair_value_variable_income</td>
        <td>公允价值变动收益(元)</td>
        <td>“公允价值变动收益” 这个科目，是“以公允价值计量且其变动计入当期损益的交易性金融资产”的一个科目。在资产负债表日，“交易性金融资产”的公允价值高于其账面价值的差额，应借记“交易性金融资产－公允价值变动”，贷记“公允价值变动损益”，公允价值低于其账面价值的差额，则做相反的分录。</td>
    </tr>
    <tr>
        <td>investment_income</td>
        <td>投资收益(元)</td>
        <td>投资收益是对外投资所取得的利润、股利和债券利息等收入减去投资损失后的净收益。严格地讲，所谓投资收益是指以项目为边界的货币收入等。</td>
    </tr>
    <tr>
        <td>invest_income_associates</td>
        <td>对联营企业和合营企业的投资收益(元)</td>
        <td>持有的对联营企业及合营企业的投资，按照《企业会计准则第2号——长期股权投资》的规定，应当采用权益法核算，在按持股比例等计算确认应享有或应分担被投资单位的净损益时，应当考虑以下因素：投资企业与联营企业及合营企业之间发生的内部交易损益按照持股比例计算归属于投资企业的部分，应当予以抵销，在此基础上确认投资损益。&lt;br&gt;投资企业与被投资单位发生的内部交易损失，按照《企业会计准则第8号———资产减值》等规定属于资产减值损失的，应当全额确认。&lt;br&gt;投资企业对于纳入其合并范围的子公司与其联营企业及合营企业之间发生的内部交易损益，也应当按照上述原则进行抵销，在此基础上确认投资损益。&lt;br&gt;投资企业对于首次执行日之前已经持有的对联营企业及合营企业的长期股权投资，如存在与该投资相关的股权投资借方差额，还应扣除按原剩余期限直线摊销的股权投资借方差额，确认投资损益。&lt;br&gt;投资企业在被投资单位宣告发放现金股利或利润时，按照规定计算应分得的部分确认应收股利，同时冲减长期股权投资的账面价值。</td>
    </tr>
    <tr>
        <td>exchange_income</td>
        <td>汇兑收益(元)</td>
        <td>汇兑收益，是指用记账本位币，按照不同的汇率报告相同数量的外币而产生的差额。简单地说，就是公司的外币货币性项目和非货币性项目因汇率变动，在折算成本币时造成损益。而这部分汇兑差额作为财务费用，计入当期损益，从而影响公司利润。</td>
    </tr>
    <tr>
        <td>operating_profit</td>
        <td>营业利润(元)</td>
        <td>营业利润是企业最基本经营活动的成果，也是企业一定时期获得利润中最主要、最稳定的来源。2006年财政部颁布的新企业会计准则-30号财务报表列报中已对营业利润进行了调整，将投资收益调入营业利润，同时取消了主营业务利润和其他业务利润的提法，补贴收入被并入营业外收入，营业利润减营业外收支调整即得到利润总额。</td>
    </tr>
    <tr>
        <td>non_operating_revenue</td>
        <td>营业外收入(元)</td>
        <td>营业外收入是指企业确认与企业生产经营活动没有直接关系的各种收入。</td>
    </tr>
    <tr>
        <td>non_operating_expense</td>
        <td>营业外支出(元)</td>
        <td>营业外支出是企业发生的与其日常活动无直接关系的各项损失，主要包括非流动资产处置损失、公益性捐赠支出、盘亏损失、非常损失、罚款支出等。</td>
    </tr>
    <tr>
        <td>disposal_loss_non_current_liability</td>
        <td>非流动资产处置净损失(元)</td>
        <td>“非流动资产处置损失”属于损益类的科目，在编制利润表时这些科目如果有本期发生额，要填在利润表中。“非流动资产处置损失”是营业外支出的明细科目，在损益表中计入“营业外支出”，“营业外支出”下方会单独列示“非流动资产处置损失”，但是包括在“营业外支出”项目中。</td>
    </tr>
    <tr>
        <td>total_profit</td>
        <td>利润总额(元)</td>
        <td>利润总额指企业在生产经营过程中各种收入扣除各种耗费后的盈余，反映企业在报告期内实现的盈亏总额。</td>
    </tr>
    <tr>
        <td>income_tax_expense</td>
        <td>所得税费用(元)</td>
        <td>所得税费用是指企业经营利润应交纳的所得税。“所得税费用”，核算企业负担的所得税，是损益类科目；这一般不等于当期应交所得税，因为可能存在“暂时性差异”。如果只有永久性差异，则等于当期应交所得税。</td>
    </tr>
    <tr>
        <td>net_profit</td>
        <td>净利润(元)</td>
        <td>净利润（收益）是指在利润总额中按规定交纳了所得税后公司的利润留成，一般也称为税后利润或净利润。净利润的计算公式为：净利润=利润总额-所得税费用.净利润是一个企业经营的最终成果，净利润多，企业的经营效益就好；净利润少，企业的经营效益就差，它是衡量一个企业经营效益的主要指标。</td>
    </tr>
    <tr>
        <td>np_parent_company_owners</td>
        <td>归属于母公司股东的净利润(元)</td>
        <td>准确来讲应称之为“归属于上市公司股东的净利润”，这是因为净利润都归属于股东，只是在合并报表中的净利润有一部分是归属于子公司的其它股东的，这些子公司的其它股东也依法按比例享有子公司的净利润。</td>
    </tr>
    <tr>
        <td>minority_profit</td>
        <td>少数股东损益(元)</td>
        <td>少数股东损益是一个流量概念，是指公司合并报表的子公司其它非控股股东享有的损益，需要在利润表中予以扣除。利润表的“净利润”项下可以分“归属于母公司所有者的净利润”和“少数股东损益”。其对应的存量概念是“少数股东权益”。</td>
    </tr>
    <tr>
        <td>basic_eps</td>
        <td>基本每股收益(元)</td>
        <td>理论算法：归属于普通股股东的当期净利润/(当期实际发行在外的普通股加权平均数=∑(发行在外普通股股数×发行在外月份数)／12)</td>
    </tr>
    <tr>
        <td>diluted_eps</td>
        <td>稀释每股收益(元)</td>
        <td>理论算法：归属于普通股股东的当期净利润(扣除当期已确认为费用的稀释性潜在普通股的利息、稀释性潜在普通股转换时将产生的收益或费用、相关所得税的影响)/假设稀释性潜在普通股于当期期初(或发行日)已经全部转换为普通股，于此计算的普通股股数的加权平均数。</td>
    </tr>
    <tr>
        <td>other_composite_income</td>
        <td>其他综合收益(元)</td>
        <td>其他综合收益是指企业根据企业会计准则规定未在损益中确认的各项利得和损失扣除所得税影响后的净额。企业在计算利润表中的其他综合收益时，应当扣除所得税影响；在计算合并利润表中的其他综合收益时，除了扣除所得税影响以外，还需要分别计算归属于母公司所有者的其他综合收益和归属于少数股东的其他综合收益。</td>
    </tr>
    <tr>
        <td>total_composite_income</td>
        <td>综合收益总额(元)</td>
        <td>综合收益总额项目，反映企业净利润与其他综合收益的合计金额。综合收益，包括其他综合收益和综合收益总额。其中，其他综合收益反映企业根据企业会计准则规定未在损益中确认的各项利得和损失扣除所得税影响后的净额；综合收益总额是企业净利润与其他综合收益的合计金额。</td>
    </tr>
    <tr>
        <td>ci_parent_company_owners</td>

        <td>归属于母公司所有者的综合收益总额(元)</td>
        <td>综合收益是指除所有者的出资额和各种为第三方或客户代收的款项以外的各种收入。根据美国财务会计准则委员会（FASB）1980年在第3号财务会计概念公告(SFAC3）（企业财务报表的要素）（后为1985年发布的SFAC6所取代）的解释，综合收益是指“一个主体在某一期间与非业主方面进行交易或发生其他事项和情况所引起的权益（净资产）变动。它包括这一期间内除业主投资和派给业主款外，一切权益上的变动。”</td>
    </tr>
    <tr>
        <td>ci_minority_owners</td>
        <td>归属于少数股东的综合收益总额(元)</td>
        <td>综合收益是指除所有者的出资额和各种为第三方或客户代收的款项以外的各种收入。根据美国财务会计准则委员会（FASB）1980年在第3号财务会计概念公告(SFAC3）（企业财务报表的要素）（后为1985年发布的SFAC6所取代）的解释，综合收益是指“一个主体在某一期间与非业主方面进行交易或发生其他事项和情况所引起的权益（净资产）变动。它包括这一期间内除业主投资和派给业主款外，一切权益上的变动。”</td>
    </tr>
</tbody></table>
<p><strong>获取所有公司最近季度的利润表</strong></p><pre><code class="python language-python hljs">df=get_fundamentals(query(income))
print(df[:<span class="hljs-number">4</span>])

         id         code         day     pubDate    statDate  \
<span class="hljs-number">0</span>  <span class="hljs-number">30660113</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-02</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">31192442</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">31366704</span>  <span class="hljs-number">000004.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-30</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">31021334</span>  <span class="hljs-number">000005.</span>XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   total_operating_revenue  operating_revenue  interest_income  \
<span class="hljs-number">0</span>             <span class="hljs-number">3.697800e+10</span>       <span class="hljs-number">3.697800e+10</span>     <span class="hljs-number">4.640600e+10</span>   
<span class="hljs-number">1</span>             <span class="hljs-number">9.514196e+10</span>       <span class="hljs-number">9.514196e+10</span>              NaN   
<span class="hljs-number">2</span>             <span class="hljs-number">9.349824e+07</span>       <span class="hljs-number">9.349824e+07</span>              NaN   
<span class="hljs-number">3</span>             <span class="hljs-number">8.484838e+07</span>       <span class="hljs-number">8.484838e+07</span>              NaN   

   premiums_earned  commission_income         ...          income_tax_expense  \
<span class="hljs-number">0</span>              NaN       <span class="hljs-number">1.345300e+10</span>         ...                <span class="hljs-number">1.398000e+09</span>   
<span class="hljs-number">1</span>              NaN                NaN         ...                <span class="hljs-number">3.945203e+09</span>   
<span class="hljs-number">2</span>              NaN                NaN         ...                <span class="hljs-number">4.272845e+06</span>   
<span class="hljs-number">3</span>              NaN                NaN         ...                <span class="hljs-number">2.525845e+04</span>   

     net_profit  np_parent_company_owners  minority_profit  basic_eps  \
<span class="hljs-number">0</span>  <span class="hljs-number">6.530000e+09</span>              <span class="hljs-number">6.530000e+09</span>              NaN     <span class="hljs-number">0.2900</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">1.144235e+10</span>              <span class="hljs-number">7.355308e+09</span>     <span class="hljs-number">4.087041e+09</span>     <span class="hljs-number">0.6330</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">5.275023e+07</span>              <span class="hljs-number">5.486628e+07</span>    <span class="hljs-number">-2.116048e+06</span>     <span class="hljs-number">0.3324</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">5.743845e+06</span>              <span class="hljs-number">4.557176e+06</span>     <span class="hljs-number">1.186669e+06</span>     <span class="hljs-number">0.0043</span>   

   diluted_eps  other_composite_income  total_composite_income  \
<span class="hljs-number">0</span>       <span class="hljs-number">0.2900</span>            <span class="hljs-number">-350000000.0</span>            <span class="hljs-number">6.180000e+09</span>   
<span class="hljs-number">1</span>       <span class="hljs-number">0.6330</span>             <span class="hljs-number">174751840.0</span>            <span class="hljs-number">1.161710e+10</span>   
<span class="hljs-number">2</span>       <span class="hljs-number">0.3324</span>                     NaN            <span class="hljs-number">5.275023e+07</span>   
<span class="hljs-number">3</span>       <span class="hljs-number">0.0043</span>                     NaN            <span class="hljs-number">5.743845e+06</span>   

   ci_parent_company_owners  ci_minority_owners  
<span class="hljs-number">0</span>                       NaN                 NaN  
<span class="hljs-number">1</span>              <span class="hljs-number">7.553908e+09</span>        <span class="hljs-number">4.063192e+09</span>  
<span class="hljs-number">2</span>              <span class="hljs-number">5.486628e+07</span>       <span class="hljs-number">-2.116048e+06</span>  
<span class="hljs-number">3</span>              <span class="hljs-number">4.557176e+06</span>        <span class="hljs-number">1.186669e+06</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">43</span> columns]
</code></pre><p></p>
<p><strong>获取某只股票的利润表数据</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询'000002.XSHE'的利润表数据</span>
q = query(
    income
).filter(
    income.code == <span class="hljs-string">'000002.XSHE'</span>
)
<span class="hljs-comment"># 运行时间2020-10-15</span>
df = get_fundamentals(q,<span class="hljs-string">'2020-10-15'</span>)
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,total_operating_revenue    营业总收入</span>
df[[<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'total_operating_revenue'</span>]]

<span class="hljs-comment">#输出</span>
      pubDate    statDate  total_operating_revenue
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2020</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>             <span class="hljs-number">9.857516e+10</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h4 id="专项指标（银行业券商保险）">专项指标（银行业/券商/保险）</h4>
<ul>
<li><strong>更新时间：2005至今，每天24：00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述（查表）</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="bank_indicator"></span>bank_indicator</label>
      <label>银行业</label>
      <article style="display: block; height: 4187.29px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按年度更新，统计周期是一年度。 通过get_fundamentals(query_object,statDate=None) statDate传入年查询。当传入 date 参数 或 statDate 传入季度时返回空。</p>
<p><strong>注意</strong>：
（详细内容可看get_fundamentals接口）</p>
<ul>
<li>date和statDate参数只能传入一个:</li>
<li>传入date时, 查询指定日期date收盘后所能看到的最近(对市值表来说, 最近一天, 对其他表来说, 最近一个季度)的数据</li>
<li>statDate: 财报统计的季度或者年份,。
季度: 格式是<strong>年 + 'q' + 季度序号</strong>, 例如: <strong>'2015q1', '2013q4'</strong>.
年份: 格式就是<strong>年份的数字</strong>, 例如:<strong>'2015', '2016'</strong>.</li>
</ul>
<p><strong>表名: bank_indicator</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
</tr>
<tr>
<td>pubDate</td>
<td>日期</td>
<td>公司发布财报日期</td>
</tr>
<tr>
<td>statDate</td>
<td>日期</td>
<td>财报统计的季度的最后一天, 比如2016-12-31</td>
</tr>
<tr>
<td>total_loan</td>
<td>贷款总额</td>
<td>银行发放的贷款总额</td>
</tr>
<tr>
<td>total_deposit</td>
<td>存款总额</td>
<td>银行的存款总额</td>
</tr>
<tr>
<td>interest_earning_assets</td>
<td>生息资产</td>
<td>生息资产是指贷款、投资等业务形式上的资产，能为银行的经营带来收入</td>
</tr>
<tr>
<td>non_interest_earning_assets</td>
<td>非生息资产</td>
<td>非生息资产</td>
</tr>
<tr>
<td>interest_earning_assets_yield</td>
<td>生息资产收益率</td>
<td>生息资产收益率</td>
</tr>
<tr>
<td>interest_bearing_liabilities</td>
<td>计息负债</td>
<td>计息负债指银行负债当中需要支付利息的债务</td>
</tr>
<tr>
<td>non_interest_bearing_liabilities</td>
<td>非计息负债</td>
<td>非计息负债</td>
</tr>
<tr>
<td>interest_bearing_liabilities_interest_rate</td>
<td>计息负债成本率</td>
<td>计息负债成本率</td>
</tr>
<tr>
<td>non_interest_income</td>
<td>非利息收入</td>
<td>非利息收入</td>
</tr>
<tr>
<td>non_interest_income_ratio</td>
<td>非利息收入占比</td>
<td>非利息收入占比为非利息收入占全部收入的比例</td>
</tr>
<tr>
<td>net_interest_margin</td>
<td>净息差</td>
<td>净息差指的是银行净利息收入和银行全部生息资产的比值</td>
</tr>
<tr>
<td>net_profit_margin</td>
<td>净利差</td>
<td>净利差是指平均生息资产收益率与平均计息负债成本率之差</td>
</tr>
<tr>
<td>core_level_capital</td>
<td>核心一级资本(2013)</td>
<td>核心一级资本</td>
</tr>
<tr>
<td>net_core_level_capital</td>
<td>核心一级资本净额(2013)</td>
<td>核心一级资本净额</td>
</tr>
<tr>
<td>core_level_capital_adequacy_ratio</td>
<td>核心一级资本充足率(2013)</td>
<td>核心一级资本充足率</td>
</tr>
<tr>
<td>net_level_1_capital</td>
<td>一级资本净额(2013)</td>
<td>一级资本净额</td>
</tr>
<tr>
<td>level_1_capital_adequacy_ratio</td>
<td>一级资本充足率(2013)</td>
<td>一级资本充足率</td>
</tr>
<tr>
<td>net_capital</td>
<td>资本净额(2013)</td>
<td>资本净额为核心资本加上附属资本减去扣减项</td>
</tr>
<tr>
<td>capital_adequacy_ratio</td>
<td>资本充足率（2013）</td>
<td>资本充足率是一个银行的资产对其风险的比率</td>
</tr>
<tr>
<td>weighted_risky_asset</td>
<td>风险加权资产合计（2013）</td>
<td>风险加权资产合计</td>
</tr>
<tr>
<td>deposit_loan_ratio</td>
<td>存贷款比例</td>
<td>存贷款比例是指将银行的贷款总额与存款总额进行对比</td>
</tr>
<tr>
<td>short_term_asset_liquidity_ratio_CNY</td>
<td>短期资产流动性比例（人民币）</td>
<td>人民币的短期资产流动性比例</td>
</tr>
<tr>
<td>short_term_asset_liquidity_ratio_FC</td>
<td>短期资产流动性比例（外币）</td>
<td>外币的短期资产流动性比例</td>
</tr>
<tr>
<td>Nonperforming_loan_rate</td>
<td>不良贷款率</td>
<td>金融机构不良贷款占总贷款余额的比重</td>
</tr>
<tr>
<td>single_largest_customer_loan_ratio</td>
<td>单一最大客户贷款比例</td>
<td>单一最大客户贷款额占全部贷款余额的比例</td>
</tr>
<tr>
<td>top_ten_customer_loan_ratio</td>
<td>最大十家客户贷款比例</td>
<td>最大十家客户贷款额占全部贷款余额的比例</td>
</tr>
<tr>
<td>bad_debts_reserve</td>
<td>贷款呆账准备金</td>
<td>贷款呆账准备金</td>
</tr>
<tr>
<td>non_performing_loan_provision_coverage</td>
<td>不良贷款拨备覆盖率</td>
<td>不良贷款拨备覆盖率是衡量商业银行贷款损失准备金计提是否充足的一个重要指标。该项指标从宏观上反映银行贷款的风险程度及社会经济环境、诚信等方面的情况。不良贷款拨备覆盖率=贷款损失准备/(次级类资产+可疑类资产+损失类资产)*100%</td>
</tr>
<tr>
<td>cost_to_income_ratio</td>
<td>成本收入比</td>
<td>成本收入比为业务及管理费占营业收入的比例。成本收入比=业务及管理费/营业收入</td>
</tr>
<tr>
<td>former_core_capital</td>
<td>核心资本 (旧)</td>
<td>核心资本净额为核心资本减去核心资本扣减项。</td>
</tr>
<tr>
<td>former_net_core_capital</td>
<td>核心资本净额（旧）</td>
<td></td>
</tr>
<tr>
<td>former_net_core_capital_adequacy_ratio</td>
<td>核心资本充足率 (旧)</td>
<td>核心资本充足率是指核心资本与加权风险资产总额的比率</td>
</tr>
<tr>
<td>former_net_capital</td>
<td>资本净额 (旧)</td>
<td>资本净额为核心资本加上附属资本减去扣减项</td>
</tr>
<tr>
<td>former_capital_adequacy_ratio</td>
<td>资本充足率 (旧)</td>
<td>资本充足率是一个银行的资产对其风险的比率</td>
</tr>
<tr>
<td>former_weighted_risky_asset</td>
<td>加权风险资产净额（旧）</td>
<td>加权风险资产净额是指对银行的资产加以分类，根据不同类别资产的风险性质确定不同的风险系数，以这种风险系数为权重求得的资产净额。</td>
</tr>
<tr>
<td><strong>银行贷款的五级分类指标</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>normal_amount</td>
<td>正常-金额</td>
<td>正常类贷款余额</td>
</tr>
<tr>
<td>normal_amount_ratio</td>
<td>正常金额占比</td>
<td>正常类贷款占贷款总额的比例。正常金额占比=正常类贷款/(正常类贷款+关注类贷款+次级类贷款+可疑类贷款+损失类贷款)*100%</td>
</tr>
<tr>
<td>concerned_amount</td>
<td>关注-金额</td>
<td>关注类贷款余额</td>
</tr>
<tr>
<td>concerned_amount_ratio</td>
<td>关注金额占比</td>
<td>关注类贷款占贷款总额的比例。关注金额占比=关注类贷款/(正常类贷款+关注类贷款+次级类贷款+可疑类贷款+损失类贷款)*100%</td>
</tr>
<tr>
<td>secondary_amount</td>
<td>次级-金额</td>
<td>次级类贷款余额</td>
</tr>
<tr>
<td>secondary_amount_ratio</td>
<td>次级金额占比</td>
<td>次级类贷款占贷款总额的比例。次级金额占比=次级类贷款/(正常类贷款+关注类贷款+次级类贷款+可疑类贷款+损失类贷款)*100%</td>
</tr>
<tr>
<td>suspicious_amount</td>
<td>可疑-金额</td>
<td>可疑类贷款余额</td>
</tr>
<tr>
<td>suspicious_amount_ratio</td>
<td>可疑金额占比</td>
<td>可疑类贷款占贷款总额的比例。可疑金额占比=可疑类贷款/(正常类贷款+关注类贷款+次级类贷款+可疑类贷款+损失类贷款)*100%</td>
</tr>
<tr>
<td>loss_amount</td>
<td>损失-金额</td>
<td>损失类贷款余额</td>
</tr>
<tr>
<td>loss_amount_ratio</td>
<td>损失金额占比</td>
<td>损失类贷款占贷款总额的比例。损失金额占比=损失类贷款/(正常类贷款+关注类贷款+次级类贷款+可疑类贷款+损失类贷款)*100%</td>
</tr>
<tr>
<td><strong>平均贷款利率</strong></td>
<td></td>
<td></td>
</tr>
<tr>
<td>short_term_loan_average_balance</td>
<td>短期贷款-平均余额</td>
<td>短期贷款的平均余额</td>
</tr>
<tr>
<td>short_term_loan_annualized_average_interest_rate</td>
<td>短期贷款-年平均利率</td>
<td>短期贷款的年平均利率</td>
</tr>
<tr>
<td>mid_term_loan_annualized_average_balance</td>
<td>中长期贷款-平均余额</td>
<td>中长期贷款的平均余额</td>
</tr>
<tr>
<td>mid_term_loan_annualized_average_interest_rate</td>
<td>中长期贷款-年平均利率</td>
<td>中长期贷款的年平均利率</td>
</tr>
<tr>
<td>enterprise_deposits_average_balance</td>
<td>企业存款-平均余额</td>
<td>企业存款的平均余额</td>
</tr>
<tr>
<td>enterprise_deposits_average_interest_rate</td>
<td>企业存款-年平均利率</td>
<td>企业存款的年平均利率</td>
</tr>
<tr>
<td>savings_deposit_average_balance</td>
<td>储蓄存款-平均余额</td>
<td>储蓄存款的平均余额</td>
</tr>
<tr>
<td>savings_deposit_average_interest_rate</td>
<td>储蓄存款-年平均利率</td>
<td>储蓄存款的年平均利率</td>
</tr>
</tbody>
</table>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取2019年银行业专项指标</span>
df=get_fundamentals(query(bank_indicator),statDate=<span class="hljs-number">2019</span>)[:<span class="hljs-number">5</span>]
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,total_loan贷款总额</span>
print(df[[<span class="hljs-string">'code'</span>,<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'total_loan'</span>]])

          code     pubDate    statDate    total_loan
<span class="hljs-number">0</span>  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2020</span><span class="hljs-number">-02</span><span class="hljs-number">-14</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2.328909e+12</span>
<span class="hljs-number">1</span>  <span class="hljs-number">600036.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-21</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">4.500199e+12</span>
<span class="hljs-number">2</span>  <span class="hljs-number">002948.</span>XSHE  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-21</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">1.735679e+11</span>
<span class="hljs-number">3</span>  <span class="hljs-number">601860.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">1.019562e+11</span>
<span class="hljs-number">4</span>  <span class="hljs-number">601658.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-26</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">4.974186e+12</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="security_indicator"></span>security_indicator</label>
      <label>券商</label>
      <article style="display: block; height: 2189.54px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按年度更新，统计周期是一年度。通过get_fundamentals(query_object,statDate=None) statDate传入年查询。当传入 date 参数 或 statDate 传入季度时返回空。</p>
<p><strong>表名: security_indicator</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
</tr>
<tr>
<td>pubDate</td>
<td>日期</td>
<td>公司发布财报日期</td>
</tr>
<tr>
<td>statDate</td>
<td>日期</td>
<td>财报统计的季度的最后一天, 比如2015-03-31, 2015-06-30</td>
</tr>
<tr>
<td>net_capital</td>
<td>净资本</td>
<td>净资本是衡量证券公司资本充足和资产流动性状况的一个综合性监管指标，是证券公司净资产中流动性较高、可快速变现的部分，它表明证券公司可随时用于变现以满足支付需要的资金数额。为公布的母公司净资本及相关风险控制指标之一。</td>
</tr>
<tr>
<td>net_assets</td>
<td>净资产</td>
<td>为公布的母公司净资本及相关风险控制指标之一。</td>
</tr>
<tr>
<td>net_capital_to_reserve</td>
<td>净资本/各项风险准备之和</td>
<td>为公布的母公司净资本及相关风险控制指标之一。</td>
</tr>
<tr>
<td>net_capital_to_net_asset</td>
<td>净资本/净资产</td>
<td>净资本/净资产</td>
</tr>
<tr>
<td>net_capital_to_debt</td>
<td>净资本/负债</td>
<td>净资本/负债</td>
</tr>
<tr>
<td>net_asset_to_debt</td>
<td>净资产/负债</td>
<td>净资产/负债</td>
</tr>
<tr>
<td>net_capital_to_sales_department_number</td>
<td>净资本/营业部家数</td>
<td>净资本/营业部家数</td>
</tr>
<tr>
<td>own_stock_to_net_capital</td>
<td>自营股票规模/净资本</td>
<td>自营股票规模/净资本</td>
</tr>
<tr>
<td>own_security_to_net_capital</td>
<td>证券自营业务规模/净资本</td>
<td>证券自营业务规模/净资本</td>
</tr>
<tr>
<td>operational_risk_reserve</td>
<td>营运风险堆备</td>
<td>营运风险堆备</td>
</tr>
<tr>
<td>broker_risk_reserve</td>
<td>经纪业务风险堆备</td>
<td>经纪业务风险堆备</td>
</tr>
<tr>
<td>own_security_risk_reserve</td>
<td>证券自营业务风险准备</td>
<td>证券自营业务风险准备</td>
</tr>
<tr>
<td>security_underwriting_reserve</td>
<td>证券承消业务风险准备</td>
<td>证券承消业务风险准备</td>
</tr>
<tr>
<td>asset_management_reserve</td>
<td>证券资产菅理业务风险准备</td>
<td>证券资产菅理业务风险准备</td>
</tr>
<tr>
<td>own_equity_derivatives_to_net_capital</td>
<td>自营权益类证券及证券衍生品/净资本</td>
<td>自营权益类证券及证券衍生品/净资本</td>
</tr>
<tr>
<td>own_fixed_income_to_net_capital</td>
<td>自营固定收益类证券/净资本</td>
<td>自营固定收益类证券/净资本</td>
</tr>
<tr>
<td>margin_trading_reserve</td>
<td>融资融券业务风险资本准备</td>
<td>融资融券业务风险资本准备</td>
</tr>
<tr>
<td>branch_risk_reserve</td>
<td>分支机构风险资本堆备</td>
<td>分支机构风险资本堆备</td>
</tr>
</tbody>
</table>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取券商业专项指标</span>
df=get_fundamentals(query(security_indicator),statDate=<span class="hljs-number">2019</span>)[:<span class="hljs-number">5</span>]
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,net_capital净资本</span>
print(df[[<span class="hljs-string">'code'</span>,<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'net_capital'</span>]])

          code     pubDate    statDate   net_capital
<span class="hljs-number">0</span>  <span class="hljs-number">000987.</span>XSHE  <span class="hljs-number">2020</span><span class="hljs-number">-02</span><span class="hljs-number">-29</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">8.279037e+09</span>
<span class="hljs-number">1</span>  <span class="hljs-number">601878.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-19</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">1.251134e+10</span>
<span class="hljs-number">2</span>  <span class="hljs-number">600030.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">9.490422e+10</span>
<span class="hljs-number">3</span>  <span class="hljs-number">002736.</span>XSHE  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">4.005491e+10</span>
<span class="hljs-number">4</span>  <span class="hljs-number">601211.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">8.597149e+10</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="insurance_indicator"></span>insurance_indicator</label>
      <label>保险</label>
      <article style="display: block; height: 1181.54px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>按年度更新，统计周期是一年度。 通过get_fundamentals(query_object,statDate=None) statDate传入年查询。当传入 date 参数 或 statDate 传入季度时返回空。</p>
<p><strong>表名: insurance_indicator</strong></p>
<table>
<thead>
<tr>
<th>列名</th>
<th>列的含义</th>
<th>解释</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>带后缀.XSHE/.XSHG</td>
</tr>
<tr>
<td>pubDate</td>
<td>日期</td>
<td>公司发布财报日期</td>
</tr>
<tr>
<td>statDate</td>
<td>日期</td>
<td>财报统计的季度的最后一天, 比如2016-12-31</td>
</tr>
<tr>
<td>investment_assets</td>
<td>投资资产</td>
<td>投资资产</td>
</tr>
<tr>
<td>total_investment_rate_of_return</td>
<td>总投资收益率</td>
<td>总投资收益率</td>
</tr>
<tr>
<td>net_investment_rate_of_return</td>
<td>净投资收益率</td>
<td>净投资收益率</td>
</tr>
<tr>
<td>earned_premium</td>
<td>己赚保费</td>
<td>己赚保费</td>
</tr>
<tr>
<td>earned_premium_growth_rate</td>
<td>己赚保费增长率</td>
<td>己赚保费增长率</td>
</tr>
<tr>
<td>payoff_cost</td>
<td>赔付支出</td>
<td>赔付支出</td>
</tr>
<tr>
<td>compensation_rate</td>
<td>退保率(寿险业务)</td>
<td>寿险业务退保率</td>
</tr>
<tr>
<td>not_expired_duty_reserve</td>
<td>未到期责任准备金（产险业务）</td>
<td>产险业务未到期责任准备金</td>
</tr>
<tr>
<td>outstanding_claims_reserve</td>
<td>未决赔款准备金（产险业务）</td>
<td>产险业务未决赔款准备金</td>
</tr>
<tr>
<td>comprehensive_cost_ratio</td>
<td>综台成本率（产险业务）</td>
<td>产险业务综台成本率</td>
</tr>
<tr>
<td>comprehensive_compensation_rate</td>
<td>综台赔付率（产险业务）</td>
<td>产险业务综台赔付率</td>
</tr>
<tr>
<td>solvency_adequacy_ratio</td>
<td>偿付能力充足率</td>
<td>偿付能力充足率</td>
</tr>
<tr>
<td>actual_capital</td>
<td>实际资本</td>
<td>实际资本</td>
</tr>
<tr>
<td>minimum_capital</td>
<td>最低资本</td>
<td>最低资本</td>
</tr>
</tbody>
</table>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取保险业专项指标</span>
df=get_fundamentals(query(insurance_indicator),statDate=<span class="hljs-number">2019</span>).tail(<span class="hljs-number">5</span>)    
<span class="hljs-comment"># pubDate公司发布财报的日期,statDate财报统计的季度的最后一天,net_capital净资本</span>
df[[<span class="hljs-string">'code'</span>,<span class="hljs-string">'pubDate'</span>,<span class="hljs-string">'statDate'</span>,<span class="hljs-string">'total_investment_rate_of_return'</span>]]

          code     pubDate    statDate  total_investment_rate_of_return
<span class="hljs-number">1</span>  <span class="hljs-number">601601.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-23</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>                             <span class="hljs-number">5.40</span>
<span class="hljs-number">2</span>  <span class="hljs-number">601628.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-26</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>                             <span class="hljs-number">5.23</span>
<span class="hljs-number">3</span>  <span class="hljs-number">601336.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-03</span><span class="hljs-number">-26</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>                             <span class="hljs-number">4.90</span>
<span class="hljs-number">4</span>  <span class="hljs-number">000627.</span>XSHE  <span class="hljs-number">2020</span><span class="hljs-number">-04</span><span class="hljs-number">-15</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>                              NaN
<span class="hljs-number">5</span>  <span class="hljs-number">600291.</span>XSHG  <span class="hljs-number">2020</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>                            <span class="hljs-number">-2.18</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="报告期财务数据">报告期财务数据</h3>

<h4 id="通用财务报表">通用财务报表</h4>
<ul>
<li><strong>更新时间：2005至今，每天18:00-24:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="利润表"></span>利润表</label>
      <label> 合并利润表、母公司利润表</label>
      <article style="display: block; height: 7023.04px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h3 id="">合并利润表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_INCOME_STATEMENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取上市公司定期公告中公布的合并利润表数据（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_INCOME_STATEMENT)</strong>：表示从finance.STK_INCOME_STATEMENT这张表中查询上市公司定期公告中公布的合并利润表信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_INCOME_STATEMENT</strong>：代表上市公司合并利润表，收录了上市公司定期公告中公布的合并利润表数据，表结构和字段信息如下：</p></li>

<li><p><strong>filter(finance.STK_INCOME_STATEMENT.code==code)</strong>：指定筛选条件，通过finance.STK_INCOME_STATEMENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_INCOME_STATEMENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的合并利润表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的合并利润表数据，取出合并利润表中本期的营业总收入，归属于母公司的净利润</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.STK_INCOME_STATEMENT.company_name,
        finance.STK_INCOME_STATEMENT.code,
        finance.STK_INCOME_STATEMENT.pub_date,
        finance.STK_INCOME_STATEMENT.start_date,
        finance.STK_INCOME_STATEMENT.end_date,
        finance.STK_INCOME_STATEMENT.total_operating_revenue,
finance.STK_INCOME_STATEMENT.np_parent_company_owners).filter(finance.STK_INCOME_STATEMENT.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_INCOME_STATEMENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_INCOME_STATEMENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   total_operating_revenue  np_parent_company_owners  
<span class="hljs-number">0</span>             <span class="hljs-number">3.221721e+10</span>              <span class="hljs-number">1.534980e+10</span>  
<span class="hljs-number">1</span>             <span class="hljs-number">8.760368e+09</span>              <span class="hljs-number">4.364902e+09</span>  
<span class="hljs-number">2</span>             <span class="hljs-number">1.618565e+10</span>              <span class="hljs-number">7.888232e+09</span>  
<span class="hljs-number">3</span>             <span class="hljs-number">2.373432e+10</span>              <span class="hljs-number">1.142464e+10</span>  
<span class="hljs-number">4</span>             <span class="hljs-number">3.344686e+10</span>              <span class="hljs-number">1.550309e+10</span>  
<span class="hljs-number">5</span>             <span class="hljs-number">1.025087e+10</span>              <span class="hljs-number">4.889272e+09</span>  
<span class="hljs-number">6</span>             <span class="hljs-number">1.873762e+10</span>              <span class="hljs-number">8.802637e+09</span>  
<span class="hljs-number">7</span>             <span class="hljs-number">2.753274e+10</span>              <span class="hljs-number">1.246558e+10</span>
</code></pre>
<h3 id="-1">母公司利润表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_INCOME_STATEMENT_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_INCOME_STATEMENT_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取上市公司母公司利润的信息（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_INCOME_STATEMENT_PARENT)</strong>：表示从finance.STK_INCOME_STATEMENT_PARENT这张表中查询上市公司母公司利润表的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_INCOME_STATEMENT_PARENT</strong>：代表上市公司母公司利润表，收录了上市公司母公司的利润信息，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.STK_INCOME_STATEMENT_PARENT.code==code)</strong>：指定筛选条件，通过finance.STK_INCOME_STATEMENT_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_INCOME_STATEMENT_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的母公司利润表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的母公司利润表数据，取出母公司利润表中本期的营业总收入，归属于母公司所有者的净利润</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.STK_INCOME_STATEMENT_PARENT.company_name,
        finance.STK_INCOME_STATEMENT_PARENT.code,
        finance.STK_INCOME_STATEMENT_PARENT.pub_date,
        finance.STK_INCOME_STATEMENT_PARENT.start_date,
        finance.STK_INCOME_STATEMENT_PARENT.end_date,
        finance.STK_INCOME_STATEMENT_PARENT.total_operating_revenue,
finance.STK_INCOME_STATEMENT_PARENT.np_parent_company_owners).filter(finance.STK_INCOME_STATEMENT_PARENT.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_INCOME_STATEMENT_PARENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_INCOME_STATEMENT_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   total_operating_revenue  np_parent_company_owners  
<span class="hljs-number">0</span>             <span class="hljs-number">6.878165e+09</span>              <span class="hljs-number">1.028603e+10</span>  
<span class="hljs-number">1</span>             <span class="hljs-number">1.886084e+09</span>             <span class="hljs-number">-5.773331e+07</span>  
<span class="hljs-number">2</span>             <span class="hljs-number">3.571872e+09</span>             <span class="hljs-number">-1.556184e+08</span>  
<span class="hljs-number">3</span>             <span class="hljs-number">5.411957e+09</span>              <span class="hljs-number">9.476542e+09</span>  
<span class="hljs-number">4</span>             <span class="hljs-number">8.843334e+09</span>              <span class="hljs-number">9.611173e+09</span>  
<span class="hljs-number">5</span>             <span class="hljs-number">1.507658e+09</span>              <span class="hljs-number">8.850591e+09</span>  
<span class="hljs-number">6</span>             <span class="hljs-number">3.608903e+09</span>              <span class="hljs-number">8.733012e+09</span>  
<span class="hljs-number">7</span>             <span class="hljs-number">5.430884e+09</span>              <span class="hljs-number">8.002128e+09</span>  
</code></pre>
<p><strong>字段信息展示</strong></p>
<table>
    <tbody><tr>
        <td width="367">字段名称</td>
        <td width="146">中文名称</td>
        <td width="133">字段类型</td>
        <td width="206">含义</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>a_code</td>
        <td>A股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>b_code</td>
        <td>B股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>h_code</td>
        <td>H股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>截止日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_date</td>
        <td>报告期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_type</td>
        <td>报告期类型</td>
        <td>int</td>
        <td>0：本期，1：上期</td>
    </tr>
    <tr>
        <td>source_id</td>
        <td>报表来源编码</td>
        <td>int</td>
        <td>如下&nbsp;报表来源编码</td>
    </tr>
    <tr>
        <td>source</td>
        <td>报表来源</td>
        <td>varchar(60)</td>
        <td>选择时程序自动填入</td>
    </tr>
    <tr>
        <td>total_operating_revenue</td>
        <td>营业总收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operating_revenue</td>
        <td>营业收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_operating_cost</td>
        <td>营业总成本</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operating_cost</td>
        <td>营业成本</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operating_tax_surcharges</td>
        <td>营业税金及附加</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>sale_expense</td>
        <td>销售费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>administration_expense</td>
        <td>管理费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>exploration_expense</td>
        <td>堪探费用</td>
        <td>decimal(20,4)</td>
        <td>勘探费用用于核算企业（石油天然气开采）核算的油气勘探过程中发生的地质调查、物理化学勘探各项支出和非成功探井等支出。</td>
    </tr>
    <tr>
        <td>financial_expense</td>
        <td>财务费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>asset_impairment_loss</td>
        <td>资产减值损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fair_value_variable_income</td>
        <td>公允价值变动净收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_income</td>
        <td>投资收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_income_associates</td>
        <td>对联营企业和合营企业的投资收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>exchange_income</td>
        <td>汇兑收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_items_influenced_income</td>
        <td>影响营业利润的其他科目</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operating_profit</td>
        <td>营业利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subsidy_income</td>
        <td>补贴收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>non_operating_revenue</td>
        <td>营业外收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>non_operating_expense</td>
        <td>营业外支出</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>disposal_loss_non_current_liability</td>
        <td>非流动资产处置净损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_items_influenced_profit</td>
        <td>影响利润总额的其他科目</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_profit</td>
        <td>利润总额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>income_tax</td>
        <td>所得税</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_items_influenced_net_profit</td>
        <td>影响净利润的其他科目</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_profit</td>
        <td>净利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>np_parent_company_owners</td>
        <td>归属于母公司所有者的净利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>minority_profit</td>
        <td>少数股东损益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>eps</td>
        <td>每股收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>basic_eps</td>
        <td>基本每股收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>diluted_eps</td>
        <td>稀释每股收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_composite_income</td>
        <td>其他综合收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_composite_income</td>
        <td>综合收益总额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>ci_parent_company_owners</td>
        <td>归属于母公司所有者的综合收益总额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>ci_minority_owners</td>
        <td>归属于少数股东的综合收益总额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_income</td>
        <td>利息收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>premiums_earned</td>
        <td>已赚保费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>commission_income</td>
        <td>手续费及佣金收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_expense</td>
        <td>利息支出</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>commission_expense</td>
        <td>手续费及佣金支出</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>refunded_premiums</td>
        <td>退保金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_pay_insurance_claims</td>
        <td>赔付支出净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>withdraw_insurance_contract_reserve</td>
        <td>提取保险合同准备金净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>policy_dividend_payout</td>
        <td>保单红利支出</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>reinsurance_cost</td>
        <td>分保费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>non_current_asset_disposed</td>
        <td>非流动资产处置利得</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_earnings</td>
        <td>其他收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>asset_deal_income</td>
        <td>资产处置收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>sust_operate_net_profit</td>
        <td>持续经营净利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>discon_operate_net_profit</td>
        <td>终止经营净利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>credit_impairment_loss</td>
        <td>信用减值损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_open_hedge_income</td>
        <td>净敞口套期收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_cost_fin</td>
        <td>财务费用-利息费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_income_fin</td>
        <td>财务费用-利息收入</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>rd_expenses</td>
        <td>研发费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
</tbody></table>
<p><strong><span id="source2">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="现金流量表"></span>现金流量表</label>
      <label>合并现金流量表、母公司现金流量表</label>
      <article style="display: block; height: 8144.8px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h2 id="">合并现金流量表</h2>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_CASHFLOW_STATEMENT).filter(finance.STK_CASHFLOW_STATEMENT.code==code).limit(n))
</code></pre>
<p>获取上市公司定期公告中公布的合并现金流量表数据（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_CASHFLOW_STATEMENT)</strong>：表示从finance.STK_CASHFLOW_STATEMENT这张表中查询上市公司定期公告中公布的合并现金流量表信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_CASHFLOW_STATEMENT</strong>：代表上市公司合并现金流量表，收录了上市公司定期公告中公布的合并现金流量表数据，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.STK_CASHFLOW_STATEMENT.code==code)</strong>：指定筛选条件，通过finance.STK_CASHFLOW_STATEMENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_CASHFLOW_STATEMENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司合并现金流量表数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的合并现金流量表数据，取出本期的经营活动现金流量净额，投资活动现金流量净额，以及筹资活动现金流量净额</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(finance.STK_CASHFLOW_STATEMENT.company_name,
        finance.STK_CASHFLOW_STATEMENT.code,
        finance.STK_CASHFLOW_STATEMENT.pub_date,
        finance.STK_CASHFLOW_STATEMENT.start_date,
        finance.STK_CASHFLOW_STATEMENT.end_date,
        finance.STK_CASHFLOW_STATEMENT.net_operate_cash_flow,
        finance.STK_CASHFLOW_STATEMENT.net_invest_cash_flow,
finance.STK_CASHFLOW_STATEMENT.net_finance_cash_flow).filter(finance.STK_CASHFLOW_STATEMENT.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_CASHFLOW_STATEMENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_CASHFLOW_STATEMENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   net_operate_cash_flow  net_invest_cash_flow  net_finance_cash_flow  
<span class="hljs-number">0</span>           <span class="hljs-number">1.263252e+10</span>         <span class="hljs-number">-4.580160e+09</span>          <span class="hljs-number">-5.041427e+09</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">2.111634e+09</span>         <span class="hljs-number">-8.540453e+08</span>          <span class="hljs-number">-3.464185e+07</span>  
<span class="hljs-number">2</span>           <span class="hljs-number">4.901688e+09</span>         <span class="hljs-number">-1.290715e+09</span>          <span class="hljs-number">-3.494246e+07</span>  
<span class="hljs-number">3</span>           <span class="hljs-number">1.142339e+10</span>         <span class="hljs-number">-1.782995e+09</span>          <span class="hljs-number">-5.587555e+09</span>  
<span class="hljs-number">4</span>           <span class="hljs-number">1.743634e+10</span>         <span class="hljs-number">-2.048790e+09</span>          <span class="hljs-number">-5.588020e+09</span>  
<span class="hljs-number">5</span>           <span class="hljs-number">7.436044e+09</span>         <span class="hljs-number">-4.213453e+08</span>          <span class="hljs-number">-5.085073e+08</span>  
<span class="hljs-number">6</span>           <span class="hljs-number">1.360396e+10</span>         <span class="hljs-number">-5.555078e+08</span>          <span class="hljs-number">-3.283074e+09</span>  
<span class="hljs-number">7</span>           <span class="hljs-number">3.253533e+10</span>         <span class="hljs-number">-7.734874e+08</span>          <span class="hljs-number">-8.284064e+09</span>  
</code></pre>
<h3 id="-1">母公司现金流量表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_CASHFLOW_STATEMENT_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_CASHFLOW_STATEMENT_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取上市公司定期公告中公布的母公司现金流量表（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_CASHFLOW_STATEMENT_PARENT)</strong>：表示从finance.STK_CASHFLOW_STATEMENT_PARENT这张表中查询上市公司定期公告中公布的母公司现金流量表信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_CASHFLOW_STATEMENT_PARENT</strong>：代表上市公司母公司现金流量表，收录了上市公司定期公告中公布的母公司现金流量表数据，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.STK_CASHFLOW_STATEMENT_PARENT.code==code)</strong>：指定筛选条件，通过finance.STK_CASHFLOW_STATEMENT_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_CASHFLOW_STATEMENT_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的母公司现金流量表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的母公司现金流量表数据，取出本期的经营活动现金流量净额，投资活动现金流量净额，以及筹资活动现金流量净额</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(finance.STK_CASHFLOW_STATEMENT_PARENT.company_name,
        finance.STK_CASHFLOW_STATEMENT_PARENT.code,
        finance.STK_CASHFLOW_STATEMENT_PARENT.pub_date,
        finance.STK_CASHFLOW_STATEMENT_PARENT.start_date,
        finance.STK_CASHFLOW_STATEMENT_PARENT.end_date,
        finance.STK_CASHFLOW_STATEMENT_PARENT.net_operate_cash_flow,
        finance.STK_CASHFLOW_STATEMENT_PARENT.net_invest_cash_flow,
finance.STK_CASHFLOW_STATEMENT_PARENT.net_finance_cash_flow).filter(finance.STK_CASHFLOW_STATEMENT_PARENT.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_CASHFLOW_STATEMENT_PARENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_CASHFLOW_STATEMENT_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   net_operate_cash_flow  net_invest_cash_flow  net_finance_cash_flow  
<span class="hljs-number">0</span>          <span class="hljs-number">-2.713989e+09</span>          <span class="hljs-number">6.192758e+09</span>          <span class="hljs-number">-4.562999e+09</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">2.082144e+09</span>         <span class="hljs-number">-1.135273e+09</span>           <span class="hljs-number">2.200000e+07</span>  
<span class="hljs-number">2</span>           <span class="hljs-number">3.259594e+09</span>         <span class="hljs-number">-1.568552e+09</span>           <span class="hljs-number">2.200000e+07</span>  
<span class="hljs-number">3</span>           <span class="hljs-number">2.284079e+09</span>          <span class="hljs-number">8.054632e+08</span>          <span class="hljs-number">-5.040068e+09</span>  
<span class="hljs-number">4</span>           <span class="hljs-number">1.975006e+09</span>          <span class="hljs-number">7.412721e+09</span>          <span class="hljs-number">-5.018068e+09</span>  
<span class="hljs-number">5</span>           <span class="hljs-number">6.073286e+08</span>          <span class="hljs-number">8.692869e+07</span>                    NaN  
<span class="hljs-number">6</span>          <span class="hljs-number">-7.648020e+08</span>          <span class="hljs-number">7.468597e+09</span>          <span class="hljs-number">-2.774566e+09</span>  
<span class="hljs-number">7</span>          <span class="hljs-number">-7.797669e+08</span>          <span class="hljs-number">8.882256e+09</span>          <span class="hljs-number">-7.751997e+09</span>  
</code></pre>
<p><strong>字段信息展示：</strong></p>
<table>
    <tbody><tr>
        <td width="339">字段名称</td>
        <td width="245">中文名称</td>
        <td width="137">字段类型</td>
        <td width="131">含义</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票主证券代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>a_code</td>
        <td>A股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>b_code</td>
        <td>B股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>h_code</td>
        <td>H股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>截止日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_date</td>
        <td>报告期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_type</td>
        <td>报告期类型</td>
        <td>int</td>
        <td>0本期，1上期</td>
    </tr>
    <tr>
        <td>source_id</td>
        <td>报表来源编码</td>
        <td>int</td>
        <td>如下报表来源编码</td>
    </tr>
    <tr>
        <td>source</td>
        <td>报表来源</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td><p>goods_sale_and_service</p>
        <p>_render_cash</p></td>
        <td>销售商品、提供劳务收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>tax_levy_refund</td>
        <td>收到的税费返还</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_operate_cash_inflow</td>
        <td>经营活动现金流入小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>goods_and_services_cash_paid</td>
        <td>购买商品、接受劳务支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>staff_behalf_paid</td>
        <td>支付给职工以及为职工支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>tax_payments</td>
        <td>支付的各项税费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_operate_cash_outflow</td>
        <td>经营活动现金流出小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_operate_cash_flow</td>
        <td>经营活动现金流量净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_withdrawal_cash</td>
        <td>收回投资收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_proceeds</td>
        <td>取得投资收益收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fix_intan_other_asset_dispo_cash</td>
        <td>处置固定资产、无形资产和其他长期资产收回的现金净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_cash_deal_subcompany</td>
        <td>处置子公司及其他营业单位收到的现金净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_invest_cash_inflow</td>
        <td>投资活动现金流入小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fix_intan_other_asset_acqui_cash</td>
        <td>购建固定资产、无形资产和其他长期资产支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_cash_paid</td>
        <td>投资支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>impawned_loan_net_increase</td>
        <td>质押贷款净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_cash_from_sub_company</td>
        <td>取得子公司及其他营业单位支付的现金净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_invest_cash_outflow</td>
        <td>投资活动现金流出小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_invest_cash_flow</td>
        <td>投资活动现金流量净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_from_invest</td>
        <td>吸收投资收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_from_borrowing</td>
        <td>取得借款收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_from_bonds_issue</td>
        <td>发行债券收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_finance_cash_inflow</td>
        <td>筹资活动现金流入小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>borrowing_repayment</td>
        <td>偿还债务支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>dividend_interest_payment</td>
        <td>分配股利、利润或偿付利息支付的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_finance_cash_outflow</td>
        <td>筹资活动现金流出小计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_finance_cash_flow</td>
        <td>筹资活动现金流量净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>exchange_rate_change_effect</td>
        <td>汇率变动对现金的影响</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_reason_effect_cash</td>
        <td>其他原因对现金的影响</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_equivalent_increase</td>
        <td>现金及现金等价物净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_equivalents_at_beginning</td>
        <td>期初现金及现金等价物余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_and_equivalents_at_end</td>
        <td>期末现金及现金等价物余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_profit</td>
        <td>净利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>assets_depreciation_reserves</td>
        <td>资产减值准备</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_assets_depreciation</td>
        <td>固定资产折旧、油气资产折耗、生产性生物资产折旧</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>intangible_assets_amortization</td>
        <td>无形资产摊销</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>defferred_expense_amortization</td>
        <td>长期待摊费用摊销</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fix_intan_other_asset_dispo_loss</td>
        <td>处置固定资产、无形资产和其他长期资产的损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_asset_scrap_loss</td>
        <td>固定资产报废损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fair_value_change_loss</td>
        <td>公允价值变动损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>financial_cost</td>
        <td>财务费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_loss</td>
        <td>投资损失</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deffered_tax_asset_decrease</td>
        <td>递延所得税资产减少</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deffered_tax_liability_increase</td>
        <td>递延所得税负债增加</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>inventory_decrease</td>
        <td>存货的减少</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operate_receivables_decrease</td>
        <td>经营性应收项目的减少</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>operate_payable_increase</td>
        <td>经营性应付项目的增加</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>others</td>
        <td>其他</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_operate_cash_flow_indirect</td>
        <td>经营活动现金流量净额_间接法</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>debt_to_capital</td>
        <td>债务转为资本</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cbs_expiring_in_one_year</td>
        <td>一年内到期的可转换公司债券</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>financial_lease_fixed_assets</td>
        <td>融资租入固定资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_at_end</td>
        <td>现金的期末余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_at_beginning</td>
        <td>现金的期初余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>equivalents_at_end</td>
        <td>现金等价物的期末余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>equivalents_at_beginning</td>
        <td>现金等价物的期初余额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_reason_effect_cash_indirect</td>
        <td>其他原因对现金的影响_间接法</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_equivalent_increase_indirect</td>
        <td>现金及现金等价物净增加额_间接法</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_deposit_increase</td>
        <td>客户存款和同业存放款项净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_borrowing_from_central_bank</td>
        <td>向中央银行借款净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_borrowing_from_finance_co</td>
        <td>向其他金融机构拆入资金净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_original_insurance_cash</td>
        <td>收到原保险合同保费取得的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_cash_received_from_
        reinsurance_business</td>
        <td>收到再保险业务现金净额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_insurer_deposit_investment</td>
        <td>保户储金及投资款净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_deal_trading_assets</td>
        <td>处置以公允价值计量且其变动计入当期损益的金融资产净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_and_commission_cashin</td>
        <td>收取利息、手续费及佣金的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_increase_in_placements</td>
        <td>拆入资金净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_buyback</td>
        <td>回购业务资金净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_loan_and_advance_increase</td>
        <td>客户贷款及垫款净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_deposit_in_cb_and_ib</td>
        <td>存放中央银行和同业款项净增加额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>original_compensation_paid</td>
        <td>支付原保险合同赔付款项的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>handling_charges_and_commission</td>
        <td>支付利息、手续费及佣金的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>policy_dividend_cash_paid</td>
        <td>支付保单红利的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_from_mino_s_invest_sub</td>
        <td>子公司吸收少数股东投资收到的现金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>proceeds_from_sub_to_mino_s</td>
        <td>子公司支付给少数股东的股利、利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_property_depreciation</td>
        <td>投资性房地产的折旧及摊销</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>credit_impairment_loss</td>
        <td>信用减值损失(现金流量表补充科目)</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
</tbody></table>
<p><strong><span id="source3">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="资产负债表"></span>资产负债表</label>
      <label>合并资产负债表、母公司现金资产负债表</label>
      <article style="display: block; height: 9705.41px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h3 id="">合并资产负债表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_BALANCE_SHEET)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_BALANCE_SHEET</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取上市公司定期公告中公布的合并资产负债表（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_BALANCE_SHEET)</strong>：表示从finance.STK_BALANCE_SHEET这张表中查询上市公司定期公告中公布的合并资产负债表信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_BALANCE_SHEET</strong>：代表上市公司合并资产负债表信息，收录了上市公司定期公告中公布的合并资产负债表数据，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.STK_BALANCE_SHEET.code==code)</strong>：指定筛选条件，通过finance.STK_BALANCE_SHEET.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_BALANCE_SHEET.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的合并资产负债表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的合并资产负债表数据，取出本期的货币资金，总资产和总负债</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(finance.STK_BALANCE_SHEET.company_name,
        finance.STK_BALANCE_SHEET.code,
        finance.STK_BALANCE_SHEET.pub_date,
        finance.STK_BALANCE_SHEET.start_date,
        finance.STK_BALANCE_SHEET.end_date,
        finance.STK_BALANCE_SHEET.cash_equivalents,
        finance.STK_BALANCE_SHEET.total_assets,
        finance.STK_BALANCE_SHEET.total_liability
).filter(finance.STK_BALANCE_SHEET.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_BALANCE_SHEET.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_BALANCE_SHEET.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   cash_equivalents  total_assets  total_liability  
<span class="hljs-number">0</span>      <span class="hljs-number">2.771072e+10</span>  <span class="hljs-number">6.587317e+10</span>     <span class="hljs-number">1.056161e+10</span>  
<span class="hljs-number">1</span>      <span class="hljs-number">2.842068e+10</span>  <span class="hljs-number">6.876902e+10</span>     <span class="hljs-number">8.838873e+09</span>  
<span class="hljs-number">2</span>      <span class="hljs-number">3.023650e+10</span>  <span class="hljs-number">7.233774e+10</span>     <span class="hljs-number">8.675962e+09</span>  
<span class="hljs-number">3</span>      <span class="hljs-number">3.053612e+10</span>  <span class="hljs-number">7.755903e+10</span>     <span class="hljs-number">1.564019e+10</span>  
<span class="hljs-number">4</span>      <span class="hljs-number">3.680075e+10</span>  <span class="hljs-number">8.630146e+10</span>     <span class="hljs-number">2.006729e+10</span>  
<span class="hljs-number">5</span>      <span class="hljs-number">4.377574e+10</span>  <span class="hljs-number">9.069045e+10</span>     <span class="hljs-number">1.974919e+10</span>  
<span class="hljs-number">6</span>      <span class="hljs-number">4.752806e+10</span>  <span class="hljs-number">9.554650e+10</span>     <span class="hljs-number">2.819334e+10</span>  
<span class="hljs-number">7</span>      <span class="hljs-number">6.199974e+10</span>  <span class="hljs-number">1.051460e+11</span>     <span class="hljs-number">3.386253e+10</span>  
</code></pre>
<h3 id="-1">母公司资产负债表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.STK_BALANCE_SHEET_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">STK_BALANCE_SHEET_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取上市公司定期公告中公布的母公司资产负债表（2007版）</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_BALANCE_SHEET_PARENT)</strong>：表示从finance.STK_BALANCE_SHEET_PARENT这张表中查询上市公司定期公告中公布的母公司资产负债表信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_BALANCE_SHEET_PARENT</strong>：代表上市公司母公司资产负债表信息，收录了上市公司定期公告中公布的母公司资产负债表数据，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.STK_BALANCE_SHEET_PARENT.code==code)</strong>：指定筛选条件，通过finance.STK_BALANCE_SHEET_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_BALANCE_SHEET_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的母公司资产负债表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公告的母公司资产负债表数据，取出本期的货币资金，总资产和总负债</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(finance.STK_BALANCE_SHEET_PARENT.company_name,
        finance.STK_BALANCE_SHEET_PARENT.code,
        finance.STK_BALANCE_SHEET_PARENT.pub_date,
        finance.STK_BALANCE_SHEET_PARENT.start_date,
        finance.STK_BALANCE_SHEET_PARENT.end_date,
        finance.STK_BALANCE_SHEET_PARENT.cash_equivalents,
        finance.STK_BALANCE_SHEET_PARENT.total_assets,
        finance.STK_BALANCE_SHEET_PARENT.total_liability
).filter(finance.STK_BALANCE_SHEET_PARENT.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_BALANCE_SHEET_PARENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.STK_BALANCE_SHEET_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

  company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-23</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-21</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  贵州茅台酒股份有限公司  <span class="hljs-number">600519.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-29</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   cash_equivalents  total_assets  total_liability  
<span class="hljs-number">0</span>      <span class="hljs-number">1.070530e+10</span>  <span class="hljs-number">4.662489e+10</span>     <span class="hljs-number">1.693767e+10</span>  
<span class="hljs-number">1</span>      <span class="hljs-number">1.165218e+10</span>  <span class="hljs-number">4.903731e+10</span>     <span class="hljs-number">1.940782e+10</span>  
<span class="hljs-number">2</span>      <span class="hljs-number">1.239635e+10</span>  <span class="hljs-number">5.079041e+10</span>     <span class="hljs-number">2.125881e+10</span>  
<span class="hljs-number">3</span>      <span class="hljs-number">8.754779e+09</span>  <span class="hljs-number">5.396424e+10</span>     <span class="hljs-number">1.979558e+10</span>  
<span class="hljs-number">4</span>      <span class="hljs-number">1.505296e+10</span>  <span class="hljs-number">5.512518e+10</span>     <span class="hljs-number">2.082189e+10</span>  
<span class="hljs-number">5</span>      <span class="hljs-number">1.574722e+10</span>  <span class="hljs-number">6.608276e+10</span>     <span class="hljs-number">2.292887e+10</span>  
<span class="hljs-number">6</span>      <span class="hljs-number">1.898219e+10</span>  <span class="hljs-number">6.186466e+10</span>     <span class="hljs-number">2.658035e+10</span>  
<span class="hljs-number">7</span>      <span class="hljs-number">1.540346e+10</span>  <span class="hljs-number">5.697338e+10</span>     <span class="hljs-number">2.241995e+10</span>  
</code></pre>
<p><strong>字段信息展示：</strong></p>
<table>
    <tbody><tr>
        <td width="350">字段名称</td>
        <td width="137">中文名称</td>
        <td width="133">字段类型</td>
        <td width="217">含义</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>a_code</td>
        <td>A股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>b_code</td>
        <td>B股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>h_code</td>
        <td>H股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>截止日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_date</td>
        <td>报告期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_type</td>
        <td>报告期类型</td>
        <td>int</td>
        <td>0本期，1上期</td>
    </tr>
    <tr>
        <td>source_id</td>
        <td>报表来源编码</td>
        <td>int</td>
        <td>如下 报表来源编码</td>
    </tr>
    <tr>
        <td>source</td>
        <td>报表来源</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_equivalents</td>
        <td>货币资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>trading_assets</td>
        <td>交易性金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bill_receivable</td>
        <td>应收票据</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>account_receivable</td>
        <td>应收账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>advance_payment</td>
        <td>预付款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_receivable</td>
        <td>其他应收款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>affiliated_company_receivable</td>
        <td>应收关联公司款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_receivable</td>
        <td>应收利息</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>dividend_receivable</td>
        <td>应收股利</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>inventories</td>
        <td>存货</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>expendable_biological_asset</td>
        <td>消耗性生物资产</td>
        <td>decimal(20,4)</td>
        <td>消耗性生物资产，是指为出售而持有的、或在将来收获为农产品的生物资产，包括生长中的大田作物、蔬菜、用材林，以及存栏代售的牲畜等</td>
    </tr>
    <tr>
        <td>non_current_asset_in_one_year</td>
        <td>一年内到期的非流动资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_current_assets</td>
        <td>流动资产合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_for_sale_assets</td>
        <td>可供出售金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_to_maturity_investments</td>
        <td>持有至到期投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_receivable_account</td>
        <td>长期应收款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_equity_invest</td>
        <td>长期股权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_property</td>
        <td>投资性房地产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_assets</td>
        <td>固定资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>constru_in_process</td>
        <td>在建工程</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>construction_materials</td>
        <td>工程物资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_assets_liquidation</td>
        <td>固定资产清理</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>biological_assets</td>
        <td>生产性生物资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>oil_gas_assets</td>
        <td>油气资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>intangible_assets</td>
        <td>无形资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>development_expenditure</td>
        <td>开发支出</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>good_will</td>
        <td>商誉</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>long_deferred_expense</td>
        <td>长期待摊费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_tax_assets</td>
        <td>递延所得税资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_non_current_assets</td>
        <td>非流动资产合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_assets</td>
        <td>资产总计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>shortterm_loan</td>
        <td>短期借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>trading_liability</td>
        <td>交易性金融负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>notes_payable</td>
        <td>应付票据</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>accounts_payable</td>
        <td>应付账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>advance_peceipts</td>
        <td>预收款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>salaries_payable</td>
        <td>应付职工薪酬</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>taxs_payable</td>
        <td>应交税费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_payable</td>
        <td>应付利息</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>dividend_payable</td>
        <td>应付股利</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_payable</td>
        <td>其他应付款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>affiliated_company_payable</td>
        <td>应付关联公司款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>non_current_liability_in_one_year</td>
        <td>一年内到期的非流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_current_liability</td>
        <td>流动负债合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_loan</td>
        <td>长期借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bonds_payable</td>
        <td>应付债券</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_account_payable</td>
        <td>长期应付款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>specific_account_payable</td>
        <td>专项应付款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>estimate_liability</td>
        <td>预计负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_tax_liability</td>
        <td>递延所得税负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_non_current_liability</td>
        <td>非流动负债合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_liability</td>
        <td>负债合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>paidin_capital</td>
        <td>实收资本（或股本）</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>capital_reserve_fund</td>
        <td>资本公积</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>specific_reserves</td>
        <td>专项储备</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>surplus_reserve_fund</td>
        <td>盈余公积</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>treasury_stock</td>
        <td>库存股</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>retained_profit</td>
        <td>未分配利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>equities_parent_company_owners</td>
        <td>归属于母公司所有者权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>minority_interests</td>
        <td>少数股东权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>foreign_currency_report_conv_diff</td>
        <td>外币报表折算价差</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>irregular_item_adjustment</td>
        <td>非正常经营项目收益调整</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_owner_equities</td>
        <td>所有者权益（或股东权益）合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_sheet_owner_equities</td>
        <td>负债和所有者权益（或股东权益）合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_comprehensive_income</td>
        <td>其他综合收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_earning</td>
        <td>递延收益-非流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>settlement_provi</td>
        <td>结算备付金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>lend_capital</td>
        <td>拆出资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>loan_and_advance_current_assets</td>
        <td>发放贷款及垫款-流动资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>derivative_financial_asset</td>
        <td>衍生金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>insurance_receivables</td>
        <td>应收保费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>reinsurance_receivables</td>
        <td>应收分保账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td><p>reinsurance_contract_</p>
        <p>reserves_receivable</p></td>
        <td>应收分保合同准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bought_sellback_assets</td>
        <td>买入返售金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_sale_asset</td>
        <td>划分为持有待售的资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>loan_and_advance_noncurrent_assets</td>
        <td>发放贷款及垫款-非流动资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>borrowing_from_centralbank</td>
        <td>向中央银行借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_in_interbank</td>
        <td>吸收存款及同业存放</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>borrowing_capital</td>
        <td>拆入资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>derivative_financial_liability</td>
        <td>衍生金融负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>sold_buyback_secu_proceeds</td>
        <td>卖出回购金融资产款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>commission_payable</td>
        <td>应付手续费及佣金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>reinsurance_payables</td>
        <td>应付分保账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>insurance_contract_reserves</td>
        <td>保险合同准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>proxy_secu_proceeds</td>
        <td>代理买卖证券款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td><p>receivings_from_vicariously</p>
        <p>_sold_securities</p></td>
        <td>代理承销证券款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_sale_liability</td>
        <td>划分为持有待售的负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>estimate_liability_current</td>
        <td>预计负债-流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_earning_current</td>
        <td>递延收益-流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>preferred_shares_noncurrent</td>
        <td>优先股-非流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>pepertual_liability_noncurrent</td>
        <td>永续债-非流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_salaries_payable</td>
        <td>长期应付职工薪酬</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_equity_tools</td>
        <td>其他权益工具</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>preferred_shares_equity</td>
        <td>其中：优先股-所有者权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>pepertual_liability_equity</td>
        <td>永续债-所有者权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_current_assets</td>
        <td>其他流动资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_non_current_assets</td>
        <td>其他非流动资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_current_liability</td>
        <td>其他流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_non_current_liability</td>
        <td>其他非流动负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>ordinary_risk_reserve_fund</td>
        <td>一般风险准备</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_assets</td>
        <td>合同资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bond_invest</td>
        <td>债权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_bond_invest</td>
        <td>其他债权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_equity_tools_invest</td>
        <td>其他权益工具投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_non_current_financial_assets</td>
        <td>其他非流动金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_liability</td>
        <td>合同负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>receivable_fin</td>
        <td>应收款项融资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>usufruct_assets</td>
        <td>使用权资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bill_and_account_payable</td>
        <td>应付票据及应付账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bill_and_account_receivable</td>
        <td>应收票据及应收账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>lease_liability</td>
        <td>租赁负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><p><strong><span id="source6">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h4 id="金融类财务报表">金融类财务报表</h4>
<ul>
<li><strong>更新时间：2005至今，每天18:00-24:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="利润表"></span>利润表</label>
      <label>金融类合并利润表、母公司利润表</label>
      <article style="display: block; height: 7707.16px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h3 id="">合并利润表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.FINANCE_INCOME_STATEMENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FINANCE_INCOME_STATEMENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的合并利润表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_INCOME_STATEMENT)</strong>：表示从finance.FINANCE_INCOME_STATEMENT这张表中查询金融类上市公司合并利润表的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_INCOME_STATEMENT</strong>：代表金融类上市公司合并利润表，收录了金融类上市公司的合并利润表，表结构和字段信息如下：</p></li>
<li><p>filter(finance.FINANCE_INCOME_STATEMENT.code==code)**：指定筛选条件，通过finance.FINANCE_INCOME_STATEMENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_INCOME_STATEMENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的合并利润表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="hljs lsl">#查询中国平安<span class="hljs-number">2015</span>年之后公告的合并利润表数据,指定只取出本期数据
from jqdatasdk import finance
q=query(finance.FINANCE_INCOME_STATEMENT).filter(finance.FINANCE_INCOME_STATEMENT.code=='<span class="hljs-number">601318.</span>XSHG',finance.FINANCE_INCOME_STATEMENT.pub_date&gt;='<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>',finance.FINANCE_INCOME_STATEMENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

    id  company_id      company_name         code  a_code b_code h_code  \
<span class="hljs-number">0</span>  <span class="hljs-number">246</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">1</span>  <span class="hljs-number">248</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">2</span>  <span class="hljs-number">250</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">3</span>  <span class="hljs-number">252</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">4</span>  <span class="hljs-number">254</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">5</span>  <span class="hljs-number">256</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">6</span>  <span class="hljs-number">258</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">7</span>  <span class="hljs-number">260</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   

     pub_date  start_date    end_date         ...            net_profit  \
<span class="hljs-number">0</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>         ...          <span class="hljs-number">4.793000e+10</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>         ...          <span class="hljs-number">2.243600e+10</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>         ...          <span class="hljs-number">3.991100e+10</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>         ...          <span class="hljs-number">5.640500e+10</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>         ...          <span class="hljs-number">6.517800e+10</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>         ...          <span class="hljs-number">2.338900e+10</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>         ...          <span class="hljs-number">4.630800e+10</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>         ...          <span class="hljs-number">6.481300e+10</span>   

   np_parent_company_owners  minority_profit   eps  basic_eps  diluted_eps  \
<span class="hljs-number">0</span>              <span class="hljs-number">3.927900e+10</span>     <span class="hljs-number">8.651000e+09</span>  None       <span class="hljs-number">4.93</span>         <span class="hljs-number">4.68</span>   
<span class="hljs-number">1</span>              <span class="hljs-number">1.996400e+10</span>     <span class="hljs-number">2.472000e+09</span>  None       <span class="hljs-number">2.19</span>         <span class="hljs-number">2.19</span>   
<span class="hljs-number">2</span>              <span class="hljs-number">3.464900e+10</span>     <span class="hljs-number">5.262000e+09</span>  None       <span class="hljs-number">1.90</span>         <span class="hljs-number">1.90</span>   
<span class="hljs-number">3</span>              <span class="hljs-number">4.827600e+10</span>     <span class="hljs-number">8.129000e+09</span>  None       <span class="hljs-number">2.64</span>         <span class="hljs-number">2.64</span>   
<span class="hljs-number">4</span>              <span class="hljs-number">5.420300e+10</span>     <span class="hljs-number">1.097500e+10</span>  None       <span class="hljs-number">2.98</span>         <span class="hljs-number">2.98</span>   
<span class="hljs-number">5</span>              <span class="hljs-number">2.070000e+10</span>     <span class="hljs-number">2.689000e+09</span>  None       <span class="hljs-number">1.16</span>         <span class="hljs-number">1.16</span>   
<span class="hljs-number">6</span>              <span class="hljs-number">4.077600e+10</span>     <span class="hljs-number">5.532000e+09</span>  None       <span class="hljs-number">2.28</span>         <span class="hljs-number">2.28</span>   
<span class="hljs-number">7</span>              <span class="hljs-number">5.650800e+10</span>     <span class="hljs-number">8.305000e+09</span>  None       <span class="hljs-number">3.17</span>         <span class="hljs-number">3.16</span>   

   other_composite_income  total_composite_income  ci_parent_company_owners  \
<span class="hljs-number">0</span>            <span class="hljs-number">3.077400e+10</span>            <span class="hljs-number">7.870400e+10</span>              <span class="hljs-number">6.959000e+10</span>   
<span class="hljs-number">1</span>           <span class="hljs-number">-3.572000e+09</span>            <span class="hljs-number">1.886400e+10</span>              <span class="hljs-number">1.633600e+10</span>   
<span class="hljs-number">2</span>            <span class="hljs-number">7.100000e+07</span>            <span class="hljs-number">3.998200e+10</span>              <span class="hljs-number">3.450800e+10</span>   
<span class="hljs-number">3</span>           <span class="hljs-number">-1.316100e+10</span>            <span class="hljs-number">4.324400e+10</span>              <span class="hljs-number">3.488100e+10</span>   
<span class="hljs-number">4</span>            <span class="hljs-number">7.520000e+08</span>            <span class="hljs-number">6.593000e+10</span>              <span class="hljs-number">5.456500e+10</span>   
<span class="hljs-number">5</span>           <span class="hljs-number">-1.124600e+10</span>            <span class="hljs-number">1.214300e+10</span>              <span class="hljs-number">9.509000e+09</span>   
<span class="hljs-number">6</span>           <span class="hljs-number">-9.129000e+09</span>            <span class="hljs-number">3.717900e+10</span>              <span class="hljs-number">3.167900e+10</span>   
<span class="hljs-number">7</span>           <span class="hljs-number">-5.917000e+09</span>            <span class="hljs-number">5.889600e+10</span>              <span class="hljs-number">5.050300e+10</span>   

   ci_minority_owners  
<span class="hljs-number">0</span>        <span class="hljs-number">9.114000e+09</span>  
<span class="hljs-number">1</span>        <span class="hljs-number">2.528000e+09</span>  
<span class="hljs-number">2</span>        <span class="hljs-number">5.474000e+09</span>  
<span class="hljs-number">3</span>        <span class="hljs-number">8.363000e+09</span>  
<span class="hljs-number">4</span>        <span class="hljs-number">1.136500e+10</span>  
<span class="hljs-number">5</span>        <span class="hljs-number">2.634000e+09</span>  
<span class="hljs-number">6</span>        <span class="hljs-number">5.500000e+09</span>  
<span class="hljs-number">7</span>        <span class="hljs-number">8.393000e+09</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">66</span> columns]
</code></pre>
<h3 id="-1">母公司利润表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.FINANCE_INCOME_STATEMENT_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FINANCE_INCOME_STATEMENT_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的母公司利润表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_INCOME_STATEMENT_PARENT)</strong>：表示从finance.FINANCE_INCOME_STATEMENT_PARENT这张表中查询金融类上市公司母公司利润表的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_INCOME_STATEMENT_PARENT</strong>：代表金融类上市公司母公司利润表，收录了金融类上市公司的母公司利润表，表结构和字段信息如下：</p></li>
<li><p>filter(finance.FINANCE_INCOME_STATEMENT_PARENT.code==code)**：指定筛选条件，通过finance.FINANCE_INCOME_STATEMENT_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_INCOME_STATEMENT_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的母公司利润表信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="hljs lsl">#查询中国平安<span class="hljs-number">2015</span>年之后公告的母公司利润表数据,指定只取出本期数据
from jqdatasdk import finance
q=query(finance.FINANCE_INCOME_STATEMENT_PARENT).filter(finance.FINANCE_INCOME_STATEMENT_PARENT.code=='<span class="hljs-number">601318.</span>XSHG',finance.FINANCE_INCOME_STATEMENT_PARENT.pub_date&gt;='<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>',finance.FINANCE_INCOME_STATEMENT_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

    id  company_id      company_name         code  a_code b_code h_code  \
<span class="hljs-number">0</span>  <span class="hljs-number">214</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">1</span>  <span class="hljs-number">216</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">2</span>  <span class="hljs-number">218</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">3</span>  <span class="hljs-number">220</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">4</span>  <span class="hljs-number">222</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">5</span>  <span class="hljs-number">224</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">6</span>  <span class="hljs-number">226</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   
<span class="hljs-number">7</span>  <span class="hljs-number">228</span>   <span class="hljs-number">300002221</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">601318</span>   None   None   

     pub_date  start_date    end_date        ...            net_profit  \
<span class="hljs-number">0</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>        ...          <span class="hljs-number">7.214000e+09</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>        ...          <span class="hljs-number">3.160000e+08</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>        ...          <span class="hljs-number">8.390000e+09</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>        ...          <span class="hljs-number">8.969000e+09</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>        ...          <span class="hljs-number">1.028000e+10</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>        ...          <span class="hljs-number">1.810000e+08</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>        ...          <span class="hljs-number">1.385000e+10</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>        ...          <span class="hljs-number">1.374700e+10</span>   

   np_parent_company_owners  minority_profit   eps  basic_eps diluted_eps  \
<span class="hljs-number">0</span>              <span class="hljs-number">7.214000e+09</span>             None  None       None        None   
<span class="hljs-number">1</span>              <span class="hljs-number">3.160000e+08</span>             None  None       None        None   
<span class="hljs-number">2</span>              <span class="hljs-number">8.390000e+09</span>             None  None       None        None   
<span class="hljs-number">3</span>              <span class="hljs-number">8.969000e+09</span>             None  None       None        None   
<span class="hljs-number">4</span>              <span class="hljs-number">1.028000e+10</span>             None  None       None        None   
<span class="hljs-number">5</span>              <span class="hljs-number">1.810000e+08</span>             None  None       None        None   
<span class="hljs-number">6</span>              <span class="hljs-number">1.385000e+10</span>             None  None       None        None   
<span class="hljs-number">7</span>              <span class="hljs-number">1.374700e+10</span>             None  None       None        None   

  other_composite_income total_composite_income ci_parent_company_owners  \
<span class="hljs-number">0</span>            <span class="hljs-number">235000000.0</span>           <span class="hljs-number">7.449000e+09</span>                      NaN   
<span class="hljs-number">1</span>            <span class="hljs-number">-47000000.0</span>           <span class="hljs-number">2.690000e+08</span>                      NaN   
<span class="hljs-number">2</span>             <span class="hljs-number">85000000.0</span>           <span class="hljs-number">8.475000e+09</span>                      NaN   
<span class="hljs-number">3</span>            <span class="hljs-number">191000000.0</span>           <span class="hljs-number">9.160000e+09</span>                      NaN   
<span class="hljs-number">4</span>            <span class="hljs-number">436000000.0</span>           <span class="hljs-number">1.071600e+10</span>                      NaN   
<span class="hljs-number">5</span>            <span class="hljs-number">-38000000.0</span>           <span class="hljs-number">1.430000e+08</span>                      NaN   
<span class="hljs-number">6</span>            <span class="hljs-number">-48000000.0</span>           <span class="hljs-number">1.380200e+10</span>             <span class="hljs-number">1.380200e+10</span>   
<span class="hljs-number">7</span>              <span class="hljs-number">7000000.0</span>           <span class="hljs-number">1.375400e+10</span>             <span class="hljs-number">1.375400e+10</span>   

  ci_minority_owners  
<span class="hljs-number">0</span>               None  
<span class="hljs-number">1</span>               None  
<span class="hljs-number">2</span>               None  
<span class="hljs-number">3</span>               None  
<span class="hljs-number">4</span>               None  
<span class="hljs-number">5</span>               None  
<span class="hljs-number">6</span>               None  
<span class="hljs-number">7</span>               None  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">66</span> columns]
</code></pre>
<p><strong>字段信息展示：</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>公司主证券代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>a_code</td>
<td>A股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>b_code</td>
<td>B股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>h_code</td>
<td>H股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>start_date</td>
<td>开始日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>截止日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>report_date</td>
<td>报告期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>report_type</td>
<td>报告期类型</td>
<td>int</td>
<td>0本期，1上期</td>
</tr>
<tr>
<td>source_id</td>
<td>报表来源编码</td>
<td>int</td>
<td>如下报表来源编码</td>
</tr>
<tr>
<td>source</td>
<td>报表来源</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>operating_revenue</td>
<td>营业收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>interest_net_revenue</td>
<td>利息净收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>interest_income</td>
<td>利息收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>interest_expense</td>
<td>利息支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>commission_net_income</td>
<td>手续费及佣金净收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>commission_income</td>
<td>手续费及佣金收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>commission_expense</td>
<td>手续费及佣金支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>agent_security_income</td>
<td>代理买卖证券业务净收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>sell_security_income</td>
<td>证券承销业务净收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>manage_income</td>
<td>委托客户管理资产业务净收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>premiums_earned</td>
<td>已赚保费</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>assurance_income</td>
<td>保险业务收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>premiums_income</td>
<td>分保费收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>premiums_expense</td>
<td>分出保费</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>prepare_money</td>
<td>提取未到期责任准备金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>investment_income</td>
<td>投资收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_income_associates</td>
<td>对联营企业和合营企业的投资收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fair_value_variable_income</td>
<td>公允价值变动收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>exchange_income</td>
<td>汇兑收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_income</td>
<td>其他业务收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operation_expense</td>
<td>营业支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>refunded_premiums</td>
<td>退保金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>compensate_loss</td>
<td>赔付支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>compensation_back</td>
<td>摊回赔付支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>insurance_reserve</td>
<td>提取保险责任准备金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>insurance_reserve_back</td>
<td>摊回保险责任准备金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>policy_dividend_payout</td>
<td>保单红利支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>reinsurance_cost</td>
<td>分保费用</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operating_tax_surcharges</td>
<td>营业税金及附加</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>commission_expense2</td>
<td>手续费及佣金支出(保险专用)</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operation_manage_fee</td>
<td>业务及管理费</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>separate_fee</td>
<td>摊回分保费用</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>asset_impairment_loss</td>
<td>资产减值损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_cost</td>
<td>其他业务成本</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operating_profit</td>
<td>营业利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subsidy_income</td>
<td>补贴收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>non_operating_revenue</td>
<td>营业外收入</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>non_operating_expense</td>
<td>营业外支出</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_items_influenced_profit</td>
<td>影响利润总额的其他科目</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>total_profit</td>
<td>利润总额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>income_tax_expense</td>
<td>所得税费用</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_influence_net_profit</td>
<td>影响净利润的其他科目</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_profit</td>
<td>净利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>np_parent_company_owners</td>
<td>归属于母公司股东的净利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>minority_profit</td>
<td>少数股东损益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>eps</td>
<td>每股收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>basic_eps</td>
<td>基本每股收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>diluted_eps</td>
<td>稀释每股收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_composite_income</td>
<td>其他综合收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>total_composite_income</td>
<td>综合收益总额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>ci_parent_company_owners</td>
<td>归属于母公司的综合收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>ci_minority_owners</td>
<td>归属于少数股东的综合收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_earnings</td>
<td>其他收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>asset_deal_income</td>
<td>资产处置收益</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>sust_operate_net_profit</td>
<td>持续经营净利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>discon_operate_net_profit</td>
<td>终止经营净利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>credit_impairment_loss</td>
<td>信用减值损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong><span id="source8">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="现金流量表"></span>现金流量表</label>
      <label>金融类合并现金流量表、母公司现金流量表</label>
      <article style="display: block; height: 8093.51px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h3 id="">合并现金流量表</h3>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FINANCE_CASHFLOW_STATEMENT).filter(finance.FINANCE_CASHFLOW_STATEMENT.code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的合并现金流量表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_CASHFLOW_STATEMENT)</strong>：表示从finance.FINANCE_CASHFLOW_STATEMENT这张表中查询金融类上市公司合并现金流量的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_CASHFLOW_STATEMENT</strong>：代表金融类上市公司合并现金流量表，收录了金融类上市公司的合并现金流量，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.FINANCE_CASHFLOW_STATEMENT.code==code)</strong>：指定筛选条件，通过finance.FINANCE_CASHFLOW_STATEMENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_CASHFLOW_STATEMENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的合并现金流量信息；多个筛选条件用英文逗号分隔。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="hljs lsl">#查询中国平安<span class="hljs-number">2015</span>年之后公告的合并现金流量表数据，指定只取出本期数据经营活动现金流量净额，投资活动现金流量净额，以及筹资活动现金流量净额
from jqdatasdk import *
q=query(finance.FINANCE_CASHFLOW_STATEMENT.company_name,
        finance.FINANCE_CASHFLOW_STATEMENT.code,
        finance.FINANCE_CASHFLOW_STATEMENT.pub_date,
        finance.FINANCE_CASHFLOW_STATEMENT.start_date,
        finance.FINANCE_CASHFLOW_STATEMENT.end_date,
        finance.FINANCE_CASHFLOW_STATEMENT.net_operate_cash_flow,
        finance.FINANCE_CASHFLOW_STATEMENT.net_invest_cash_flow,
finance.FINANCE_CASHFLOW_STATEMENT.net_finance_cash_flow).filter(finance.FINANCE_CASHFLOW_STATEMENT.code=='<span class="hljs-number">601318.</span>XSHG',finance.FINANCE_CASHFLOW_STATEMENT.pub_date&gt;='<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>',finance.FINANCE_CASHFLOW_STATEMENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

       company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   net_operate_cash_flow  net_invest_cash_flow  net_finance_cash_flow  
<span class="hljs-number">0</span>           <span class="hljs-number">1.702600e+11</span>         <span class="hljs-number">-2.368890e+11</span>           <span class="hljs-number">8.536800e+10</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">6.114900e+10</span>         <span class="hljs-number">-4.478700e+10</span>           <span class="hljs-number">1.996200e+10</span>  
<span class="hljs-number">2</span>           <span class="hljs-number">2.478960e+11</span>         <span class="hljs-number">-1.355150e+11</span>           <span class="hljs-number">1.059350e+11</span>  
<span class="hljs-number">3</span>           <span class="hljs-number">1.710670e+11</span>         <span class="hljs-number">-1.442380e+11</span>           <span class="hljs-number">1.675280e+11</span>  
<span class="hljs-number">4</span>           <span class="hljs-number">1.356180e+11</span>         <span class="hljs-number">-2.737320e+11</span>           <span class="hljs-number">2.049760e+11</span>  
<span class="hljs-number">5</span>           <span class="hljs-number">1.192720e+11</span>         <span class="hljs-number">-1.241580e+11</span>           <span class="hljs-number">5.367100e+10</span>  
<span class="hljs-number">6</span>           <span class="hljs-number">6.599800e+10</span>         <span class="hljs-number">-2.663960e+11</span>           <span class="hljs-number">1.714720e+11</span>  
<span class="hljs-number">7</span>          <span class="hljs-number">-1.702500e+10</span>         <span class="hljs-number">-1.942610e+11</span>           <span class="hljs-number">1.291400e+11</span>  
</code></pre>
<h3 id="-1">母公司现金流量表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.FINANCE_CASHFLOW_STATEMENT_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FINANCE_CASHFLOW_STATEMENT_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的母公司现金流量表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_CASHFLOW_STATEMENT_PARENT)</strong>：表示从finance.FINANCE_CASHFLOW_STATEMENT_PARENT这张表中查询金融类上市公司母公司现金流量的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_CASHFLOW_STATEMENT_PARENT</strong>：代表金融类上市公司母公司现金流量表，收录了金融类上市公司的母公司现金流量，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.FINANCE_CASHFLOW_STATEMENT_PARENT.code==code)</strong>：指定筛选条件，通过finance.FINANCE_CASHFLOW_STATEMENT_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_CASHFLOW_STATEMENT_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的母公司现金流量信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询中国平安2015年之后公告的母公司现金流量表数据，指定只取出本期经营活动现金流量净额，投资活动现金流量净额，以及筹资活动现金流量净额</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(finance.FINANCE_CASHFLOW_STATEMENT_PARENT.company_name,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.code,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.pub_date,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.start_date,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.end_date,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.net_operate_cash_flow,
        finance.FINANCE_CASHFLOW_STATEMENT_PARENT.net_invest_cash_flow,
finance.FINANCE_CASHFLOW_STATEMENT_PARENT.net_finance_cash_flow).filter(finance.FINANCE_CASHFLOW_STATEMENT_PARENT.code==<span class="hljs-string">'601318.XSHG'</span>,finance.FINANCE_CASHFLOW_STATEMENT_PARENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.FINANCE_CASHFLOW_STATEMENT_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

       company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   net_operate_cash_flow  net_invest_cash_flow  net_finance_cash_flow  
<span class="hljs-number">0</span>            <span class="hljs-number">-88000000.0</span>         <span class="hljs-number">-1.433300e+10</span>           <span class="hljs-number">2.354300e+10</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">-202000000.0</span>         <span class="hljs-number">-7.180000e+08</span>           <span class="hljs-number">6.910000e+08</span>  
<span class="hljs-number">2</span>            <span class="hljs-number">-88000000.0</span>         <span class="hljs-number">-8.063000e+09</span>           <span class="hljs-number">3.010000e+09</span>  
<span class="hljs-number">3</span>            <span class="hljs-number">-25000000.0</span>         <span class="hljs-number">-1.116800e+10</span>          <span class="hljs-number">-7.130000e+09</span>  
<span class="hljs-number">4</span>           <span class="hljs-number">-203000000.0</span>         <span class="hljs-number">-1.099000e+10</span>          <span class="hljs-number">-5.711000e+09</span>  
<span class="hljs-number">5</span>           <span class="hljs-number">-533000000.0</span>          <span class="hljs-number">4.560000e+08</span>          <span class="hljs-number">-3.000000e+08</span>  
<span class="hljs-number">6</span>           <span class="hljs-number">-236000000.0</span>          <span class="hljs-number">3.237000e+09</span>          <span class="hljs-number">-1.620000e+09</span>  
<span class="hljs-number">7</span>           <span class="hljs-number">-418000000.0</span>          <span class="hljs-number">1.089500e+10</span>          <span class="hljs-number">-1.039000e+10</span>  
</code></pre>
<p><strong>字段信息展示：</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>公司主证券代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>a_code</td>
<td>A股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>b_code</td>
<td>B股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>h_code</td>
<td>H股代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>start_date</td>
<td>开始日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>截止日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>report_date</td>
<td>报告期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>report_type</td>
<td>报告期类型</td>
<td>int</td>
<td>0本期，1上期</td>
</tr>
<tr>
<td>source_id</td>
<td>报表来源编码</td>
<td>int</td>
<td>如下报表来源编码</td>
</tr>
<tr>
<td>source</td>
<td>报表来源</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>operate_cash_flow</td>
<td>经营活动产生的现金流量</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_loan_and_advance_decrease</td>
<td>客户贷款及垫款净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_deposit_increase</td>
<td>客户存款和同业存放款项净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_borrowing_from_central_bank</td>
<td>向中央银行借款净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_deposit_in_cb_and_ib_de</td>
<td>存放中央银行和同业款项净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_borrowing_from_finance_co</td>
<td>向其他金融机构拆入资金净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>interest_and_commission_cashin</td>
<td>收取利息、手续费及佣金的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>trade_asset_increase</td>
<td>处置交易性金融资产净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_increase_in_placements</td>
<td>拆入资金净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_buyback</td>
<td>回购业务资金净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>goods_sale_and_service_render_cash</td>
<td>销售商品、提供劳务收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>tax_levy_refund</td>
<td>收到的税费返还</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_original_insurance_cash</td>
<td>收到原保险合同保费取得的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>insurance_cash_amount</td>
<td>收到再保业务现金净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_insurer_deposit_investment</td>
<td>保户储金及投资款净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_operate_cash_inflow</td>
<td>经营活动现金流入小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_loan_and_advance_increase</td>
<td>客户贷款及垫款净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>saving_clients_decrease_amount</td>
<td>客户存放及同业存放款项净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_deposit_in_cb_and_ib</td>
<td>存放中央银行和同业款项净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>central_borrowing_decrease</td>
<td>向中央银行借款净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_money_increase</td>
<td>向其他金融机构拆出资金净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>purchase_trade_asset_increase</td>
<td>购入交易性金融资产净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>repurchase_decrease</td>
<td>回购业务资金净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>handling_charges_and_commission</td>
<td>支付利息、手续费及佣金的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>goods_and_services_cash_paid</td>
<td>购买商品、提供劳务支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_cash_re_insurance</td>
<td>支付再保业务现金净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>reserve_investment_decrease</td>
<td>保户储金及投资款净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>original_compensation_paid</td>
<td>支付原保险合同赔付款项的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>policy_dividend_cash_paid</td>
<td>支付保单红利的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>staff_behalf_paid</td>
<td>支付给职工以及为职工支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>tax_payments</td>
<td>支付的各项税费</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_operate_cash_outflow</td>
<td>经营活动现金流出小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_operate_cash_flow</td>
<td>经营活动现金流量净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_cash_flow</td>
<td>投资活动产生的现金流量</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_withdrawal_cash</td>
<td>收回投资收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_proceeds</td>
<td>取得投资收益收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>gain_from_disposal</td>
<td>处置固定资产、无形资产和其他长期资产所收回的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_invest_cash_inflow</td>
<td>投资活动现金流入小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_cash_paid</td>
<td>投资支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>impawned_loan_net_increase</td>
<td>质押贷款净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fix_intan_other_asset_acqui_cash</td>
<td>购建固定资产、无形资产和其他长期资产支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_invest_cash_outflow</td>
<td>投资活动现金流出小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_invest_cash_flow</td>
<td>投资活动现金流量净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>finance_cash_flow</td>
<td>筹资活动产生的现金流量</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_from_invest</td>
<td>吸收投资收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_from_bonds_issue</td>
<td>发行债券收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_from_borrowing</td>
<td>取得借款收到的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_finance_cash_inflow</td>
<td>筹资活动现金流入小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>borrowing_repayment</td>
<td>偿还债务支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>dividend_interest_payment</td>
<td>分配股利、利润或偿付利息支付的现金</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>subtotal_finance_cash_outflow</td>
<td>筹资活动现金流出小计</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_finance_cash_flow</td>
<td>筹资活动产生的现金流量净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>exchange_rate_change_effect</td>
<td>汇率变动对现金的影响</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_reason_effect_cash</td>
<td>其他原因对现金的影响</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_equivalent_increase</td>
<td>现金及现金等价物净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_equivalents_at_beginning</td>
<td>期初现金及现金等价物余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_and_equivalents_at_end</td>
<td>期末现金及现金等价物余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_profit_cashflow_adjustment</td>
<td>将净利润调节为经营活动现金流量</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_profit</td>
<td>净利润</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>assets_depreciation_reserves</td>
<td>资产减值准备</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fixed_assets_depreciation</td>
<td>固定资产折旧、油气资产折耗、生产性生物资产折旧</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>intangible_assets_amortization</td>
<td>无形资产摊销</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>defferred_expense_amortization</td>
<td>长期待摊费用摊销</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fix_intan_other_asset_dispo_loss</td>
<td>处置固定资产、无形资产和其他长期资产的损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fixed_asset_scrap_loss</td>
<td>固定资产报废损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>fair_value_change_loss</td>
<td>公允价值变动损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>financial_cost</td>
<td>财务费用</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>invest_loss</td>
<td>投资损失</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>deffered_tax_asset_decrease</td>
<td>递延所得税资产减少</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>deffered_tax_liability_increase</td>
<td>递延所得税负债增加</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>inventory_decrease</td>
<td>存货的减少</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operate_receivables_decrease</td>
<td>经营性应收项目的减少</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>operate_payable_increase</td>
<td>经营性应付项目的增加</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>others</td>
<td>其他</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_operate_cash_flow2</td>
<td>经营活动产生的现金流量净额_间接法</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>activities_not_relate_major</td>
<td>不涉及现金收支的重大投资和筹资活动</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>debt_to_capital</td>
<td>债务转为资本</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cbs_expiring_in_one_year</td>
<td>一年内到期的可转换公司债券</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>financial_lease_fixed_assets</td>
<td>融资租入固定资产</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>change_info_cash</td>
<td>现金及现金等价物净变动情况</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_at_end</td>
<td>现金的期末余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_at_beginning</td>
<td>现金的期初余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>equivalents_at_end</td>
<td>现金等价物的期末余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>equivalents_at_beginning</td>
<td>现金等价物的期初余额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>other_influence2</td>
<td>其他原因对现金的影响2</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>cash_equivalent_increase2</td>
<td>现金及现金等价物净增加额2</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>investment_property_depreciation</td>
<td>投资性房地产的折旧及摊销</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_dec_finance_out</td>
<td>融出资金净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_cash_received_from_proxy_secu</td>
<td>代理买卖证券收到的现金净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_inc_finance_out</td>
<td>融出资金净增加额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_cash_paid_to_proxy_secu</td>
<td>代理买卖证券支付的现金净额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>net_dec_in_placements</td>
<td>拆入资金净减少额</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
<tr>
<td>credit_impairment_loss</td>
<td>信用减值损失(现金流量表补充科目)</td>
<td>decimal(20,4)</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><p><strong><span id="source10">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="资产负债表"></span>资产负债表</label>
      <label>金融类合并资产负债表、母公司资产负债表 </label>
      <article style="display: block; height: 8841.73px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><h3 id="">合并资产负债表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.FINANCE_BALANCE_SHEET)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FINANCE_BALANCE_SHEET</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的合并资产负债表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_BALANCE_SHEET)</strong>：表示从finance.FINANCE_BALANCE_SHEET这张表中查询金融类上市公司合并资产负债的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_BALANCE_SHEET</strong>：代表金融类上市公司合并资产负债表，收录了金融类上市公司的合并资产负债，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.FINANCE_BALANCE_SHEET.code==code)</strong>：指定筛选条件，通过finance.FINANCE_BALANCE_SHEET.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_BALANCE_SHEET.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的合并资产负债信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询中国平安2015年之后公告的合并资产负债表数据，取出本期的货币资金，总资产和总负债</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FINANCE_BALANCE_SHEET.company_name,
        finance.FINANCE_BALANCE_SHEET.code,
        finance.FINANCE_BALANCE_SHEET.pub_date,
        finance.FINANCE_BALANCE_SHEET.start_date,
        finance.FINANCE_BALANCE_SHEET.end_date,
        finance.FINANCE_BALANCE_SHEET.cash_equivalents,
        finance.FINANCE_BALANCE_SHEET.total_assets,
        finance.FINANCE_BALANCE_SHEET.total_liability
).filter(finance.FINANCE_BALANCE_SHEET.code==<span class="hljs-string">'601318.XSHG'</span>,finance.FINANCE_BALANCE_SHEET.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.FINANCE_BALANCE_SHEET.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

       company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   cash_equivalents  total_assets  total_liability  
<span class="hljs-number">0</span>      <span class="hljs-number">4.427070e+11</span>  <span class="hljs-number">4.005911e+12</span>     <span class="hljs-number">3.652095e+12</span>  
<span class="hljs-number">1</span>      <span class="hljs-number">4.131880e+11</span>  <span class="hljs-number">4.215240e+12</span>     <span class="hljs-number">3.833842e+12</span>  
<span class="hljs-number">2</span>      <span class="hljs-number">4.510800e+11</span>  <span class="hljs-number">4.632287e+12</span>     <span class="hljs-number">4.227789e+12</span>  
<span class="hljs-number">3</span>      <span class="hljs-number">4.654240e+11</span>  <span class="hljs-number">4.667113e+12</span>     <span class="hljs-number">4.262293e+12</span>  
<span class="hljs-number">4</span>      <span class="hljs-number">4.750570e+11</span>  <span class="hljs-number">4.765159e+12</span>     <span class="hljs-number">4.351588e+12</span>  
<span class="hljs-number">5</span>      <span class="hljs-number">5.668130e+11</span>  <span class="hljs-number">5.006993e+12</span>     <span class="hljs-number">4.566653e+12</span>  
<span class="hljs-number">6</span>      <span class="hljs-number">5.210790e+11</span>  <span class="hljs-number">5.219782e+12</span>     <span class="hljs-number">4.757190e+12</span>  
<span class="hljs-number">7</span>      <span class="hljs-number">5.230110e+11</span>  <span class="hljs-number">5.296564e+12</span>     <span class="hljs-number">4.815950e+12</span>  
</code></pre>
<h3 id="-1">母公司资产负债表</h3>
<pre><code class="hljs reasonml">from jqdatasdk import finance
finance.run<span class="hljs-constructor">_query(<span class="hljs-params">query</span>(<span class="hljs-params">finance</span>.FINANCE_BALANCE_SHEET_PARENT)</span>.filter(finance.<span class="hljs-module-access"><span class="hljs-module"><span class="hljs-identifier">FINANCE_BALANCE_SHEET_PARENT</span>.</span></span>code==code).limit(n))
</code></pre>
<p>获取金融类上市公司的母公司资产负债表信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.FINANCE_BALANCE_SHEET_PARENT)</strong>：表示从finance.FINANCE_BALANCE_SHEET_PARENT这张表中查询金融类上市公司母公司资产负债的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.FINANCE_BALANCE_SHEET_PARENT</strong>：代表金融类上市公司母公司资产负债表，收录了金融类上市公司的母公司资产负债，表结构和字段信息如下：</p></li>
<li><p><strong>filter(finance.FINANCE_BALANCE_SHEET_PARENT.code==code)</strong>：指定筛选条件，通过finance.FINANCE_BALANCE_SHEET_PARENT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FINANCE_BALANCE_SHEET_PARENT.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日金融类上市公司公布的母公司资产负债信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询中国平安2015年之后公告的母公司资产负债表数据，取出本期的货币资金，总资产和总负债</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FINANCE_BALANCE_SHEET_PARENT.company_name,
        finance.FINANCE_BALANCE_SHEET_PARENT.code,
        finance.FINANCE_BALANCE_SHEET_PARENT.pub_date,
        finance.FINANCE_BALANCE_SHEET_PARENT.start_date,
        finance.FINANCE_BALANCE_SHEET_PARENT.end_date,
        finance.FINANCE_BALANCE_SHEET_PARENT.cash_equivalents,
        finance.FINANCE_BALANCE_SHEET_PARENT.total_assets,
        finance.FINANCE_BALANCE_SHEET_PARENT.total_liability
).filter(finance.FINANCE_BALANCE_SHEET_PARENT.code==<span class="hljs-string">'601318.XSHG'</span>,finance.FINANCE_BALANCE_SHEET_PARENT.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>,finance.FINANCE_BALANCE_SHEET_PARENT.report_type==<span class="hljs-number">0</span>).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

       company_name         code    pub_date  start_date    end_date  \
<span class="hljs-number">0</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-20</span>  <span class="hljs-number">2014</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-18</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">7</span>  中国平安保险(集团)股份有限公司  <span class="hljs-number">601318.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2016</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   cash_equivalents  total_assets  total_liability  
<span class="hljs-number">0</span>      <span class="hljs-number">2.621400e+10</span>  <span class="hljs-number">1.970230e+11</span>     <span class="hljs-number">1.733100e+10</span>  
<span class="hljs-number">1</span>      <span class="hljs-number">2.589900e+10</span>  <span class="hljs-number">1.980580e+11</span>     <span class="hljs-number">8.930000e+09</span>  
<span class="hljs-number">2</span>      <span class="hljs-number">2.080900e+10</span>  <span class="hljs-number">2.096090e+11</span>     <span class="hljs-number">1.610500e+10</span>  
<span class="hljs-number">3</span>      <span class="hljs-number">8.815000e+09</span>  <span class="hljs-number">2.004830e+11</span>     <span class="hljs-number">9.538000e+09</span>  
<span class="hljs-number">4</span>      <span class="hljs-number">1.017900e+10</span>  <span class="hljs-number">2.033480e+11</span>     <span class="hljs-number">1.080500e+10</span>  
<span class="hljs-number">5</span>      <span class="hljs-number">9.906000e+09</span>  <span class="hljs-number">2.031290e+11</span>     <span class="hljs-number">1.034900e+10</span>  
<span class="hljs-number">6</span>      <span class="hljs-number">1.023400e+10</span>  <span class="hljs-number">2.155980e+11</span>     <span class="hljs-number">1.557700e+10</span>  
<span class="hljs-number">7</span>      <span class="hljs-number">1.045300e+10</span>  <span class="hljs-number">2.069940e+11</span>     <span class="hljs-number">1.058500e+10</span>  
</code></pre>
<p><strong>字段信息展示</strong></p>
<table>
    <tbody><tr>
        <td>字段名称</td>
        <td>中文名称</td>
        <td>字段类型</td>
        <td>含义</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>公司主证券代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>a_code</td>
        <td>A股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>b_code</td>
        <td>B股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>h_code</td>
        <td>H股代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>截止日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_date</td>
        <td>报告期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>report_type</td>
        <td>报告期类型</td>
        <td>int</td>
        <td>0本期，1上期</td>
    </tr>
    <tr>
        <td>source_id</td>
        <td>报表来源编码</td>
        <td>int</td>
        <td>如下报表编码表</td>
    </tr>
    <tr>
        <td>source</td>
        <td>报表来源</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_in_ib</td>
        <td>存放同业款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_equivalents</td>
        <td>货币资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_client</td>
        <td>客户资金存款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>cash_in_cb</td>
        <td>现金及存放中央银行款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>settlement_provi</td>
        <td>结算备付金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>settlement_provi_client</td>
        <td>客户备付金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>metal</td>
        <td>贵金属</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>lend_capital</td>
        <td>拆出资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fairvalue_fianancial_asset</td>
        <td>以公允价值计量且其变动计入当期损益的金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_grow_asset</td>
        <td>衍生金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bought_sellback_assets</td>
        <td>买入返售金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_receivable</td>
        <td>应收利息</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>insurance_receivables</td>
        <td>应收保费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>recover_receivable</td>
        <td>应收代位追偿款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>separate_receivable</td>
        <td>应收分保帐款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>not_time_fund</td>
        <td>应收分保未到期责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>not_decide_fund</td>
        <td>应收分保未决赔款准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>response_fund</td>
        <td>应收分保寿险责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>health_fund</td>
        <td>应收分保长期健康险责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>margin_loan</td>
        <td>保户质押贷款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_period</td>
        <td>定期存款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>loan_and_advance</td>
        <td>发放贷款及垫款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>margin_out</td>
        <td>存出保证金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>agent_asset</td>
        <td>代理业务资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_reveiable</td>
        <td>应收款项类投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>advance_payment</td>
        <td>预付款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_for_sale_assets</td>
        <td>可供出售金融资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_to_maturity_investments</td>
        <td>持有至到期投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_equity_invest</td>
        <td>长期股权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>finance_out</td>
        <td>融出资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>capital_margin_out</td>
        <td>存出资本保证金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_property</td>
        <td>投资性房地产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>inventories</td>
        <td>存货</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_assets</td>
        <td>固定资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>constru_in_process</td>
        <td>在建工程</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>intangible_assets</td>
        <td>无形资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>trade_fee</td>
        <td>交易席位费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>long_deferred_expense</td>
        <td>长期待摊费用</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fixed_assets_liquidation</td>
        <td>固定资产清理</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>independent_account_asset</td>
        <td>独立帐户资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_tax_assets</td>
        <td>递延所得税资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_asset</td>
        <td>其他资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_assets</td>
        <td>资产总计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>borrowing_from_centralbank</td>
        <td>向中央银行借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_in_ib_and_other</td>
        <td>同业及其他金融机构存放款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>shortterm_loan</td>
        <td>短期借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>loan_pledge</td>
        <td>其中：质押借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>borrowing_capital</td>
        <td>拆入资金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>fairvalue_financial_liability</td>
        <td>以公允价值计量且其变动计入当期损益的金融负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>derivative_financial_liability</td>
        <td>衍生金融负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>sold_buyback_secu_proceeds</td>
        <td>卖出回购金融资产款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deposit_absorb</td>
        <td>吸收存款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>proxy_secu_proceeds</td>
        <td>代理买卖证券款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>proxy_sell_proceeds</td>
        <td>代理承销证券款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>accounts_payable</td>
        <td>应付账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>notes_payable</td>
        <td>应付票据</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>advance_peceipts</td>
        <td>预收款项</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>insurance_receive_early</td>
        <td>预收保费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>commission_payable</td>
        <td>应付手续费及佣金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>insurance_payable</td>
        <td>应付分保帐款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>salaries_payable</td>
        <td>应付职工薪酬</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>taxs_payable</td>
        <td>应交税费</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_payable</td>
        <td>应付利息</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>proxy_liability</td>
        <td>代理业务负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>estimate_liability</td>
        <td>预计负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>compensation_payable</td>
        <td>应付赔付款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>interest_insurance_payable</td>
        <td>应付保单红利</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>investment_money</td>
        <td>保户储金及投资款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>not_time_reserve</td>
        <td>未到期责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>not_decide_reserve</td>
        <td>未决赔款准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>live_reserve</td>
        <td>寿险责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_reserve</td>
        <td>长期健康险责任准备金</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>longterm_loan</td>
        <td>长期借款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bonds_payable</td>
        <td>应付债券</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>independent_account</td>
        <td>独立帐户负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>deferred_tax_liability</td>
        <td>递延所得税负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_liability</td>
        <td>其他负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_liability</td>
        <td>负债合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>paidin_capital</td>
        <td>实收资本(或股本)</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>capital_reserve_fund</td>
        <td>资本公积</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>treasury_stock</td>
        <td>减：库存股</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>surplus_reserve_fund</td>
        <td>盈余公积</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>equities_parent_company_owners</td>
        <td>归属于母公司所有者权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>retained_profit</td>
        <td>未分配利润</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>minority_interests</td>
        <td>少数股东权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>currency_mis</td>
        <td>外币报表折算差额</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_owner_equities</td>
        <td>所有者权益合计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>total_liability_equity</td>
        <td>负债和所有者权益总计</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>perferred_share_liability</td>
        <td>优先股-负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>account_receivable</td>
        <td>应收账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_equity_tools</td>
        <td>其他权益工具</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>perferred_share_equity</td>
        <td>优先股-权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>pep_debt_equity</td>
        <td>永续债-权益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_comprehensive_income</td>
        <td>其他综合收益</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>good_will</td>
        <td>商誉</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>shortterm_loan_payable</td>
        <td>应付短期融资款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>accounts_payable</td>
        <td>应付账款</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_assets</td>
        <td>合同资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>hold_sale_asset</td>
        <td>持有待售资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>bond_invest</td>
        <td>债权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_bond_invest</td>
        <td>其他债权投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_equity_tools_invest</td>
        <td>其他权益工具投资</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_liability</td>
        <td>合同负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>usufruct_assets</td>
        <td>使用权资产</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>liease_liability</td>
        <td>租赁负债</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>ordinary_risk_reserve_fund</td>
        <td>一般风险准备</td>
        <td>decimal(20,4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_operate_cash_paid</td>
        <td>支付其他与经营活动有关的现金(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_operate_cash_outflow</td>
        <td>经营活动现金流出小计(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>net_operate_cash_flow</td>
        <td>经营活动现金流量净额(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_cash_flow</td>
        <td>投资活动产生的现金流量(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_withdrawal_cash</td>
        <td>收回投资收到的现金(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>invest_proceeds</td>
        <td>取得投资收益收到的现金(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>other_cash_from_invest_act</td>
        <td>收到其他与投资活动有关的现金(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>gain_from_disposal</td>
        <td>处置固定资产、无形资产和其他长期资产所收回的现金(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>subtotal_invest_cash_inflow</td>
        <td>投资活动现金流入小计(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
    <tr>
        <td>long_deferred_expense</td>
        <td>长期待摊费用(元)</td>
        <td>decimal(20, 4)</td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><p><strong><span id="source12">报表来源编码</span></strong></p>
<table>
<thead>
<tr>
<th>编码</th>
<th>名称</th>
</tr>
</thead>
<tbody>
<tr>
<td>321001</td>
<td>招募说明书</td>
</tr>
<tr>
<td>321002</td>
<td>上市公告书</td>
</tr>
<tr>
<td>321003</td>
<td>定期报告</td>
</tr>
<tr>
<td>321004</td>
<td>预披露公告</td>
</tr>
<tr>
<td>321005</td>
<td>换股报告书</td>
</tr>
<tr>
<td>321099</td>
<td>其他</td>
</tr>
</tbody>
</table></li>
</ul></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h4 id="业绩预告">业绩预告</h4>
<ul>
<li><strong>更新时间：2005至今，每天20:30-24:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="STK_FIN_FORCAST"></span>STK_FIN_FORCAST</label>
      <label>业绩预告 / 2005至今，交易日18:00-24:00更新</label>
      <article style="display: block; height: 3004.7px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_FIN_FORCAST).filter(finance.STK_FIN_FORCAST.code==code).limit(n))
</code></pre>
<p>获取上市公司业绩预告等信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_FIN_FORCAST)</strong>：表示从finance.STK_FIN_FORCAST这张表中查询上市公司业绩报告的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_FIN_FORCAST</strong>：代表上市公司业绩预告表，收录了上市公司的业绩预告信息，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段</th>
<th>名称</th>
<th>类型</th>
<th>注释</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>公司名称</td>
<td>varchar(64)</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>报告期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>report_type_id</td>
<td>预告期类型编码</td>
<td>int</td>
<td>如下 预告期类型编码</td>
</tr>
<tr>
<td>report_type</td>
<td>预告期类型</td>
<td>varchar(32)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公布日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>type_id</td>
<td>预告类型编码</td>
<td>int</td>
<td>如下 业绩类型编码</td>
</tr>
<tr>
<td>type</td>
<td>预告类型</td>
<td>varchar(32)</td>
<td></td>
</tr>
<tr>
<td>profit_min</td>
<td>预告净利润（下限）</td>
<td>decimal(22,6)</td>
<td></td>
</tr>
<tr>
<td>profit_max</td>
<td>预告净利润（上限）</td>
<td>decimal(22,6)</td>
<td></td>
</tr>
<tr>
<td>profit_last</td>
<td>去年同期净利润</td>
<td>decimal(22,6)</td>
<td></td>
</tr>
<tr>
<td>profit_ratio_min</td>
<td>预告净利润变动幅度(下限)</td>
<td>decimal(10,4)</td>
<td>单位：%</td>
</tr>
<tr>
<td>profit_ratio_max</td>
<td>预告净利润变动幅度(上限)</td>
<td>decimal(10,4)</td>
<td>单位：%</td>
</tr>
<tr>
<td>content</td>
<td>预告内容</td>
<td>varchar(2048)</td>
<td></td>
</tr>
</tbody>
</table>
<p><strong><span id="type1">预告期类型编码</span></strong></p>
<table>
<thead>
<tr>
<th>预告期编码</th>
<th>预告期类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>304001</td>
<td>一季度预告</td>
</tr>
<tr>
<td>304002</td>
<td>中报预告</td>
</tr>
<tr>
<td>304003</td>
<td>三季度预告</td>
</tr>
<tr>
<td>304004</td>
<td>四季度预告</td>
</tr>
</tbody>
</table>
<p><strong><span id="type2">业绩类型编码</span></strong></p></li>
</ul>
<table>
    <tbody><tr>
        <td width="168"><strong>业绩类型编码</strong></td>
        <td width="106">305001</td>
        <td width="104">305002</td>
        <td width="97">305003</td>
        <td width="102">305004</td>
        <td width="103">305005</td>
        <td width="84">305006</td>
        <td width="72">305007</td>
    </tr>
    <tr>
        <td><strong>业绩类型</strong></td>
        <td>业绩大幅上升</td>
        <td>业绩预增</td>
        <td>业绩预盈</td>
        <td>预计扭亏</td>
        <td>业绩持平</td>
        <td>无大幅变动</td>
        <td><p>业绩</p>
        <p>预亏</p></td>
    </tr>
    <tr>
        <td><strong>业绩类型编码</strong></td>
        <td>305008</td>
        <td>305009</td>
        <td>305010</td>
        <td>305011</td>
        <td>305012</td>
        <td>305013</td>
        <td></td>
    </tr>
    <tr>
        <td><strong>业绩类型</strong></td>
        <td>业绩大幅下降</td>
        <td>大幅减亏</td>
        <td>业绩预降</td>
        <td>预计减亏</td>
        <td>不确定</td>
        <td>取消预测</td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><p><strong>filter(finance.STK_FIN_FORCAST.code==code)</strong>：指定筛选条件，通过finance.STK_FIN_FORCAST.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_FIN_FORCAST.pub_date&gt;='2015-01-01'，表示公告日期在2015年1月1日之后发布的业绩预告；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询贵州茅台2015年之后公布的业绩预告信息</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance 
q=query(finance.STK_FIN_FORCAST).filter(finance.STK_FIN_FORCAST.code==<span class="hljs-string">'600519.XSHG'</span>,finance.STK_FIN_FORCAST.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>)
df=finance.run_query(q)
print(df)

       id  company_id         code         name    end_date  report_type_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">581144</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>          <span class="hljs-number">304004</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">590510</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>          <span class="hljs-number">304004</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">592412</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>          <span class="hljs-number">304001</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">594174</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>          <span class="hljs-number">304002</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">598280</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>          <span class="hljs-number">304004</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">605646</span>   <span class="hljs-number">420600519</span>  <span class="hljs-number">600519.</span>XSHG  贵州茅台酒股份有限公司  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>          <span class="hljs-number">304004</span>   

  report_type    pub_date  type_id    type    profit_min    profit_max  \
<span class="hljs-number">0</span>       四季度预告  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span>   <span class="hljs-number">305001</span>  业绩大幅上升           NaN           NaN   
<span class="hljs-number">1</span>       四季度预告  <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>   <span class="hljs-number">305002</span>    业绩预增  <span class="hljs-number">3.400000e+10</span>  <span class="hljs-number">3.400000e+10</span>   
<span class="hljs-number">2</span>       一季度预告  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-05</span>   <span class="hljs-number">305002</span>    业绩预增           NaN           NaN   
<span class="hljs-number">3</span>        中报预告  <span class="hljs-number">2019</span><span class="hljs-number">-07</span><span class="hljs-number">-13</span>   <span class="hljs-number">305002</span>    业绩预增  <span class="hljs-number">1.990000e+10</span>  <span class="hljs-number">1.990000e+10</span>   
<span class="hljs-number">4</span>       四季度预告  <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>   <span class="hljs-number">305002</span>    业绩预增  <span class="hljs-number">4.050000e+10</span>  <span class="hljs-number">4.050000e+10</span>   
<span class="hljs-number">5</span>       四季度预告  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>   <span class="hljs-number">305002</span>    业绩预增  <span class="hljs-number">4.550000e+10</span>  <span class="hljs-number">4.550000e+10</span>   

    profit_last  profit_ratio_min  profit_ratio_max  \
<span class="hljs-number">0</span>  <span class="hljs-number">1.671836e+10</span>              <span class="hljs-number">58.0</span>              <span class="hljs-number">58.0</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2.707936e+10</span>              <span class="hljs-number">25.0</span>              <span class="hljs-number">25.0</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">8.506907e+09</span>              <span class="hljs-number">30.0</span>              <span class="hljs-number">30.0</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">1.576419e+10</span>              <span class="hljs-number">26.2</span>              <span class="hljs-number">26.2</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">3.520363e+10</span>              <span class="hljs-number">15.0</span>              <span class="hljs-number">15.0</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">4.120647e+10</span>              <span class="hljs-number">10.0</span>              <span class="hljs-number">10.0</span>   

                                             content  
<span class="hljs-number">0</span>          预计公司<span class="hljs-number">2017</span>年<span class="hljs-number">01</span><span class="hljs-number">-12</span>月归属于上市公司股东的净利润与上年同期相比增长<span class="hljs-number">58</span>%。  
<span class="hljs-number">1</span>  预计公司<span class="hljs-number">2018</span>年<span class="hljs-number">01</span><span class="hljs-number">-12</span>月归属于上市公司股东的净利润为<span class="hljs-number">3400000</span>万元，与上年同期相比...  
<span class="hljs-number">2</span>          预计公司<span class="hljs-number">2019</span>年<span class="hljs-number">01</span><span class="hljs-number">-03</span>月归属于上市公司股东的净利润与上年同期相比增长<span class="hljs-number">30</span>%。  
<span class="hljs-number">3</span>  预计公司<span class="hljs-number">2019</span>年<span class="hljs-number">01</span><span class="hljs-number">-06</span>月归属于上市公司股东的净利润为<span class="hljs-number">1990000</span>万元，与上年同期相比...  
<span class="hljs-number">4</span>  预计公司<span class="hljs-number">2019</span>年<span class="hljs-number">01</span><span class="hljs-number">-12</span>月归属于上市公司股东的净利润为<span class="hljs-number">4050000</span>万元，与上年同期相比...  
<span class="hljs-number">5</span>  预计公司<span class="hljs-number">2020</span>年<span class="hljs-number">01</span><span class="hljs-number">-12</span>月归属于上市公司股东的净利润为<span class="hljs-number">4550000</span>万元，与上年同期相比...  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h2 id="上市公司基础信息">上市公司基础信息</h2>

<h3 id="上市公司相关信息">上市公司相关信息</h3>

<h4 id="上市公司概况">上市公司概况</h4>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="STK_STATUS_CHANGE"></span>STK_STATUS_CHANGE</label>
      <label>公司状态变动 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 3170.36px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_STATUS_CHANGE).filter(finance.STK_STATUS_CHANGE.code==code).limit(n))
</code></pre>
<p>获取上市公司已发行未上市、正常上市、实行ST、*ST、暂停上市、终止上市的变动情况等</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_STATUS_CHANGE)</strong>：表示从finance.STK_STATUS_CHANGE这张表中查询上市公司的状态变动信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_STATUS_CHANGE</strong>：代表上市公司状态变动表，收录了上市公司已发行未上市、正常上市、实行ST、*ST、暂停上市、终止上市的变动情况等，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>机构ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>股票名称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>change_date</td>
<td>变更日期(实际变动日期)</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>public_status_id</td>
<td>上市状态编码</td>
<td>int</td>
<td>如下上市状态编码</td>
</tr>
<tr>
<td>public_status</td>
<td>上市状态</td>
<td>varchar(32)</td>
<td></td>
</tr>
<tr>
<td>change_reason</td>
<td>变更原因</td>
<td>varchar(500)</td>
<td></td>
</tr>
<tr>
<td>change_type_id</td>
<td>变更类型编码</td>
<td>int</td>
<td>如下变更类型编码</td>
</tr>
<tr>
<td>change_type</td>
<td>变更类型</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>comments</td>
<td>备注</td>
<td>varchar(255)</td>
<td></td>
</tr>
</tbody>
</table>
<p><span id="list_status">上市状态编码</span></p>
<table>
<thead>
<tr>
<th><strong>上市状态编码</strong></th>
<th><strong>上市状态</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>301001</td>
<td>正常上市</td>
</tr>
<tr>
<td>301002</td>
<td>ST</td>
</tr>
<tr>
<td>301003</td>
<td>*ST</td>
</tr>
<tr>
<td>301004</td>
<td>暂停上市</td>
</tr>
<tr>
<td>301005</td>
<td>进入退市整理期</td>
</tr>
<tr>
<td>301006</td>
<td>终止上市</td>
</tr>
<tr>
<td>301007</td>
<td>已发行未上市</td>
</tr>
<tr>
<td>301008</td>
<td>预披露</td>
</tr>
<tr>
<td>301009</td>
<td>未过会</td>
</tr>
<tr>
<td>301010</td>
<td>发行失败</td>
</tr>
<tr>
<td>301011</td>
<td>暂缓发行</td>
</tr>
<tr>
<td>301012</td>
<td>暂缓上市</td>
</tr>
<tr>
<td>301013</td>
<td>停止转让</td>
</tr>
<tr>
<td>301014</td>
<td>正常转让</td>
</tr>
<tr>
<td>301015</td>
<td>实行投资者适当性管理表示</td>
</tr>
<tr>
<td>301099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>变更类型编码</strong></th>
<th><strong>变更类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>303001</td>
<td>恢复上市</td>
</tr>
<tr>
<td>303002</td>
<td>摘星</td>
</tr>
<tr>
<td>303003</td>
<td>摘帽</td>
</tr>
<tr>
<td>303004</td>
<td>摘星摘帽</td>
</tr>
<tr>
<td>303005</td>
<td>披星</td>
</tr>
<tr>
<td>303006</td>
<td>戴帽</td>
</tr>
<tr>
<td>303007</td>
<td>戴帽披星</td>
</tr>
<tr>
<td>303008</td>
<td>拟上市</td>
</tr>
<tr>
<td>303009</td>
<td>新股上市</td>
</tr>
<tr>
<td>303010</td>
<td>发行失败</td>
</tr>
<tr>
<td>303011</td>
<td>暂停上市</td>
</tr>
<tr>
<td>303012</td>
<td>终止上市</td>
</tr>
<tr>
<td>303013</td>
<td>退市整理</td>
</tr>
<tr>
<td>303014</td>
<td>暂缓发行</td>
</tr>
<tr>
<td>303015</td>
<td>暂缓上市</td>
</tr>
<tr>
<td>303016</td>
<td>实行投资者适当性管理标识</td>
</tr>
<tr>
<td>303017</td>
<td>未过会</td>
</tr>
<tr>
<td>303018</td>
<td>预披露</td>
</tr>
<tr>
<td>303019</td>
<td>正常转让</td>
</tr>
<tr>
<td>303020</td>
<td>停止转让</td>
</tr>
<tr>
<td>303021</td>
<td>重新上市</td>
</tr>
<tr>
<td>303099</td>
<td>其他</td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_STATUS_CHANGE.code==code)</strong>：指定筛选条件，通过finance.STK_STATUS_CHANGE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_STATUS_CHANGE.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li>为了防止返回数据量过大, 我们每次最多返回5000行</li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 指定查询对象为恒瑞医药（600276.XSHG)的上市公司状态变动</span>
q=query(finance.STK_STATUS_CHANGE).filter(finance.STK_STATUS_CHANGE.code==<span class="hljs-string">'600276.XSHG'</span>).limit(<span class="hljs-number">10</span>)
df=finance.run_query(q)
print(df)

     id   company_id         code     name   pub_date    public_status_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">2840</span>    <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  恒瑞医药  <span class="hljs-number">2000</span><span class="hljs-number">-10</span><span class="hljs-number">-18</span>             <span class="hljs-number">301001</span>

  public_status   change_date  change_reason  change_type_id   change_type  comments
<span class="hljs-number">0</span>       正常上市    <span class="hljs-number">2000</span><span class="hljs-number">-10</span><span class="hljs-number">-18</span>            NaN           <span class="hljs-number">303009</span>      新股上市      NaN
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_COMPANY_INFO"></span>STK_COMPANY_INFO</label>
      <label>上市公司基本信息 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 3153.17px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_COMPANY_INFO).filter(finance.STK_COMPANY_INFO.code==code).limit(n))
</code></pre>
<p>获取上市公司最新公布的基本信息，包含注册资本，主营业务，行业分类等。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_COMPANY_INFO)</strong>：表示从finance.STK_COMPANY_INFO这张表中查询上市公司最新公布的基本信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_COMPANY_INFO</strong>：代表上市公司基本信息表，收录了上市公司最新公布的基本信息，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>证券代码</td>
<td>varchar(12)</td>
<td>多证券代码的优先级：A股&gt;B股</td>
</tr>
<tr>
<td>full_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>short_name</td>
<td>公司简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>a_code</td>
<td>A股股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>b_code</td>
<td>B股股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>h_code</td>
<td>H股股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>fullname_en</td>
<td>英文名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>shortname_en</td>
<td>英文简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>legal_representative</td>
<td>法人代表</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>register_location</td>
<td>注册地址</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>office_address</td>
<td>办公地址</td>
<td>varchar(150)</td>
<td></td>
</tr>
<tr>
<td>zipcode</td>
<td>邮政编码</td>
<td>varchar(10)</td>
<td></td>
</tr>
<tr>
<td>register_capital</td>
<td>注册资金</td>
<td>decimal(20,4)</td>
<td>单位：万元</td>
</tr>
<tr>
<td>currency_id</td>
<td>货币编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>currency</td>
<td>货币名称</td>
<td>varchar(32)</td>
<td></td>
</tr>
<tr>
<td>establish_date</td>
<td>成立日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>website</td>
<td>机构网址</td>
<td>varchar(80)</td>
<td></td>
</tr>
<tr>
<td>email</td>
<td>电子信箱</td>
<td>varchar(80)</td>
<td></td>
</tr>
<tr>
<td>contact_number</td>
<td>联系电话</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>fax_number</td>
<td>联系传真</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>main_business</td>
<td>主营业务</td>
<td>varchar(500)</td>
<td></td>
</tr>
<tr>
<td>business_scope</td>
<td>经营范围</td>
<td>varchar(4000)</td>
<td></td>
</tr>
<tr>
<td>description</td>
<td>机构简介</td>
<td>varchar(4000)</td>
<td></td>
</tr>
<tr>
<td>tax_number</td>
<td>税务登记号</td>
<td>varchar(50)</td>
<td></td>
</tr>
<tr>
<td>license_number</td>
<td>法人营业执照号</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>pub_newspaper</td>
<td>指定信息披露报刊</td>
<td>varchar(120)</td>
<td></td>
</tr>
<tr>
<td>pub_website</td>
<td>指定信息披露网站</td>
<td>varchar(120)</td>
<td></td>
</tr>
<tr>
<td>secretary</td>
<td>董事会秘书</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>secretary_number</td>
<td>董秘联系电话</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>secretary_fax</td>
<td>董秘联系传真</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>secretary_email</td>
<td>董秘电子邮箱</td>
<td>varchar(80)</td>
<td></td>
</tr>
<tr>
<td>security_representative</td>
<td>证券事务代表</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>province_id</td>
<td>所属省份编码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>province</td>
<td>所属省份</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>city_id</td>
<td>所属城市编码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>city</td>
<td>所属城市</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>industry_id</td>
<td>行业编码</td>
<td>varchar(12)</td>
<td>证监会行业分类</td>
</tr>
<tr>
<td>industry_1</td>
<td>行业一级分类</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>industry_2</td>
<td>行业二级分类</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>cpafirm</td>
<td>会计师事务所</td>
<td>varchar(200)</td>
<td></td>
</tr>
<tr>
<td>lawfirm</td>
<td>律师事务所</td>
<td>varchar(200)</td>
<td></td>
</tr>
<tr>
<td>ceo</td>
<td>总经理</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>comments</td>
<td>备注</td>
<td>varchar(300)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_COMPANY_INFO.code==code)</strong>：指定筛选条件，通过finance.STK_COMPANY_INFO.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_COMPANY_INFO.city=='北京市'，表示所属城市为北京市；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 指定查询对象为恒瑞医药（600276.XSHG)的上市公司基本信息，限定返回条数为10</span>
q=query(finance.STK_COMPANY_INFO).filter(finance.STK_COMPANY_INFO.code==<span class="hljs-string">'600276.XSHG'</span>).limit(<span class="hljs-number">10</span>)
df=finance.run_query(q)
print(df)

     id company_id         code            full_name     short_name  a_code b_code  \
<span class="hljs-number">0</span>  <span class="hljs-number">2474</span>  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  江苏恒瑞医药股份有限公司       恒瑞医药  <span class="hljs-number">600276</span>    NaN   

  h_code                        fullname_en       shortname_en  \
<span class="hljs-number">0</span>    NaN  Jiangsu Hengrui Medicine Co., Ltd.  Hengrui Medicine   

                         ...                             province city_id  city  \
<span class="hljs-number">0</span>                        ...                               江苏  <span class="hljs-number">320700</span>  连云港市   

  industry_id   industry_1    industry_2                          cpafirm    \
<span class="hljs-number">0</span>         C27        制造业      医药制造业  江苏苏亚金诚会计师事务所(特殊普通合伙)  

       lawfirm     ceo                                            comments  
<span class="hljs-number">0</span>  浩天律师事务所  周云曙   公司是国内少有的在研发方面投入较大的企业，现有多个品种在研，不仅在国内建                           立了研究机构，投入较...  

[<span class="hljs-number">1</span> rows x <span class="hljs-number">45</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="STK_LIST"></span>STK_LIST</label>
      <label>上市信息 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 1672.11px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_LIST).filter(finance.STK_LIST.code==code).limit(n))
</code></pre>
<p>获取沪深A股的上市信息，包含上市日期、交易所、发行价格、初始上市数量等</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_LIST)</strong>：表示从STK_LIST这张表中查询沪深A股的上市信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_LIST</strong>：代表股票上市信息表，收录了沪深A股的上市信息，包含上市日期、交易所、发行价格、初始上市数量等，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>证券代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>name</td>
<td>证券简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>short_name</td>
<td>拼音简称</td>
<td>varchar(20)</td>
<td></td>
</tr>
<tr>
<td>category</td>
<td>证券类别</td>
<td>varchar(4)</td>
<td>A/B</td>
</tr>
<tr>
<td>exchange</td>
<td>交易所</td>
<td>varchar(12)</td>
<td>XSHG/XSHE</td>
</tr>
<tr>
<td>start_date</td>
<td>上市日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>终止上市日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>ipo_shares</td>
<td>初始上市数量</td>
<td>decimal(20,2)</td>
<td>股</td>
</tr>
<tr>
<td>book_price</td>
<td>发行价格</td>
<td>decimal(20,4)</td>
<td>元</td>
</tr>
<tr>
<td>par_value</td>
<td>面值</td>
<td>decimal(20,4)</td>
<td>元</td>
</tr>
<tr>
<td>state_id</td>
<td>上市状态编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>state</td>
<td>上市状态</td>
<td>varchar(32)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_LIST.code==code)</strong>：指定筛选条件，通过finance.STK_LIST.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_LIST.start_date&gt;='2015-01-01'，表示筛选上市日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 指定查询对象为格力电器（000651.XSHG)的上市信息</span>
q=query(finance.STK_LIST).filter(finance.STK_LIST.code==<span class="hljs-string">'000651.XSHE'</span>)
df=finance.run_query(q)
print(df)

     id         code  name short_name category exchange  start_date end_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">1789</span>  <span class="hljs-number">000651.</span>XSHE  格力电器       GLDQ        A     XSHE  <span class="hljs-number">1996</span><span class="hljs-number">-11</span><span class="hljs-number">-18</span>     <span class="hljs-keyword">None</span>   

   company_id  company_name  ipo_shares  book_price  par_value  state_id state  
<span class="hljs-number">0</span>   <span class="hljs-number">430000651</span>  珠海格力电器股份有限公司  <span class="hljs-number">21000000.0</span>         <span class="hljs-number">2.5</span>        <span class="hljs-number">1.0</span>    <span class="hljs-number">301001</span>  正常上市  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_NAME_HISTORY"></span>STK_NAME_HISTORY</label>
      <label>简称变更情况 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 1602.27px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_NAME_HISTORY).filter(finance.STK_NAME_HISTORY.code==code).limit(n))
</code></pre>
<p>获取在A股市场和B股市场上市的股票简称的变更情况</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_NAME_HISTORY)</strong>：表示从finance.STK_NAME_HISTORY这张表中查询股票简称的变更情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_NAME_HISTORY</strong>：代表股票简称变更表，收录了在A股市场和B股市场上市的股票简称的变更情况，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>new_name</td>
<td>新股票简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>new_spelling</td>
<td>新英文简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>org_name</td>
<td>原证券简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>org_spelling</td>
<td>原证券英文简称</td>
<td>varchar(40)</td>
<td></td>
</tr>
<tr>
<td>start_date</td>
<td>开始日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>reason</td>
<td>变更原因</td>
<td>varchar(255)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_NAME_HISTORY.code==code)</strong>：指定筛选条件，通过finance.STK_NAME_HISTORY.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_NAME_HISTORY.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 指定查询对象为恒瑞医药（600276.XSHG)的股票简称变更信息</span>
q=query(finance.STK_NAME_HISTORY).filter(finance.STK_NAME_HISTORY.code==<span class="hljs-string">'600276.XSHG'</span>)
df=finance.run_query(q)
print(df)

     id         code company_id     new_name   new_spelling org_name org_spelling  \
<span class="hljs-number">0</span>  <span class="hljs-number">1459</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">420600276</span>     恒瑞医药         HRYY      NaN          NaN
<span class="hljs-number">1</span>  <span class="hljs-number">3588</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">420600276</span>      Ｇ恒瑞          ＧHR      NaN          NaN
<span class="hljs-number">2</span>  <span class="hljs-number">4007</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">420600276</span>     恒瑞医药         HRYY      NaN          NaN

   start_date    pub_date  reason
<span class="hljs-number">0</span>  <span class="hljs-number">2000</span><span class="hljs-number">-10</span><span class="hljs-number">-18</span>  <span class="hljs-number">2000</span><span class="hljs-number">-10</span><span class="hljs-number">-18</span>    NaN
<span class="hljs-number">1</span>  <span class="hljs-number">2006</span><span class="hljs-number">-06</span><span class="hljs-number">-20</span>  <span class="hljs-number">2006</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>    NaN
<span class="hljs-number">2</span>  <span class="hljs-number">2006</span><span class="hljs-number">-10</span><span class="hljs-number">-09</span>  <span class="hljs-number">2006</span><span class="hljs-number">-09</span><span class="hljs-number">-28</span>    NaN
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_EMPLOYEE_INFO"></span>STK_EMPLOYEE_INFO</label>
      <label>员工情况 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 1687.89px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_EMPLOYEE_INFO).filter(finance.STK_EMPLOYEE_INFO.code==code).limit(n))
</code></pre>
<p>获取上市公司在公告中公布的员工情况，包括员工人数、学历等信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_EMPLOYEE_INFO)</strong>：表示从finance.STK_EMPLOYEE_INFO这张表中查询上市公司员工情况的字段信息，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_EMPLOYEE_INFO</strong>：代表上市公司员工情况表，收录了上市公司在公告中公布的员工情况，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>证券代码</td>
<td>varchar(12)</td>
<td>'600276.XSHG'，'000001.XSHE'</td>
</tr>
<tr>
<td>name</td>
<td>证券名称</td>
<td>varchar(64)</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>报告期截止日</td>
<td>date</td>
<td>统计截止该报告期的员工信息</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>employee</td>
<td>在职员工总数</td>
<td>int</td>
<td>人</td>
</tr>
<tr>
<td>retirement</td>
<td>离退休人员</td>
<td>int</td>
<td>人</td>
</tr>
<tr>
<td>graduate_rate</td>
<td>研究生以上人员比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
<tr>
<td>college_rate</td>
<td>大学专科以上人员比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
<tr>
<td>middle_rate</td>
<td>中专及以下人员比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_EMPLOYEE_INFO.code==code)</strong>：指定筛选条件，通过finance.STK_EMPLOYEE_INFO.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_EMPLOYEE_INFO.pub_date&gt;='2015-01-01'，表示公告日期大于2015年1月1日上市公司公布的员工信息；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 指定查询对象为恒瑞医药（600276.XSHG)的员工信息且公告日期大于2015年1月1日，限定返回条数为4</span>
q=query(finance.STK_EMPLOYEE_INFO).filter(finance.STK_EMPLOYEE_INFO.code==<span class="hljs-string">'600276.XSHG'</span>,finance.STK_EMPLOYEE_INFO.pub_date&gt;=<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">4</span>)
df=finance.run_query(q)
print(df)

      id  company_id         code  name    end_date    pub_date  employee  \
<span class="hljs-number">0</span>  <span class="hljs-number">21542</span>   <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  恒瑞医药  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>      <span class="hljs-number">8770</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">21543</span>   <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  恒瑞医药  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-13</span>     <span class="hljs-number">10191</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">21544</span>   <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  恒瑞医药  <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-11</span>     <span class="hljs-number">12653</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">34881</span>   <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  恒瑞医药  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-16</span>     <span class="hljs-number">14864</span>   

  retirement  graduate_rate college_rate  middle_rate  
<span class="hljs-number">0</span>       <span class="hljs-keyword">None</span>         <span class="hljs-number">7.4344</span>         <span class="hljs-keyword">None</span>      <span class="hljs-number">55.1083</span>  
<span class="hljs-number">1</span>       <span class="hljs-keyword">None</span>        <span class="hljs-number">10.0677</span>         <span class="hljs-keyword">None</span>      <span class="hljs-number">50.5937</span>  
<span class="hljs-number">2</span>       <span class="hljs-keyword">None</span>        <span class="hljs-number">10.8907</span>         <span class="hljs-keyword">None</span>      <span class="hljs-number">45.9338</span>  
<span class="hljs-number">3</span>       <span class="hljs-keyword">None</span>        <span class="hljs-number">11.3294</span>         <span class="hljs-keyword">None</span>      <span class="hljs-number">41.9806</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="STK_MANAGEMENT_INFO"></span>STK_MANAGEMENT_INFO</label>
      <label>公司管理人员任职情况 / 2005年至今，交易日24:00更新</label>
      <article style="display: block; height: 3245.89px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_MANAGEMENT_INFO).filter(finance.STK_MANAGEMENT_INFO.code==code).order_by(finance.STK_MANAGEMENT_INFO.pub_date).limit(n)
</code></pre>
<p>记录上市公司管理人员的任职情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_MANAGEMENT_INFO)</strong>：表示从finance.STK_MANAGEMENT_INFO这张表中查询上市公司管理人员任职情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p>
<p><strong>finance.STK_MANAGEMENT_INFO</strong>：代表了公司管理人员任职情况表，收录了上市公司管理人员的任职情况，表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>字段类型</strong></td>
        <td><strong>备注/示例</strong></td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>person_id</td>
        <td>个人ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>name</td>
        <td>姓名</td>
        <td>varchar(40)</td>
        <td></td>
    </tr>
    <tr>
        <td>title_class_id</td>
        <td>职务类别编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>title_class</td>
        <td>职务类别</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>title</td>
        <td>职务名称</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>任职日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>leave_date</td>
        <td>离职日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>leave_reason</td>
        <td>离职原因</td>
        <td>varchar(255)</td>
        <td></td>
    </tr>
    <tr>
        <td>on_job</td>
        <td>是否在职</td>
        <td>char(1)</td>
        <td>0-否，1-是</td>
    </tr>
    <tr>
        <td>gender</td>
        <td>性别</td>
        <td>char(1)</td>
        <td>F-女；M-男</td>
    </tr>
    <tr>
        <td>birth_year</td>
        <td>出生年份</td>
        <td>varchar(8)</td>
        <td></td>
    </tr>
    <tr>
        <td>highest_degree_id</td>
        <td>最高学历编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>highest_degree</td>
        <td>最高学历</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>title_level_id</td>
        <td>职级编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>titile_level</td>
        <td>职级</td>
        <td>varchar(120)</td>
        <td><p>职级代表工作的难易程度、责任轻重以及所需的资格条件相同</p>
<p>或充分相似的职系的集合。如初级、中级、高级。</p></td>
    </tr>
    <tr>
        <td>profession_certificate</td>
        <td>专业技术资格</td>
        <td>varchar(120)</td>
        <td></td>
    </tr>
    <tr>
        <td>profession_certificate</td>
        <td>专业技术资格</td>
        <td>varchar(120)</td>
        <td></td>
    </tr>
    <tr>
        <td>nationality</td>
        <td>国籍</td>
        <td>varchar(60)</td>
        <td></td>
    </tr>
    <tr>
        <td>security_career_start_year</td>
        <td>从事证券业开始年份</td>
        <td>varchar(8)</td>
        <td></td>
    </tr>
    <tr>
        <td>resume</td>
        <td>个人简历</td>
        <td>varchar(3000)</td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(finance.STK_MANAGEMENT_INFO.code==code)</strong>：指定筛选条件，通过finance.STK_MANAGEMENT_INFO.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_MANAGEMENT_INFO.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>order_by(finance.STK_MANAGEMENT_INFO.pub_date)</strong>: 将返回结果按公告日期排序</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p>**为了防止返回数据量过大, 我们每次最多返回5000行 **</p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="hljs lsl">q=query(finance.STK_MANAGEMENT_INFO).filter(finance.STK_MANAGEMENT_INFO.code=='<span class="hljs-number">000001.</span>XSHE').order_by(finance.STK_MANAGEMENT_INFO.pub_date).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

# 输出
       id  company_id company_name         code    pub_date  person_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">138262</span>   <span class="hljs-number">430000001</span>   平安银行股份有限公司  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-10</span><span class="hljs-number">-10</span>  <span class="hljs-number">201309346</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">138263</span>   <span class="hljs-number">430000001</span>   平安银行股份有限公司  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-10</span><span class="hljs-number">-10</span>  <span class="hljs-number">201309346</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">138264</span>   <span class="hljs-number">430000001</span>   平安银行股份有限公司  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-10</span><span class="hljs-number">-10</span>  <span class="hljs-number">201309346</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">138265</span>   <span class="hljs-number">430000001</span>   平安银行股份有限公司  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-10</span><span class="hljs-number">-10</span>  <span class="hljs-number">201313341</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">138266</span>   <span class="hljs-number">430000001</span>   平安银行股份有限公司  <span class="hljs-number">000001.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-10</span><span class="hljs-number">-10</span>  <span class="hljs-number">201313342</span>   

      name  title_class_id title_class title  \
<span class="hljs-number">0</span>      肖遂宁          <span class="hljs-number">314001</span>       董事会成员    董事   
<span class="hljs-number">1</span>      肖遂宁          <span class="hljs-number">314003</span>        高管成员    行长   
<span class="hljs-number">2</span>      肖遂宁          <span class="hljs-number">314001</span>       董事会成员   董事长   
<span class="hljs-number">3</span>  罗伯特·巴内姆          <span class="hljs-number">314001</span>       董事会成员  独立董事   
<span class="hljs-number">4</span>      孙昌基          <span class="hljs-number">314001</span>       董事会成员  独立董事   

                         ...                         highest_degree_id  \
<span class="hljs-number">0</span>                        ...                                  <span class="hljs-number">316004.0</span>   
<span class="hljs-number">1</span>                        ...                                  <span class="hljs-number">316004.0</span>   
<span class="hljs-number">2</span>                        ...                                  <span class="hljs-number">316004.0</span>   
<span class="hljs-number">3</span>                        ...                                  <span class="hljs-number">316002.0</span>   
<span class="hljs-number">4</span>                        ...                                       NaN   

  highest_degree title_level_id title_level profession_certificate_id  \
<span class="hljs-number">0</span>          大专及其他       <span class="hljs-number">317003.0</span>          高级                      None   
<span class="hljs-number">1</span>          大专及其他       <span class="hljs-number">317003.0</span>          高级                      None   
<span class="hljs-number">2</span>          大专及其他       <span class="hljs-number">317003.0</span>          高级                      None   
<span class="hljs-number">3</span>          硕士研究生            NaN        None                      None   
<span class="hljs-number">4</span>           None       <span class="hljs-number">317003.0</span>          高级                      None   

  profession_certificate  nationality_id nationality  \
<span class="hljs-number">0</span>                   None            None        None   
<span class="hljs-number">1</span>                   None            None        None   
<span class="hljs-number">2</span>                   None            None        None   
<span class="hljs-number">3</span>                   None            None        None   
<span class="hljs-number">4</span>                   None            None        None   

   security_career_start_year  \
<span class="hljs-number">0</span>                        None   
<span class="hljs-number">1</span>                        None   
<span class="hljs-number">2</span>                        None   
<span class="hljs-number">3</span>                        None   
<span class="hljs-number">4</span>                        None   

                                              resume  
<span class="hljs-number">0</span>  肖遂宁先生：出生于<span class="hljs-number">1948</span>年<span class="hljs-number">2</span>月，高级经济师。曾任深圳发展银行总行行长、董事长，平安银行股份...  
<span class="hljs-number">1</span>  肖遂宁先生：出生于<span class="hljs-number">1948</span>年<span class="hljs-number">2</span>月，高级经济师。曾任深圳发展银行总行行长、董事长，平安银行股份...  
<span class="hljs-number">2</span>  肖遂宁先生：出生于<span class="hljs-number">1948</span>年<span class="hljs-number">2</span>月，高级经济师。曾任深圳发展银行总行行长、董事长，平安银行股份...  
<span class="hljs-number">3</span>  罗伯特巴内姆先生（RobertT.Barnum）自<span class="hljs-number">1997</span>年至今在美国加州的PokerFla...  
<span class="hljs-number">4</span>  孙昌基，男，研究员级高级工程师。<span class="hljs-number">1942</span>年<span class="hljs-number">8</span>月<span class="hljs-number">20</span>日出生于上海，<span class="hljs-number">1966</span>年<span class="hljs-number">9</span>月毕业于清华大学...  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">26</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="STK_XR_XD"></span>STK_XR_XD</label>
      <label>上市公司分红送股（除权除息）数据 / 2005至今，8:00更新</label>
      <article style="display: block; height: 5825.2px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_XR_XD).filter(finance.STK_XR_XD.code==code).order_by(finance.STK_XR_XD.report_date).limit(n)
</code></pre>
<p>记录由上市公司年报、中报、一季报、三季报统计出的分红转增情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_XR_XD)</strong>：表示从finance.STK_XR_XD这张表中查询上市公司除权除息的数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_XR_XD</strong>：代表除权除息数据表，记录由上市公司年报、中报、一季报、三季报统计出的分红转增情况。表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td width="353"><strong>字段名称</strong></td>
        <td width="140"><strong>中文名称</strong></td>
        <td width="137"><strong>字段类型</strong></td>
        <td width="120"><strong>能否为空</strong></td>
        <td width="320"><strong>含义</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td>N</td>
        <td>加后缀</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>机构ID</td>
        <td>int</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>机构名称</td>
        <td>varchar(100)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>report_date</td>
        <td>分红报告期</td>
        <td>date</td>
        <td>N</td>
        <td>一般为：一季报:YYYY-03-31;中报:YYYY-06-30;三季报:YYYY-09-30;年报:YYYY-12-31同时也可能存在其他日期</td>
    </tr>
    <tr>
        <td>bonus_type</td>
        <td>分红类型</td>
        <td>varchar(60)</td>
        <td></td>
        <td>201102新增,类型如下：年度分红 中期分红 季度分红 特别分红 向公众股东赠送 股改分红</td>
    </tr>
    <tr>
        <td>board_plan_pub_date</td>
        <td>董事会预案公告日期</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>board_plan_bonusnote</td>
        <td>董事会预案分红说明</td>
        <td>varchar(500)</td>
        <td></td>
        <td>每10股送XX转增XX派XX元</td>
    </tr>
    <tr>
        <td>distributed_share_base_board</td>
        <td>分配股本基数（董事会）</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>shareholders_plan_pub_date</td>
        <td>股东大会预案公告日期</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>shareholders_plan_bonusnote</td>
        <td>股东大会预案分红说明</td>
        <td>varchar(200)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>distributed_share_base_shareholders</td>
        <td>分配股本基数（股东大会）</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>implementation_pub_date</td>
        <td>实施方案公告日期</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>implementation_bonusnote</td>
        <td>实施方案分红说明</td>
        <td>varchar(200)</td>
        <td></td>
        <td>维护规则: 每10股送XX转增XX派XX元 或:不分配不转赠</td>
    </tr>
    <tr>
        <td>distributed_share_base_implement</td>
        <td>分配股本基数（实施）</td>
        <td></td>
        <td></td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>dividend_ratio</td>
        <td>送股比例</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>每10股送XX股</td>
    </tr>
    <tr>
        <td>transfer_ratio</td>
        <td>转增比例</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>每10股转增 XX股 ；</td>
    </tr>
    <tr>
        <td>bonus_ratio_rmb</td>
        <td>派息比例(人民币)</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>每10股派 XX。说明：这里的比例为最新的分配比例，预案公布的时候，预案的分配基数在此维护，如果股东大会或实施方案发生变化，再次进行修改，保证此处为最新的分配基数</td>
    </tr>
    <tr>
        <td>bonus_ratio_usd</td>
        <td>派息比例（美元）</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>每10股派 XX。说明：这里的比例为最新的分配比例，预案公布的时候，预案的分配基数在此维护，如果股东大会或实施方案发生变化，再次进行修改，保证此处为最新的分配基数 如果这里只告诉了汇率，没有公布具体的外币派息，则要计算出；</td>
    </tr>
    <tr>
        <td>bonus_ratio_hkd</td>
        <td>派息比例（港币）</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>每10股派 XX。说明：这里的比例为最新的分配比例，预案公布的时候，预案的分配基数在此维护，如果股东大会或实施方案发生变化，再次进行修改，保证此处为最新的分配基数 如果这里只告诉了汇率，没有公布具体的外币派息，则要计算出；</td>
    </tr>
    <tr>
        <td>at_bonus_ratio_rmb</td>
        <td>税后派息比例（人民币）</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>exchange_rate</td>
        <td>汇率</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>当日以外币（美元或港币）计价的B股价格兑换成人民币的汇率</td>
    </tr>
    <tr>
        <td>dividend_number</td>
        <td>送股数量</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>transfer_number</td>
        <td>转增数量</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>bonus_amount_rmb</td>
        <td>派息金额(人民币)</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万元</td>
    </tr>
    <tr>
        <td>a_registration_date</td>
        <td>A股股权登记日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_registration_date</td>
        <td>B股股权登记日</td>
        <td>date</td>
        <td></td>
        <td>B股股权登记存在最后交易日，除权基准日以及股权登记日三个日期，由于B股实行T+3制度，最后交易日持有的股份需要在3个交易日之后确定股东身份，然后在除权基准日进行除权。</td>
    </tr>
    <tr>
        <td>a_xr_date</td>
        <td>A股除权日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_xr_baseday</td>
        <td>B股除权基准日</td>
        <td>date</td>
        <td></td>
        <td>根据B股实行T＋3交收制度,则B股的“股权登记日”是“最后交易日”后的第 三个交易日,直至“股权登记日”这一日为止,B股投资者的股权登记才告完成,也 就意味着B股股份至股权登记日为止,才真正划入B股投资者的名下。</td>
    </tr>
    <tr>
        <td>b_final_trade_date</td>
        <td>B股最后交易日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>a_bonus_date</td>
        <td>派息日(A)</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_bonus_date</td>
        <td>派息日(B)</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>dividend_arrival_date</td>
        <td>红股到帐日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>a_increment_listing_date</td>
        <td>A股新增股份上市日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_increment_listing_date</td>
        <td>B股新增股份上市日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>total_capital_before_transfer</td>
        <td>送转前总股本</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>total_capital_after_transfer</td>
        <td>送转后总股本</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>float_capital_before_transfer</td>
        <td>送转前流通股本</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>float_capital_after_transfer</td>
        <td>送转后流通股本</td>
        <td>decimal(20,4)</td>
        <td></td>
        <td>单位：万股</td>
    </tr>
    <tr>
        <td>note</td>
        <td>备注</td>
        <td>varchar(500)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>a_transfer_arrival_date</td>
        <td>A股转增股份到帐日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_transfer_arrival_date</td>
        <td>B股转增股份到帐日</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>b_dividend_arrival_date</td>
        <td>B股送红股到帐日</td>
        <td>date</td>
        <td></td>
        <td>20080801新增</td>
    </tr>
    <tr>
        <td>note_of_no_dividend</td>
        <td>有关不分配的说明</td>
        <td>varchar(1000)</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>plan_progress_code</td>
        <td>方案进度编码</td>
        <td>int</td>
        <td></td>
        <td></td>
    </tr>
    <tr>
        <td>plan_progress</td>
        <td>方案进度</td>
        <td>varchar(60)</td>
        <td></td>
        <td>董事会预案 实施方案 股东大会预案 取消分红 公司预案</td>
    </tr>
    <tr>
        <td>bonus_cancel_pub_date</td>
        <td>取消分红公告日期</td>
        <td>date</td>
        <td></td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><p><strong>filter(finance.STK_XR_XD.report_date==report_date)</strong>：指定筛选条件，通过finance.STK_XR_XD.report_date==report_date可以指定你想要查询的分红报告期；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_XR_XD.code=='000001.XSHE'，表示筛选股票编码为000001.XSHE的数据； 多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>order_by(finance.STK_XR_XD.report_date)</strong>: 将返回结果按分红报告期排序</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个dataframe，每一行对应数据表中的一条数据，列索引是你所查询的字段名称。</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><p><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></p></li>
<li><p>不能进行连表查询，即同时查询多张表的数据</p>
<p><strong>示例：</strong></p></li>
</ol>
<pre><code class="python language-python hljs">q=query(finance.STK_XR_XD).filter(finance.STK_XR_XD.report_date&gt;=<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df = finance.run_query(q)
print(df)

      id  company_id      company_name         code report_date bonus_type  \
<span class="hljs-number">0</span>  <span class="hljs-number">19</span>   <span class="hljs-number">300000062</span>  广东德美精细化工集团股份有限公司  <span class="hljs-number">002054.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>       中期分红   
<span class="hljs-number">1</span>  <span class="hljs-number">20</span>   <span class="hljs-number">300000062</span>  广东德美精细化工集团股份有限公司  <span class="hljs-number">002054.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>       年度分红   
<span class="hljs-number">2</span>  <span class="hljs-number">21</span>   <span class="hljs-number">300000062</span>  广东德美精细化工集团股份有限公司  <span class="hljs-number">002054.</span>XSHE  <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>       中期分红   
<span class="hljs-number">3</span>  <span class="hljs-number">22</span>   <span class="hljs-number">300000062</span>  广东德美精细化工集团股份有限公司  <span class="hljs-number">002054.</span>XSHE  <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>       年度分红   
<span class="hljs-number">4</span>  <span class="hljs-number">23</span>   <span class="hljs-number">300000062</span>  广东德美精细化工集团股份有限公司  <span class="hljs-number">002054.</span>XSHE  <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>       中期分红   

  board_plan_pub_date board_plan_bonusnote  distributed_share_base_board  \
<span class="hljs-number">0</span>          <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span>               不分配不转增                           NaN   
<span class="hljs-number">1</span>          <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>          <span class="hljs-number">10</span>派<span class="hljs-number">1.2</span>元(含税)                    <span class="hljs-number">41923.0828</span>   
<span class="hljs-number">2</span>          <span class="hljs-number">2016</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>               不分配不转增                           NaN   
<span class="hljs-number">3</span>          <span class="hljs-number">2017</span><span class="hljs-number">-04</span><span class="hljs-number">-25</span>          <span class="hljs-number">10</span>派<span class="hljs-number">1.2</span>元(含税)                    <span class="hljs-number">41923.0828</span>   
<span class="hljs-number">4</span>          <span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span>               不分配不转增                           NaN   

  shareholders_plan_pub_date          ...           \
<span class="hljs-number">0</span>                       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">1</span>                 <span class="hljs-number">2016</span><span class="hljs-number">-05</span><span class="hljs-number">-18</span>          ...            
<span class="hljs-number">2</span>                       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">3</span>                 <span class="hljs-number">2017</span><span class="hljs-number">-05</span><span class="hljs-number">-17</span>          ...            
<span class="hljs-number">4</span>                       <span class="hljs-keyword">None</span>          ...            

  float_capital_before_transfer  float_capital_after_transfer  note  \
<span class="hljs-number">0</span>                          <span class="hljs-keyword">None</span>                          <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>                          <span class="hljs-keyword">None</span>                          <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>                          <span class="hljs-keyword">None</span>                          <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>                          <span class="hljs-keyword">None</span>                          <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>                          <span class="hljs-keyword">None</span>                          <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   

  a_transfer_arrival_date  b_transfer_arrival_date b_dividend_arrival_date  \
<span class="hljs-number">0</span>                    <span class="hljs-keyword">None</span>                     <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>                    <span class="hljs-keyword">None</span>                     <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>                    <span class="hljs-keyword">None</span>                     <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>                    <span class="hljs-keyword">None</span>                     <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>                    <span class="hljs-keyword">None</span>                     <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   

  note_of_no_dividend  plan_progress_code plan_progress bonus_cancel_pub_date  
<span class="hljs-number">0</span>                <span class="hljs-keyword">None</span>              <span class="hljs-number">313001</span>         董事会预案                  <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>                <span class="hljs-keyword">None</span>              <span class="hljs-number">313002</span>          实施方案                  <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>                <span class="hljs-keyword">None</span>              <span class="hljs-number">313001</span>         董事会预案                  <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>                <span class="hljs-keyword">None</span>              <span class="hljs-number">313002</span>          实施方案                  <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>                <span class="hljs-keyword">None</span>              <span class="hljs-number">313001</span>         董事会预案                  <span class="hljs-keyword">None</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">47</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h4 id="上市公司股东和股本信息">上市公司股东和股本信息</h4>
<ul>
<li><strong>更新时间：2005年至今，交易日24:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="STK_SHAREHOLDER_TOP10"></span>STK_SHAREHOLDER_TOP10</label>
      <label>十大股东</label>
      <article style="display: block; height: 3409.45px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_SHAREHOLDER_TOP10).filter(finance.STK_SHAREHOLDER_TOP10.code==code).limit(n))
</code></pre>
<p>获取上市公司前十大股东的持股情况，包括持股数量，所持股份性质，变动原因等。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_SHAREHOLDER_TOP10)</strong>：表示从finance.STK_SHAREHOLDER_TOP10这张表中查询上市公司前十大股东的持股情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_SHAREHOLDER_TOP10</strong>：代表上市公司十大股东表，收录了上市公司前十大股东的持股情况，包括持股数量，所持股份性质，变动原因等。表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td>在此是指上市公司的名称</td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>截止日期</td>
<td>date</td>
<td>公告中统计的十大股东截止到某一日期的更新情况。</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td>公告中会提到十大股东的更新情况。</td>
</tr>
<tr>
<td>change_reason_id</td>
<td>变动原因编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>change_reason</td>
<td>变动原因</td>
<td>varchar(120)</td>
<td></td>
</tr>
<tr>
<td>shareholder_rank</td>
<td>股东名次</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_name</td>
<td>股东名称</td>
<td>varchar(200)</td>
<td></td>
</tr>
<tr>
<td>shareholder_name_en</td>
<td>股东名称（英文）</td>
<td>varchar(200)</td>
<td></td>
</tr>
<tr>
<td>shareholder_id</td>
<td>股东ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_class_id</td>
<td>股东类别编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_class</td>
<td>股东类别</td>
<td>varchar(150)</td>
<td>包括:券商、社保基金、证券投资基金、保险公司、QFII、其它机构、个人等</td>
</tr>
<tr>
<td>share_number</td>
<td>持股数量</td>
<td>decimal(10,4)</td>
<td>股</td>
</tr>
<tr>
<td>share_ratio</td>
<td>持股比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
<tr>
<td>sharesnature_id</td>
<td>股份性质编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>sharesnature</td>
<td>股份性质</td>
<td>varchar(120)</td>
<td>包括:国家股、法人股、个人股外资股、流通A股、流通B股、职工股、发起人股、转配股等</td>
</tr>
<tr>
<td>share_pledge_freeze</td>
<td>股份质押冻结数量</td>
<td>decimal(10,4)</td>
<td>如果股份质押数量和股份冻结数量任意一个字段有值，则等于后两者之和</td>
</tr>
<tr>
<td>share_pledge</td>
<td>股份质押数量</td>
<td>decimal(10,4)</td>
<td></td>
</tr>
<tr>
<td>share_freeze</td>
<td>股份冻结数量</td>
<td>decimal(10,4)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_SHAREHOLDER_TOP10.code==code)</strong>：指定筛选条件，通过finance.STK_SHAREHOLDER_TOP10.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_SHAREHOLDER_TOP10.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为恒瑞医药（600276.XSHG)的十大股东情况，限定返回条数为10条</span>
q=query(finance.STK_SHAREHOLDER_TOP10).filter(finance.STK_SHAREHOLDER_TOP10.code==<span class="hljs-string">'600276.XSHG'</span>,finance.STK_SHAREHOLDER_TOP10.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">10</span>)
df=finance.run_query(q)
print(df)

       id  company_name           company_id         code    end_date    pub_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">753808</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">1</span>  <span class="hljs-number">753809</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">2</span>  <span class="hljs-number">753810</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">3</span>  <span class="hljs-number">753811</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">4</span>  <span class="hljs-number">753812</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">5</span>  <span class="hljs-number">753813</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">6</span>  <span class="hljs-number">753814</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">7</span>  <span class="hljs-number">753815</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">8</span>  <span class="hljs-number">753816</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>
<span class="hljs-number">9</span>  <span class="hljs-number">753817</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">420600276</span>  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>

  change_reason_id change_reason     shareholder_rank  \
<span class="hljs-number">0</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">4</span>
<span class="hljs-number">1</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">9</span>
<span class="hljs-number">2</span>           <span class="hljs-number">306019</span>          定期报告               <span class="hljs-number">10</span>
<span class="hljs-number">3</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">2</span>
<span class="hljs-number">4</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">3</span>
<span class="hljs-number">5</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">5</span>
<span class="hljs-number">6</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">6</span>
<span class="hljs-number">7</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">7</span>
<span class="hljs-number">8</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">8</span>
<span class="hljs-number">9</span>           <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">1</span>

                    shareholder_name     ...                   shareholder_id  \
<span class="hljs-number">0</span>                         中国医药工业有限公司     ...                  <span class="hljs-number">100014895</span>
<span class="hljs-number">1</span>               交通银行-博时新兴成长股票型证券投资基金     ...           <span class="hljs-number">120050009</span>
<span class="hljs-number">2</span>   新华人寿保险股份有限公司-分红-团体分红<span class="hljs-number">-018L</span>-FH001沪     ...           <span class="hljs-number">100000383</span>
<span class="hljs-number">3</span>                         西藏达远投资有限公司     ...                   <span class="hljs-number">100097529</span>
<span class="hljs-number">4</span>                      连云港恒创医药科技有限公司     ...                <span class="hljs-number">100008678</span>
<span class="hljs-number">5</span>                         江苏金海投资有限公司     ...                   <span class="hljs-number">100008257</span>
<span class="hljs-number">6</span>                         香港中央结算有限公司     ...                   <span class="hljs-number">100011907</span>
<span class="hljs-number">7</span>  中国农业银行股份有限公司-国泰国证医药卫生行业指数分级证券投资基金     ...   <span class="hljs-number">120160219</span>
<span class="hljs-number">8</span>         兴业银行股份有限公司-兴全趋势投资混合型证券投资基金     ...        <span class="hljs-number">120163402</span>
<span class="hljs-number">9</span>                       江苏恒瑞医药集团有限公司     ...                   <span class="hljs-number">100008682</span>

  shareholder_class_id shareholder_class share_number share_ratio  \
<span class="hljs-number">0</span>               <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">73000000.0</span>        <span class="hljs-number">4.85</span>
<span class="hljs-number">1</span>               <span class="hljs-number">307003</span>            证券投资基金   <span class="hljs-number">10107880.0</span>        <span class="hljs-number">0.67</span>
<span class="hljs-number">2</span>               <span class="hljs-number">307014</span>            保险投资组合    <span class="hljs-number">9820232.0</span>        <span class="hljs-number">0.65</span>
<span class="hljs-number">3</span>               <span class="hljs-number">307099</span>              其他机构  <span class="hljs-number">240536692.0</span>       <span class="hljs-number">15.99</span>
<span class="hljs-number">4</span>               <span class="hljs-number">307099</span>              其他机构  <span class="hljs-number">112278458.0</span>        <span class="hljs-number">7.47</span>
<span class="hljs-number">5</span>               <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">53474244.0</span>        <span class="hljs-number">3.56</span>
<span class="hljs-number">6</span>               <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">30821240.0</span>        <span class="hljs-number">2.05</span>
<span class="hljs-number">7</span>               <span class="hljs-number">307003</span>            证券投资基金   <span class="hljs-number">12489920.0</span>        <span class="hljs-number">0.83</span>
<span class="hljs-number">8</span>               <span class="hljs-number">307003</span>            证券投资基金   <span class="hljs-number">11999901.0</span>         <span class="hljs-number">0.8</span>
<span class="hljs-number">9</span>               <span class="hljs-number">307099</span>              其他机构  <span class="hljs-number">365776169.0</span>       <span class="hljs-number">24.32</span>

  sharesnature_id    sharesnature    share_pledge_freeze   share_pledge  share_freeze
<span class="hljs-number">0</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">1</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">2</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">3</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">4</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">5</span>          <span class="hljs-number">308007</span>         流通A股          <span class="hljs-number">53474244.0</span>   <span class="hljs-number">53474244.0</span>          NaN
<span class="hljs-number">6</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">7</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">8</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
<span class="hljs-number">9</span>          <span class="hljs-number">308007</span>         流通A股                 NaN          NaN          NaN
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="STK_SHAREHOLDER_FLOATING_TOP10"></span>STK_SHAREHOLDER_FLOATING_TOP10</label>
      <label>十大流通股东</label>
      <article style="display: block; height: 3101.02px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_SHAREHOLDER_FLOATING_TOP10).filter(finance.STK_SHAREHOLDER_FLOATING_TOP10.code==code).limit(n))
</code></pre>
<p>获取上市公司前十大流通股东的持股情况，包括持股数量，所持股份性质，变动原因等。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_SHAREHOLDER_FLOATING_TOP10)</strong>：表示从finance.STK_SHAREHOLDER_FLOATING_TOP10这张表中查询上市公司前十大流通股东的持股情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_SHAREHOLDER_FLOATING_TOP10</strong>：代表上市公司十大流通股东表，收录了上市公司前十大流通股东的持股情况，包括持股数量，所持股份性质，变动原因等。表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>截止日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>change_reason_id</td>
<td>变动原因编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>change_reason</td>
<td>变动原因</td>
<td>varchar(120)</td>
<td></td>
</tr>
<tr>
<td>shareholder_rank</td>
<td>股东名次</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_id</td>
<td>股东ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_name</td>
<td>股东名称</td>
<td>varchar(200)</td>
<td></td>
</tr>
<tr>
<td>shareholder_name_en</td>
<td>股东名称（英文）</td>
<td>varchar(150)</td>
<td></td>
</tr>
<tr>
<td>shareholder_class_id</td>
<td>股东类别编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>shareholder_class</td>
<td>股东类别</td>
<td>varchar(150)</td>
<td></td>
</tr>
<tr>
<td>share_number</td>
<td>持股数量</td>
<td>int</td>
<td>股</td>
</tr>
<tr>
<td>share_ratio</td>
<td>持股比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
<tr>
<td>sharesnature_id</td>
<td>股份性质编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>sharesnature</td>
<td>股份性质</td>
<td>varchar(120)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_SHAREHOLDER_FLOATING_TOP10.code==code)</strong>：指定筛选条件，通过finance.STK_SHAREHOLDER_FLOATING_TOP10.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_SHAREHOLDER_FLOATING_TOP10.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为恒瑞医药（600276.XSHG)的十大流通股东情况，返回条数为10条</span>
q=query(finance.STK_SHAREHOLDER_FLOATING_TOP10).filter(finance.STK_SHAREHOLDER_FLOATING_TOP10.code==<span class="hljs-string">'600276.XSHG'</span>,finance.STK_SHAREHOLDER_FLOATING_TOP10.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">10</span>)
df=finance.run_query(q)
print(df)

       id  company_id  company_name         code    end_date    pub_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">585806</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">585807</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">585808</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">585809</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">585810</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">585811</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">585812</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">585813</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">585814</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">585815</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>   

   change_reason_id change_reason  shareholder_rank  shareholder_id  \
<span class="hljs-number">0</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">1</span>       <span class="hljs-number">100008682</span>   
<span class="hljs-number">1</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">2</span>       <span class="hljs-number">100097529</span>   
<span class="hljs-number">2</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">3</span>       <span class="hljs-number">100008678</span>   
<span class="hljs-number">3</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">4</span>       <span class="hljs-number">100014895</span>   
<span class="hljs-number">4</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">5</span>       <span class="hljs-number">100008257</span>   
<span class="hljs-number">5</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">6</span>       <span class="hljs-number">100011907</span>   
<span class="hljs-number">6</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">7</span>       <span class="hljs-number">120160219</span>   
<span class="hljs-number">7</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">8</span>       <span class="hljs-number">120163402</span>   
<span class="hljs-number">8</span>            <span class="hljs-number">306019</span>          定期报告                 <span class="hljs-number">9</span>       <span class="hljs-number">120050009</span>   
<span class="hljs-number">9</span>            <span class="hljs-number">306019</span>          定期报告                <span class="hljs-number">10</span>       <span class="hljs-number">100000383</span>   

                    shareholder_name shareholder_name_en  \
<span class="hljs-number">0</span>                       江苏恒瑞医药集团有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>                         西藏达远投资有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>                      连云港恒创医药科技有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>                         中国医药工业有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>                         江苏金海投资有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">5</span>                         香港中央结算有限公司                <span class="hljs-keyword">None</span>   
<span class="hljs-number">6</span>  中国农业银行股份有限公司-国泰国证医药卫生行业指数分级证券投资基金                <span class="hljs-keyword">None</span>   
<span class="hljs-number">7</span>         兴业银行股份有限公司-兴全趋势投资混合型证券投资基金                <span class="hljs-keyword">None</span>   
<span class="hljs-number">8</span>               交通银行-博时新兴成长股票型证券投资基金                <span class="hljs-keyword">None</span>   
<span class="hljs-number">9</span>   新华人寿保险股份有限公司-分红-团体分红<span class="hljs-number">-018L</span>-FH001沪                <span class="hljs-keyword">None</span>   

   shareholder_class_id shareholder_class  share_number  share_ratio  \
<span class="hljs-number">0</span>                <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">332523790.0</span>       <span class="hljs-number">22.109</span>   
<span class="hljs-number">1</span>                <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">229034683.0</span>       <span class="hljs-number">15.228</span>   
<span class="hljs-number">2</span>                <span class="hljs-number">307099</span>              其他机构   <span class="hljs-number">102094053.0</span>        <span class="hljs-number">6.788</span>   
<span class="hljs-number">3</span>                <span class="hljs-number">307099</span>              其他机构    <span class="hljs-number">70203316.0</span>        <span class="hljs-number">4.668</span>   
<span class="hljs-number">4</span>                <span class="hljs-number">307099</span>              其他机构    <span class="hljs-number">50367370.0</span>        <span class="hljs-number">3.349</span>   
<span class="hljs-number">5</span>                <span class="hljs-number">307099</span>              其他机构    <span class="hljs-number">17207872.0</span>        <span class="hljs-number">1.144</span>   
<span class="hljs-number">6</span>                <span class="hljs-number">307003</span>            证券投资基金    <span class="hljs-number">15161505.0</span>        <span class="hljs-number">1.008</span>   
<span class="hljs-number">7</span>                <span class="hljs-number">307003</span>            证券投资基金    <span class="hljs-number">10299800.0</span>        <span class="hljs-number">0.685</span>   
<span class="hljs-number">8</span>                <span class="hljs-number">307003</span>            证券投资基金     <span class="hljs-number">9929500.0</span>        <span class="hljs-number">0.660</span>   
<span class="hljs-number">9</span>                <span class="hljs-number">307014</span>            保险投资组合     <span class="hljs-number">9296487.0</span>        <span class="hljs-number">0.618</span>   

   sharesnature_id sharesnature  
<span class="hljs-number">0</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">1</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">2</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">3</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">4</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">5</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">6</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">7</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">8</span>           <span class="hljs-number">308007</span>         流通A股  
<span class="hljs-number">9</span>           <span class="hljs-number">308007</span>         流通A股  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="STK_SHARES_PLEDGE"></span>STK_SHARES_PLEDGE</label>
      <label>股东股份质押</label>
      <article style="display: block; height: 2668.77px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_SHARES_PLEDGE).filter(finance.STK_SHARES_PLEDGE.code==code).limit(n))
</code></pre>
<p>获取上市公司股东股份的质押情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_SHARES_PLEDGE)</strong>：表示从finance.STK_SHARES_PLEDGE这张表中查询上市公司股东股份的质押情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_SHARES_PLEDGE</strong>：代表上市公司股东股份质押表，收录了上市公司股东股份的质押情况。表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>pledgor_id</td>
<td>出质人ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>pledgor</td>
<td>出质人</td>
<td>varchar(100)</td>
<td>将资产质押出去的人成为出质人</td>
</tr>
<tr>
<td>pledgee</td>
<td>质权人</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>pledge_item</td>
<td>质押事项</td>
<td>varchar(500)</td>
<td>质押原因，记录借款人、借款金额、币种等内容</td>
</tr>
<tr>
<td>pledge_nature_id</td>
<td>质押股份性质编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>pledge_nature</td>
<td>质押股份性质</td>
<td>varchar(120)</td>
<td></td>
</tr>
<tr>
<td>pledge_number</td>
<td>质押数量</td>
<td>int</td>
<td>股</td>
</tr>
<tr>
<td>pledge_total_ratio</td>
<td>占总股本比例</td>
<td>decimal(10,4)</td>
<td>%</td>
</tr>
<tr>
<td>start_date</td>
<td>质押起始日</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>质押终止日</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>unpledged_date</td>
<td>质押解除日</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>unpledged_number</td>
<td>质押解除数量</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>unpledged _detail</td>
<td>解除质押说明</td>
<td>varchar(1000)</td>
<td></td>
</tr>
<tr>
<td>is_buy_back</td>
<td>是否质押式回购交易</td>
<td>char(1)</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_SHARES_PLEDGE.code==code)</strong>：指定筛选条件，通过finance.STK_SHARES_PLEDGE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_SHARES_PLEDGE.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为万科（000002.XSHE)的股东股份质押情况，返回条数为5条</span>
q=query(finance.STK_SHARES_PLEDGE).filter(finance.STK_SHARES_PLEDGE.code==<span class="hljs-string">'000002.XSHE'</span>,finance.STK_SHARES_PLEDGE.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

      id  company_id company_name         code    pub_date pledgor_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">82514</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span>       <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">82515</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-14</span>       <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">82516</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-08</span>       <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">82517</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-08</span>       <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">82518</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>       <span class="hljs-keyword">None</span>   

        pledgor         pledgee  \
<span class="hljs-number">0</span>  深圳市钜盛华股份有限公司  鹏华资产管理（深圳）有限公司   
<span class="hljs-number">1</span>  深圳市钜盛华股份有限公司    中国银河证券股份有限公司   
<span class="hljs-number">2</span>  深圳市钜盛华股份有限公司  鹏华资产管理（深圳）有限公司   
<span class="hljs-number">3</span>  深圳市钜盛华股份有限公司  鹏华资产管理（深圳）有限公司   
<span class="hljs-number">4</span>  深圳市钜盛华股份有限公司      平安证券股份有限公司   

                                         pledge_item  pledge_nature_id  \
<span class="hljs-number">0</span>  本公司股东深圳市钜盛华股份有限公司将持有的公司<span class="hljs-number">728</span>,<span class="hljs-number">000</span>,<span class="hljs-number">000</span>股无限售流通A股质押给鹏...               NaN   
<span class="hljs-number">1</span>  本公司股东深圳市钜盛华股份有限公司将持有的本公司<span class="hljs-number">37357300</span>股股权质押给中国银河证券股份...          <span class="hljs-number">308007.0</span>   
<span class="hljs-number">2</span>  本公司股东深圳市钜盛华股份有限公司将<span class="hljs-number">2015</span>年<span class="hljs-number">10</span>月<span class="hljs-number">21</span>日质押给鹏华资产管理（深圳）有限公司...          <span class="hljs-number">308007.0</span>   
<span class="hljs-number">3</span>  本公司股东深圳市钜盛华股份有限公司将<span class="hljs-number">2015</span>年<span class="hljs-number">10</span>月<span class="hljs-number">28</span>日质押给鹏华资产管理（深圳）有限公司...          <span class="hljs-number">308007.0</span>   
<span class="hljs-number">4</span>  本公司第一大股东深圳市钜盛华股份有限公司将持有的本公司<span class="hljs-number">182000000</span>股流通A股股权质押给...          <span class="hljs-number">308007.0</span>   

  pledge_nature  pledge_number  pledge_total_ratio  start_date    end_date  \
<span class="hljs-number">0</span>          <span class="hljs-keyword">None</span>    <span class="hljs-number">728000000.0</span>                <span class="hljs-number">6.59</span>  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-15</span>        <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>          流通A股     <span class="hljs-number">37357300.0</span>                 NaN  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>        <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>          流通A股            NaN                 NaN  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-21</span>  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span>   
<span class="hljs-number">3</span>          流通A股            NaN                 NaN  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span>   
<span class="hljs-number">4</span>          流通A股    <span class="hljs-number">182000000.0</span>                 NaN  <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-09</span>        <span class="hljs-keyword">None</span>   

  unpledged_date  unpledged_number unpledged_detail is_buy_back  
<span class="hljs-number">0</span>           <span class="hljs-keyword">None</span>               NaN             <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>           <span class="hljs-keyword">None</span>               NaN             <span class="hljs-keyword">None</span>           <span class="hljs-number">1</span>  
<span class="hljs-number">2</span>     <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span>        <span class="hljs-number">91000000.0</span>             <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>     <span class="hljs-number">2017</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span>        <span class="hljs-number">91000000.0</span>             <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>           <span class="hljs-keyword">None</span>               NaN             <span class="hljs-keyword">None</span>           <span class="hljs-number">1</span> 
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="STK_SHARES_FROZEN"></span>STK_SHARES_FROZEN</label>
      <label>股东股份冻结</label>
      <article style="display: block; height: 2860.58px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_SHARES_FROZEN).filter(finance.STK_SHARES_FROZEN.code==code).limit(n))
</code></pre>
<p>获取上市公司股东股份的冻结情况</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_SHARES_FROZEN)</strong>：表示从finance.STK_SHARES_FROZEN这张表中查询股东股份的冻结情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_SHARES_FROZEN</strong>：代表上市公司股东股份冻结表，收录了上市公司股东股份的冻结情况，表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>字段类型</strong></td>
        <td><strong>含义</strong></td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>frozen_person_id</td>
        <td>被冻结当事人ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>frozen_person</td>
        <td>被冻结当事人</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>frozen_reason</td>
        <td>冻结事项</td>
        <td>varchar(600)</td>
        <td></td>
    </tr>
    <tr>
        <td>frozen_share_nature_id</td>
        <td>被冻结股份性质编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>frozen_share_nature</td>
        <td>被冻结股份性质</td>
        <td>varchar(120)</td>
        <td><p>包括:国家股、法人股、个人股、外资股、</p>
<p>流通A股、流通B股、职工股、发起人股、转配股</p></td>
    </tr>
    <tr>
        <td>frozen_number</td>
        <td>冻结数量</td>
        <td>int</td>
        <td>股</td>
    </tr>
    <tr>
        <td>frozen_total_ratio</td>
        <td>占总股份比例</td>
        <td>decimal(10,4)</td>
        <td>%</td>
    </tr>
    <tr>
        <td>freeze_applicant</td>
        <td>冻结申请人</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>freeze_executor</td>
        <td>冻结执行人</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>冻结起始日</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>冻结终止日</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>unfrozen_date</td>
        <td>解冻日期</td>
        <td>date</td>
        <td>分批解冻的为最近一次解冻日期</td>
    </tr>
    <tr>
        <td>unfrozen_number</td>
        <td>累计解冻数量</td>
        <td>int</td>
        <td>原解冻数量</td>
    </tr>
    <tr>
        <td>unfrozen_detail</td>
        <td>解冻处理说明</td>
        <td>varchar(1000)</td>
        <td>冻结过程及结束后的处理结果</td>
    </tr>
</tbody></table>
<ul>
<li><p><strong>filter(finance.STK_SHARES_FROZEN.code==code)</strong>：指定筛选条件，通过finance.STK_SHARES_FROZEN.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_SHARES_FROZEN.pub_date&gt;='2015-01-01'，表示筛选公告日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为文一科技（600520.XSHG)的股东股份冻结情况，返回条数为5条</span>
q=query(finance.STK_SHARES_FROZEN).filter(finance.STK_SHARES_FROZEN.code==<span class="hljs-string">'600520.XSHG'</span>,finance.STK_SHARES_FROZEN.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

     id  company_id    company_name    pub_date         code frozen_person_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">2360</span>   <span class="hljs-number">420600520</span>  铜陵中发三佳科技股份有限公司  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-11</span>  <span class="hljs-number">600520.</span>XSHG             <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2361</span>   <span class="hljs-number">420600520</span>  铜陵中发三佳科技股份有限公司  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-13</span>  <span class="hljs-number">600520.</span>XSHG             <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2362</span>   <span class="hljs-number">420600520</span>  铜陵中发三佳科技股份有限公司  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-22</span>  <span class="hljs-number">600520.</span>XSHG             <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2363</span>   <span class="hljs-number">420600520</span>  铜陵中发三佳科技股份有限公司  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">600520.</span>XSHG             <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2364</span>   <span class="hljs-number">420600520</span>  铜陵中发三佳科技股份有限公司  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>  <span class="hljs-number">600520.</span>XSHG             <span class="hljs-keyword">None</span>   

       frozen_person                                      frozen_reason  \
<span class="hljs-number">0</span>  铜陵市三佳电子（集团）有限责任公司  本公司控股股东铜陵市三佳电子（集团）有限责任公司持有的本公司<span class="hljs-number">27073333</span>股股份因上海隆灵...   
<span class="hljs-number">1</span>  铜陵市三佳电子（集团）有限责任公司  本公司控股股东铜陵市三佳电子（集团）有限责任公司起持有本公司的<span class="hljs-number">27</span>,<span class="hljs-number">073</span>,<span class="hljs-number">333</span>股于<span class="hljs-number">201.</span>..   
<span class="hljs-number">2</span>  铜陵市三佳电子（集团）有限责任公司  铜陵市三佳电子（集团）有限责任公司与中信银行股份有限公司安庆分行发生金融借款纠纷，涉案金额为...   
<span class="hljs-number">3</span>  铜陵市三佳电子（集团）有限责任公司  本公司股东铜陵市三佳电子（集团）有限责任公司持有的被安庆市宜秀区人民法院及安庆市迎江区人民法...   
<span class="hljs-number">4</span>  铜陵市三佳电子（集团）有限责任公司  本公司控股股东铜陵市三佳电子（集团）有限责任公司持有的本公司<span class="hljs-number">27073333</span>股股权被司法冻结...   

   frozen_share_nature_id frozen_share_nature  frozen_number  \
<span class="hljs-number">0</span>                  <span class="hljs-number">308001</span>               境内法人股     <span class="hljs-number">27073333.0</span>   
<span class="hljs-number">1</span>                  <span class="hljs-number">308001</span>               境内法人股            NaN   
<span class="hljs-number">2</span>                  <span class="hljs-number">308001</span>               境内法人股     <span class="hljs-number">27073333.0</span>   
<span class="hljs-number">3</span>                  <span class="hljs-number">308001</span>               境内法人股            NaN   
<span class="hljs-number">4</span>                  <span class="hljs-number">308001</span>               境内法人股     <span class="hljs-number">27073333.0</span>   

   frozen_total_ratio freeze_applicant        freeze_executor  start_date  \
<span class="hljs-number">0</span>              <span class="hljs-number">17.090</span>             <span class="hljs-keyword">None</span>             上海市金山区人民法院  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-10</span>   
<span class="hljs-number">1</span>              <span class="hljs-number">17.090</span>             <span class="hljs-keyword">None</span>                   <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>              <span class="hljs-number">17.090</span>   中信银行股份有限公司安庆分行                   <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>              <span class="hljs-number">17.089</span>             <span class="hljs-keyword">None</span>  安庆市宜秀区人民法院及安庆市迎江区人民法院        <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>              <span class="hljs-number">17.089</span>             <span class="hljs-keyword">None</span>            上海市浦东新区人民法院  <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   

     end_date unfrozen_date  unfrozen_number unfrozen_detail  
<span class="hljs-number">0</span>        <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>              NaN            <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-11</span>    <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-11</span>       <span class="hljs-number">27073333.0</span>            <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>        <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>              NaN            <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>    <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>       <span class="hljs-number">27073333.0</span>            <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-20</span>          <span class="hljs-keyword">None</span>              NaN            <span class="hljs-keyword">None</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="STK_HOLDER_NUM"></span>STK_HOLDER_NUM</label>
      <label>股东户数</label>
      <article style="display: block; height: 1597.36px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_HOLDER_NUM).filter(finance.STK_HOLDER_NUM.code==code).limit(n))
</code></pre>
<p>获取上市公司全部股东户数，A股股东、B股股东、H股股东的持股户数</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_HOLDER_NUM)</strong>：表示从finance.STK_HOLDER_NUM这张表中查询上市公司的股东户数，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_HOLDER_NUM</strong>：代表上市公司股东户数表，收录了上市公司全部股东户数，A股股东、B股股东、H股股东的持股户数情况，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>备注/示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>截止日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>share_holders</td>
<td>股东总户数</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>a_share_holders</td>
<td>A股股东总户数</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>b_share_holders</td>
<td>B股股东总户数</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>h_share_holders</td>
<td>H股股东总户数</td>
<td>int</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_HOLDER_NUM.code==code)</strong>：指定筛选条件，通过finance.STK_HOLDER_NUM.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_HOLDER_NUM.pub_date&gt;='2015-01-01'，表示筛选公布日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为万科（000002.XSHE)的股东户数情况，返回条数为5条</span>
q=query(finance.STK_HOLDER_NUM).filter(finance.STK_HOLDER_NUM.code==<span class="hljs-string">'000002.XSHE'</span>,finance.STK_HOLDER_NUM.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

    id         code    end_date    pub_date  share_holders  a_share_holders  \
<span class="hljs-number">0</span>  <span class="hljs-number">139</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2014</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>         <span class="hljs-number">496922</span>           <span class="hljs-number">496907</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">140</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>         <span class="hljs-number">586390</span>           <span class="hljs-number">586373</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">141</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>         <span class="hljs-number">652130</span>           <span class="hljs-number">652113</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">142</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-08</span><span class="hljs-number">-17</span>         <span class="hljs-number">479264</span>           <span class="hljs-number">479246</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">143</span>  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>         <span class="hljs-number">332360</span>           <span class="hljs-number">332339</span>   

  b_share_holders  h_share_holders  
<span class="hljs-number">0</span>            <span class="hljs-keyword">None</span>               <span class="hljs-number">15</span>  
<span class="hljs-number">1</span>            <span class="hljs-keyword">None</span>               <span class="hljs-number">17</span>  
<span class="hljs-number">2</span>            <span class="hljs-keyword">None</span>               <span class="hljs-number">17</span>  
<span class="hljs-number">3</span>            <span class="hljs-keyword">None</span>               <span class="hljs-number">18</span>  
<span class="hljs-number">4</span>            <span class="hljs-keyword">None</span>               <span class="hljs-number">21</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_SHAREHOLDERS_SHARE_CHANGE"></span>STK_SHAREHOLDERS_SHARE_CHANGE</label>
      <label>大股东增减持</label>
      <article style="display: block; height: 2459.48px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_SHAREHOLDERS_SHARE_CHANGE).filter(finance.STK_SHAREHOLDERS_SHARE_CHANGE.code==code).limit(n))
</code></pre>
<p>获取上市公司大股东的增减持情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_SHAREHOLDERS_SHARE_CHANGE)</strong>：表示从finance.STK_SHAREHOLDERS_SHARE_CHANGE这张表中查询上市公司大股东的增减持情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_SHAREHOLDERS_SHARE_CHANGE</strong>：代表上市公司大股东增减持情况表，收录了大股东的增减持情况，表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>字段类型</strong></td>
        <td><strong>备注/示例</strong></td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>增（减）持截止日</td>
        <td>date</td>
        <td>变动截止日期</td>
    </tr>
    <tr>
        <td>type</td>
        <td>增（减）持类型</td>
        <td>int</td>
        <td>0--增持;1--减持</td>
    </tr>
    <tr>
        <td>shareholder_id</td>
        <td>股东ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>shareholder_name</td>
        <td>股东名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>change_number</td>
        <td>变动数量</td>
        <td>int</td>
        <td>股</td>
    </tr>
    <tr>
        <td>change_ratio</td>
        <td>变动数量占总股本比例</td>
        <td>decimal(10,4)</td>
        <td><p>录入变动数量后，系统自动计算变动比例，</p>
<p>持股比例可以用持股数量除以股本情况表中的总股本</p></td>
    </tr>
    <tr>
        <td>price_ceiling</td>
        <td>增（减）持价格上限</td>
        <td>varchar(100)</td>
        <td><p>公告里面一般会给一个增持或者减持的价格区间，上限就是增持价格或减持价格的最高价。</p>
<p>如果公告中只披露了平均价，那price_ceiling即为成交均价</p></td>
    </tr>
    <tr>
        <td>after_change_ratio</td>
        <td>变动后占比</td>
        <td>decimal(10,4)</td>
        <td>%，变动后持股数量占总股本比例</td>
    </tr>
</tbody></table>
<ul>
<li><p><strong>filter(finance.STK_SHAREHOLDERS_SHARE_CHANGE.code==code)</strong>：指定筛选条件，通过finance.STK_SHAREHOLDERS_SHARE_CHANGE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_SHAREHOLDERS_SHARE_CHANGE.pub_date&gt;='2015-01-01'，表示筛选公布日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为万科（000002.XSHE)的大股东增减持情况,返回5条</span>
q=query(finance.STK_SHAREHOLDERS_SHARE_CHANGE).filter(finance.STK_SHAREHOLDERS_SHARE_CHANGE.code==<span class="hljs-string">'000002.XSHE'</span>,finance.STK_SHAREHOLDERS_SHARE_CHANGE.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>)
df=finance.run_query(q)
print(df)

      id  company_id company_name         code    pub_date    end_date  type  \
<span class="hljs-number">0</span>   <span class="hljs-number">1362</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-22</span>  <span class="hljs-number">2015</span><span class="hljs-number">-10</span><span class="hljs-number">-20</span>     <span class="hljs-number">0</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">25094</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-24</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-23</span>     <span class="hljs-number">0</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">25138</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-28</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-27</span>     <span class="hljs-number">0</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">29854</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-11</span>  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-10</span>     <span class="hljs-number">0</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">29883</span>   <span class="hljs-number">430000002</span>   万科企业股份有限公司  <span class="hljs-number">000002.</span>XSHE  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-11</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span>     <span class="hljs-number">0</span>   

   shareholder_id            shareholder_name  change_number  change_ratio  \
<span class="hljs-number">0</span>             NaN                深圳市矩盛华股份有限公司     <span class="hljs-number">37357310.0</span>         <span class="hljs-number">0.338</span>   
<span class="hljs-number">1</span>     <span class="hljs-number">100097568.0</span>  国信证券-工商银行-国信金鹏分级<span class="hljs-number">1</span>号集合资产管理计划    <span class="hljs-number">101187211.0</span>         <span class="hljs-number">0.920</span>   
<span class="hljs-number">2</span>     <span class="hljs-number">100097568.0</span>  国信证券-工商银行-国信金鹏分级<span class="hljs-number">1</span>号集合资产管理计划     <span class="hljs-number">34054269.0</span>         <span class="hljs-number">0.310</span>   
<span class="hljs-number">3</span>     <span class="hljs-number">100116740.0</span>                前海人寿保险股份有限公司    <span class="hljs-number">552727926.0</span>         <span class="hljs-number">5.000</span>   
<span class="hljs-number">4</span>     <span class="hljs-number">100116740.0</span>                前海人寿保险股份有限公司      <span class="hljs-number">1360161.0</span>         <span class="hljs-number">0.012</span>   

  price_ceiling after_change_ratio  
<span class="hljs-number">0</span>          <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>         <span class="hljs-number">12.79</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>         <span class="hljs-number">13.26</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>   <span class="hljs-number">13.28</span><span class="hljs-number">-15.47</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>   <span class="hljs-number">13.13</span><span class="hljs-number">-13.60</span>               <span class="hljs-keyword">None</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_CAPITAL_CHANGE"></span>STK_CAPITAL_CHANGE</label>
      <label>上市公司股本变动</label>
      <article style="display: block; height: 4190.64px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_CAPITAL_CHANGE).filter(finance.STK_CAPITAL_CHANGE.code==code).limit(n))
</code></pre>
<p>获取上市公司的股本变动情况</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_CAPITAL_CHANGE)</strong>：表示从finance.STK_CAPITAL_CHANGE这张表中查询股票简称的变更情况，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_CAPITAL_CHANGE</strong>：代表上市公司的股本变动表，收录了上市公司发生上市、增发、配股，转增等时间带来的股本变动情况。表结构和字段信息如下：</p></li>
</ul>
<table>
    <tbody><tr>
        <td>字段名称</td>
        <td>中文名称</td>
        <td>字段类型</td>
        <td>含义</td>
    </tr>
    <tr>
        <td>company_id</td>
        <td>公司ID</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>company_name</td>
        <td>公司名称</td>
        <td>varchar(100)</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>股票代码</td>
        <td>varchar(12)</td>
        <td></td>
    </tr>
    <tr>
        <td>change_date</td>
        <td>变动日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>pub_date</td>
        <td>公告日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>change_reason_id</td>
        <td>变动原因编码</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>change_reason</td>
        <td>变动原因</td>
        <td>varchar(120)</td>
        <td></td>
    </tr>
    <tr>
        <td>share_total</td>
        <td>总股本</td>
        <td>decimal(20,4)</td>
        <td>未流通股份+已流通股份，单位：万股</td>
    </tr>
    <tr>
        <td>share_non_trade</td>
        <td>未流通股份</td>
        <td>decimal(20,4)</td>
        <td><p>发起人股份 + 募集法人股份 + 内部职工股 + 优先股 +</p><p>转配股+其他未流通股+配售法人股+已发行未上市股份</p></td>
    </tr>
    <tr>
        <td>share_start</td>
        <td>发起人股份</td>
        <td>decimal(20,4)</td>
        <td><p>国家持股 +国有法人持股+ </p><p>境内法人持股 + 境外法人持股 + 自然人持股</p></td>
    </tr>
    <tr>
        <td>share_nation</td>
        <td>国家持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_nation_legal</td>
        <td>国有法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_instate_legal</td>
        <td>境内法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_outstate_legal</td>
        <td>境外法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_natural</td>
        <td>自然人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_raised</td>
        <td>募集法人股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_inside</td>
        <td>内部职工股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_convert</td>
        <td>转配股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_perferred</td>
        <td>优先股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_other_nontrade</td>
        <td>其他未流通股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_limited</td>
        <td>流通受限股份</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_legal_issue</td>
        <td>配售法人股</td>
        <td>decimal(20,4)</td>
        <td>战略投资配售股份+证券投资基金配售股份+一般法人配售股份</td>
    </tr>
    <tr>
        <td>share_strategic_investor</td>
        <td>战略投资者持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_fund</td>
        <td>证券投资基金持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_normal_legal</td>
        <td>一般法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_other_limited</td>
        <td>其他流通受限股份</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_nation_limited</td>
        <td>国家持股（受限）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_nation_legal_limited</td>
        <td>国有法人持股（受限）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>other_instate_limited</td>
        <td>其他内资持股（受限）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>legal of other_instate_limited</td>
        <td>其他内资持股（受限）中的境内法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>natural of other_instate_limited</td>
        <td>其他内资持股（受限）中的境内自然人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>outstate_limited</td>
        <td>外资持股（受限）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>legal of outstate_limited</td>
        <td>外资持股（受限）中的境外法人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>natural of outstate_limited</td>
        <td>外资持股（受限）境外自然人持股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_trade_total</td>
        <td>已流通股份（自由流通股）</td>
        <td>decimal(20,4)</td>
        <td><p>人民币普通股+ 境内上市外资股(B股)+ 境外上市外资股(H股)+ </p><p>高管股+ 其他流通股</p></td>
    </tr>
    <tr>
        <td>share_rmb</td>
        <td>人民币普通股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_b</td>
        <td>境内上市外资股（B股）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_b_limited</td>
        <td>限售B股</td>
        <td>decimal（20,4）</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_h</td>
        <td>境外上市外资股（H股）</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_h_limited</td>
        <td>限售H股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_management</td>
        <td>高管股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_management_limited</td>
        <td>限售高管股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>share_other_trade</td>
        <td>其他流通股</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>control_shareholder_limited</td>
        <td>控股股东、实际控制人(受限)</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>core_employee_limited</td>
        <td>核心员工(受限)</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>individual_fund_limited</td>
        <td>个人或基金(受限)</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>other_legal_limited</td>
        <td>其他法人(受限)</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
    <tr>
        <td>other_limited</td>
        <td>其他(受限)</td>
        <td>decimal(20,4)</td>
        <td>单位:万股</td>
    </tr>
</tbody></table>
<ul>
<li><p><strong>filter(finance.STK_CAPITAL_CHANGE.code==code)</strong>：指定筛选条件，通过finance.STK_CAPITAL_CHANGE.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_CAPITAL_CHANGE.pub_date&gt;='2015-01-01'，表示筛选公布日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为恒瑞医药（600276.XSHG)的股本变动情况，返回条数为5条</span>
q=query(finance.STK_CAPITAL_CHANGE).filter(finance.STK_CAPITAL_CHANGE.code==<span class="hljs-string">'600276.XSHG'</span>,finance.STK_CAPITAL_CHANGE.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

     id  company_id  company_name         code change_date    pub_date  \
<span class="hljs-number">0</span>   <span class="hljs-number">107</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>  <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-10</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">3506</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-05</span><span class="hljs-number">-31</span>  <span class="hljs-number">2017</span><span class="hljs-number">-05</span><span class="hljs-number">-22</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">4130</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-29</span>  <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-29</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">4417</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-25</span>  <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-20</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">7659</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-30</span>   

   change_reason_id change_reason  share_total  share_non_trade      ...       \
<span class="hljs-number">0</span>               NaN        激励股份解禁  <span class="hljs-number">234745.9674</span>              <span class="hljs-number">0.0</span>      ...        
<span class="hljs-number">1</span>          <span class="hljs-number">306010.0</span>            送股  <span class="hljs-number">281695.1609</span>              <span class="hljs-number">0.0</span>      ...        
<span class="hljs-number">2</span>          <span class="hljs-number">306016.0</span>          股份回购  <span class="hljs-number">281688.9833</span>              <span class="hljs-number">0.0</span>      ...        
<span class="hljs-number">3</span>               NaN        激励股份解禁  <span class="hljs-number">281688.9833</span>              <span class="hljs-number">0.0</span>      ...        
<span class="hljs-number">4</span>          <span class="hljs-number">306019.0</span>          定期报告  <span class="hljs-number">281688.9833</span>              <span class="hljs-number">0.0</span>      ...        

   share_h  share_h_limited  share_management share_management_limited  \
<span class="hljs-number">0</span>      <span class="hljs-number">0.0</span>             <span class="hljs-keyword">None</span>               <span class="hljs-number">0.0</span>                     <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>      <span class="hljs-number">0.0</span>             <span class="hljs-keyword">None</span>               <span class="hljs-number">0.0</span>                     <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>      <span class="hljs-number">0.0</span>             <span class="hljs-keyword">None</span>               <span class="hljs-number">0.0</span>                     <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>      <span class="hljs-number">0.0</span>             <span class="hljs-keyword">None</span>               <span class="hljs-number">0.0</span>                     <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>      <span class="hljs-number">0.0</span>             <span class="hljs-keyword">None</span>               <span class="hljs-number">0.0</span>                     <span class="hljs-keyword">None</span>   

  share_other_trade control_shareholder_limited core_employee_limited  \
<span class="hljs-number">0</span>               <span class="hljs-number">0.0</span>                        <span class="hljs-keyword">None</span>                  <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>               <span class="hljs-number">0.0</span>                        <span class="hljs-keyword">None</span>                  <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>               <span class="hljs-number">0.0</span>                        <span class="hljs-keyword">None</span>                  <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>               <span class="hljs-number">0.0</span>                        <span class="hljs-keyword">None</span>                  <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>               <span class="hljs-number">0.0</span>                        <span class="hljs-keyword">None</span>                  <span class="hljs-keyword">None</span>   

   individual_fund_limited other_legal_limited other_limited  
<span class="hljs-number">0</span>                     <span class="hljs-keyword">None</span>                <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>                     <span class="hljs-keyword">None</span>                <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>                     <span class="hljs-keyword">None</span>                <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>                     <span class="hljs-keyword">None</span>                <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>                     <span class="hljs-keyword">None</span>                <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">49</span> columns]
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="STK_LIMITED_SHARES_LIST"></span>STK_LIMITED_SHARES_LIST</label>
      <label>受限股份上市公告日期</label>
      <article style="display: block; height: 1980.68px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_LIMITED_SHARES_LIST).filter(finance.STK_LIMITED_SHARES_LIST.code==code).limit(n))
</code></pre>
<p>获取上市公司受限股份上市公告日期和预计解禁日期。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_LIMITED_SHARES_LIST)</strong>：表示从finance.STK_LIMITED_SHARES_LIST这张表中查询上市公司受限股份上市公告和预计解禁的日期，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="https://www.joinquant.com/help/api/%20www.joinquant.com=" "="" view="" community="" detail="" 433d0e9ed9fed11fc9f7772eab8d9376="">query简单教程</a></p></li>
<li><p><strong>finance.STK_LIMITED_SHARES_LIST</strong>：代表受限股份上市公告日期表，收录了上市公司受限股份上市公告和预计解禁的日期，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td>上市流通方案公布日期</td>
</tr>
<tr>
<td>shareholder_name</td>
<td>股东名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>expected_unlimited_date</td>
<td>预计解除限售日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>expected_unlimited_number</td>
<td>预计解除限售数量</td>
<td>int</td>
<td>单位：股</td>
</tr>
<tr>
<td>expected_unlimited_ratio</td>
<td>预计解除限售比例</td>
<td>decimal(10,4)</td>
<td>单位：％；预计解除限售数量占总股本比例</td>
</tr>
<tr>
<td>actual_unlimited_date</td>
<td>实际解除限售日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>actual_unlimited_number</td>
<td>实际解除限售数量</td>
<td>int</td>
<td>单位：股</td>
</tr>
<tr>
<td>actual_unlimited_ratio</td>
<td>实际解除限售比例</td>
<td>decimal(10,4)</td>
<td>单位：％；实际解除限售数量占总股本比例</td>
</tr>
<tr>
<td>limited_reason_id</td>
<td><strong>限售原因编码</strong></td>
<td>int</td>
<td>如下 限售原因编码</td>
</tr>
<tr>
<td>limited_reason</td>
<td>限售原因</td>
<td>varchar(60)</td>
<td>用户选择：股改限售；发行限售</td>
</tr>
<tr>
<td>trade_condition</td>
<td>上市交易条件</td>
<td>varchar(500)</td>
<td>股份上市交易的条件限制</td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_LIMITED_SHARES_LIST.code==code)</strong>：指定筛选条件，通过finance.STK_LIMITED_SHARES_LIST.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_LIMITED_SHARES_LIST.pub_date&gt;='2015-01-01'，表示筛选公布日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为华泰证券（601688.XSHG)的受限股份上市公告日期</span>
q=query(finance.STK_LIMITED_SHARES_LIST).filter(finance.STK_LIMITED_SHARES_LIST.code==<span class="hljs-string">'601688.XSHG'</span>,finance.STK_LIMITED_SHARES_LIST.pub_date&gt;<span class="hljs-string">'2018-01-01'</span>)
df=finance.run_query(q)
print(df)

      id  company_id company_name         code    pub_date   shareholder_name  \
<span class="hljs-number">0</span>  <span class="hljs-number">34395</span>   <span class="hljs-number">460000161</span>   华泰证券股份有限公司  <span class="hljs-number">601688.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-04</span>  阿里巴巴（中国）网络技术有限公司等

  expected_unlimited_date  expected_unlimited_number expected_unlimited_ratio  \
<span class="hljs-number">0</span>              <span class="hljs-number">2019</span><span class="hljs-number">-08</span><span class="hljs-number">-02</span>               <span class="hljs-number">1.088731e+09</span>                     <span class="hljs-keyword">None</span>

  actual_unlimited_date actual_unlimited_number actual_unlimited_ratio  \
<span class="hljs-number">0</span>                  <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>                   <span class="hljs-keyword">None</span>

   limited_reason_id limited_reason trade_condition
<span class="hljs-number">0</span>             <span class="hljs-number">309008</span>        非公开发行限售            <span class="hljs-keyword">None</span>
</code></pre>
<p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




<div class="group">
      <label><span id="STK_LIMITED_SHARES_UNLIMIT"></span>STK_LIMITED_SHARES_UNLIMIT</label>
      <label>受限股份实际解禁日期</label>
      <article style="display: block; height: 2153.39px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.STK_LIMITED_SHARES_UNLIMIT).filter(finance.STK_LIMITED_SHARES_UNLIMIT.code==code).limit(n))
</code></pre>
<p>获取公司已上市的受限股份实际解禁的日期。</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(finance.STK_LIMITED_SHARES_UNLIMIT)</strong>：表示从finance.STK_LIMITED_SHARES_UNLIMIT这张表中查询上市公司受限股份实际解禁的日期，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用英文逗号进行分隔；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></p></li>
<li><p><strong>finance.STK_LIMITED_SHARES_UNLIMIT</strong>：代表上市公司受限股份实际解禁表，收录了上市公司受限股份实际解禁的日期信息，表结构和字段信息如下：</p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>company_id</td>
<td>公司ID</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>company_name</td>
<td>公司名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>code</td>
<td>股票代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>shareholder_name</td>
<td>股东名称</td>
<td>varchar(100)</td>
<td></td>
</tr>
<tr>
<td>actual_unlimited_date</td>
<td>实际解除限售日期</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>actual_unlimited_number</td>
<td>实际解除限售数量</td>
<td>int</td>
<td>股</td>
</tr>
<tr>
<td>actual_unlimited_ratio</td>
<td>实际解除限售比例</td>
<td>decimal(10,4)</td>
<td>实际解除限售数量占总股本比例，单位%</td>
</tr>
<tr>
<td>limited_reason_id</td>
<td>限售原因编码</td>
<td>int</td>
<td></td>
</tr>
<tr>
<td>limited_reason</td>
<td>限售原因</td>
<td>varchar(60)</td>
<td></td>
</tr>
<tr>
<td>actual_trade_number</td>
<td>实际可流通数量</td>
<td>int</td>
<td></td>
</tr>
</tbody>
</table></li>
<li><p><strong>filter(finance.STK_LIMITED_SHARES_UNLIMIT.code==code)</strong>：指定筛选条件，通过finance.STK_LIMITED_SHARES_UNLIMIT.code==code可以指定你想要查询的股票代码；除此之外，还可以对表中其他字段指定筛选条件，如finance.STK_LIMITED_SHARES_UNLIMIT.pub_date&gt;='2015-01-01'，表示筛选公布日期大于等于2015年1月1日之后的数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe， 每一行对应数据表中的一条数据， 列索引是你所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#指定查询对象为恒瑞医药（600276.XSHG)的受限股份实际解禁日期，返回条数为5条</span>
q=query(finance.STK_LIMITED_SHARES_UNLIMIT).filter(finance.STK_LIMITED_SHARES_UNLIMIT.code==<span class="hljs-string">'600276.XSHG'</span>,finance.STK_LIMITED_SHARES_UNLIMIT.pub_date&gt;<span class="hljs-string">'2015-01-01'</span>).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

      id  company_id  company_name         code    pub_date shareholder_name  \
<span class="hljs-number">0</span>  <span class="hljs-number">11252</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-14</span>             蒋素梅等   
<span class="hljs-number">1</span>  <span class="hljs-number">11889</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>             周云曙等   
<span class="hljs-number">2</span>  <span class="hljs-number">12613</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-14</span>             蒋素梅等   
<span class="hljs-number">3</span>  <span class="hljs-number">13335</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-10</span>             周云曙等   
<span class="hljs-number">4</span>  <span class="hljs-number">14162</span>   <span class="hljs-number">420600276</span>  江苏恒瑞医药股份有限公司  <span class="hljs-number">600276.</span>XSHG  <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-20</span>             蒋素梅等   

  actual_unlimited_date  actual_unlimited_number  actual_unlimited_ratio  \
<span class="hljs-number">0</span>            <span class="hljs-number">2015</span><span class="hljs-number">-07</span><span class="hljs-number">-17</span>                <span class="hljs-number">4021160.0</span>                  <span class="hljs-number">0.1672</span>   
<span class="hljs-number">1</span>            <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>                 <span class="hljs-number">531960.0</span>                  <span class="hljs-number">0.0068</span>   
<span class="hljs-number">2</span>            <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-19</span>                <span class="hljs-number">3488285.0</span>                  <span class="hljs-number">0.1486</span>   
<span class="hljs-number">3</span>            <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>                 <span class="hljs-number">478764.0</span>                  <span class="hljs-number">0.0051</span>   
<span class="hljs-number">4</span>            <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-25</span>                <span class="hljs-number">4024089.0</span>                  <span class="hljs-number">0.1167</span>   

   limited_reason_id limited_reason  actual_trade_number  
<span class="hljs-number">0</span>             <span class="hljs-number">309004</span>           股权激励            <span class="hljs-number">3270410.0</span>  
<span class="hljs-number">1</span>             <span class="hljs-number">309004</span>           股权激励             <span class="hljs-number">132990.0</span>  
<span class="hljs-number">2</span>             <span class="hljs-number">309004</span>           股权激励            <span class="hljs-number">3488285.0</span>  
<span class="hljs-number">3</span>             <span class="hljs-number">309004</span>           股权激励             <span class="hljs-number">119691.0</span>  
<span class="hljs-number">4</span>             <span class="hljs-number">309004</span>           股权激励            <span class="hljs-number">3287409.0</span>  
​
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
</div>
</section>
<h2 id="期货">期货</h2>

<h3 id="期货概况（含新接口）">期货概况（含新接口）</h3>
<ul>
<li><strong>更新时间：2005至今，8:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="normalize_code"></span>normalize_code</label>
      <label>将期货代码转化成聚宽标准格式</label>
      <article style="display: block; height: 323.742px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">normalize_code(code)
</code></pre>
<p>将其他形式的期货代码转换为jqdatasdk函数可用的期货代码形式。
<strong>支持传入单只期货或一个期货list</strong></p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#输入</span>
normalize_code([<span class="hljs-string">'AU1701'</span>, <span class="hljs-string">'SF9999'</span>, <span class="hljs-string">'SC9999'</span>,<span class="hljs-string">'A0603'</span>,<span class="hljs-string">'IF9999'</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'AU1701.XSGE'</span>, <span class="hljs-string">'SF9999.XZCE'</span>, <span class="hljs-string">'SC9999.XINE'</span>, <span class="hljs-string">'A0603.XDCE'</span>, <span class="hljs-string">'IF9999.CCFX'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




<div class="group">
      <label><span id="get_future_contracts"></span>get_future_contracts</label>
      <label>获取期货可交易合约列表</label>
      <article style="display: block; height: 566.391px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_future_contracts(underlying_symbol, date)
</code></pre>
<p>获取某期货品种在指定日期下的可交易合约标的列表</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 期货合约品种，如 'AU'(白银)</li>
<li>date：指定日期，默认为None，不指定时返回当前日期下可交易的合约标的列表</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>某一期货品种在指定日期下的可交易合约标的列表</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取某期货品种在指定日期下的可交易合约标的列表</span>
get_future_contracts(<span class="hljs-string">'AU'</span>,<span class="hljs-string">'2017-01-05'</span>)

<span class="hljs-comment"># 输出</span>
[<span class="hljs-string">'AU1701.XSGE'</span>, <span class="hljs-string">'AU1702.XSGE'</span>, <span class="hljs-string">'AU1703.XSGE'</span>, <span class="hljs-string">'AU1704.XSGE'</span>, <span class="hljs-string">'AU1706.XSGE'</span>, <span class="hljs-string">'AU1708.XSGE'</span>, <span class="hljs-string">'AU1710.XSGE'</span>, <span class="hljs-string">'AU1712.XSGE'</span>]
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有期货信息</label>
      <article style="display: block; height: 772.25px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[<span class="hljs-string">'futures'</span>], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>types:  'futures'。types为空时返回所有股票, 不包括基金,指数和期货</li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong>
 返回[pandas.DataFrame，如案例所示</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型，futures(期货)</li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#将所有期货列表转换成数组</span>
futures = list(get_all_securities([<span class="hljs-string">'futures'</span>]).index)
</code></pre><p></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取所有期货列表</span>
get_all_securities([<span class="hljs-string">'futures'</span>])[:<span class="hljs-number">2</span>]

<span class="hljs-comment">#输出</span>
           display_name   name start_date   end_date     type
A0501.XDCE       豆一<span class="hljs-number">0501</span>  a0501 <span class="hljs-number">2003</span><span class="hljs-number">-07</span><span class="hljs-number">-15</span> <span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-17</span>  futures
A0503.XDCE       豆一<span class="hljs-number">0503</span>  a0503 <span class="hljs-number">2003</span><span class="hljs-number">-09</span><span class="hljs-number">-15</span> <span class="hljs-number">2005</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>  futures
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_extras"></span>get_extras</label>
      <label>获取期货结算价/盘后17:00更新</label>
      <article style="display: block; height: 741.375px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>支持2005至今的期货数据</strong></p><pre><code class="python language-python hljs">get_extras(info, security_list, start_date=<span class="hljs-string">'2005-01-01'</span>, end_date =<span class="hljs-keyword">None</span>, df=<span class="hljs-keyword">True</span>, count=<span class="hljs-keyword">None</span>)
</code></pre><p></p>
<p><strong>参数</strong></p>
<ul>
<li>info: [futures_sett_price]期货结算价;</li>
<li>security_list: 期货列表</li>
<li>start_date/end_date: 开始/结束日期, 同 [get_price]</li>
<li>df: 返回[pandas.DataFrame]对象还是一个dict</li>
<li>count: 数量, <strong>与 start_date 二选一, 不可同时使用</strong>, 
     必须大于 0. 表示取 end_date 往前的 count 个交易日的数据</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>df=True:
返回[pandas.DataFrame]对象, 列索引是股票代号, 行索引是[datetime.datetime], 比如</li>
</ul>
<p>获取期货结算价：futures_sett_price</p><pre><code class="python language-python hljs">get_extras(<span class="hljs-string">'futures_sett_price'</span>, [<span class="hljs-string">'A0603.XDCE'</span>,<span class="hljs-string">'A0605.XDCE'</span>],start_date=<span class="hljs-string">'2005-01-18'</span>).head()

            A0603.XDCE  A0605.XDCE
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-18</span>      <span class="hljs-number">2510.0</span>      <span class="hljs-number">2537.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-19</span>      <span class="hljs-number">2512.0</span>      <span class="hljs-number">2537.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span>      <span class="hljs-number">2512.0</span>      <span class="hljs-number">2529.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>      <span class="hljs-number">2500.0</span>      <span class="hljs-number">2528.0</span>
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="⭐ get_futures_info"></span>get_futures_info</label>
      <label> 获取期货合约的信息(合约乘数，最小报价单位，交易时间)</label>
      <article style="display: block; height: 901.805px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_futures_info(securities=<span class="hljs-keyword">None</span>, fields=(<span class="hljs-string">'contract_multiplier'</span>,
                                              <span class="hljs-string">'tick_size'</span>,
                                              <span class="hljs-string">'trade_time'</span>))
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>securities: str或list，一个或多个标的代码</li>
<li>fields : 获取的信息，可为多个,支持'contract_multiplier':合约乘数，'tick_size':最小报价单位，'trade_time':交易时间(期货可能调整交易时间，所以可能存在多个)
<strong>返回</strong></li>
<li>返回一个嵌套dict ,第一层key是标的代码,value是标的对应的信息，第二层key是指标名，value是指标值</li>
<li>tick_size 最小报价单位: float</li>
<li>contract_multiplier 合约乘数 : float</li>
<li>trade_time : list , 每次交易时间变更作为一条记录 , 每个list内前两个元素为生效时间和失效时间,后边的元素为按交易小节划分的交易时间;如 A1609.XDCE 的 trade_time 为 :[['2015-03-16','2015-05-08','21:00~02:30','09:00~10:15','10:30~11:30','13:30~15:00'],
['2015-05-09','2016-09-14','21:00~23:30', '09:00~10:15','10:30~11:30','13:30~15:00']],
表示从2015-03-16到2015-05-08交易时间为'21:00~02:30','09:00~10:15','10:30~11:30','13:30~15:00'
从2015-05-09到2016-09-14交易时间改为'21:00~23:30', '09:00~10:15','10:30~11:30','13:30~15:00'</li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
infos = get_futures_info([<span class="hljs-string">"AG2012.XSGE"</span>,<span class="hljs-string">'A1609.XDCE'</span> ])
print(infos)
&gt;&gt;&gt;{<span class="hljs-string">'AG2012.XSGE'</span>: {<span class="hljs-string">'tick_size'</span>: <span class="hljs-number">1.0</span>, 
<span class="hljs-string">'trade_time'</span>: [[<span class="hljs-string">'2019-12-17'</span>, <span class="hljs-string">'2020-12-15'</span>, <span class="hljs-string">'21:00~02:30'</span>, <span class="hljs-string">'09:00~10:15'</span>, <span class="hljs-string">'10:30~11:30'</span>, <span class="hljs-string">'13:30~15:00'</span>]], 
<span class="hljs-string">'contract_multiplier'</span>: <span class="hljs-number">15.0</span>}, 
<span class="hljs-string">'A1609.XDCE'</span>: {<span class="hljs-string">'tick_size'</span>: <span class="hljs-number">1.0</span>, 
<span class="hljs-string">'trade_time'</span>: [[<span class="hljs-string">'2015-03-16'</span>, <span class="hljs-string">'2015-05-08'</span>, <span class="hljs-string">'21:00~02:30'</span>, <span class="hljs-string">'09:00~10:15'</span>, <span class="hljs-string">'10:30~11:30'</span>, <span class="hljs-string">'13:30~15:00'</span>], 
[<span class="hljs-string">'2015-05-09'</span>, <span class="hljs-string">'2016-09-14'</span>, <span class="hljs-string">'21:00~23:30'</span>, <span class="hljs-string">'09:00~10:15'</span>, <span class="hljs-string">'10:30~11:30'</span>, <span class="hljs-string">'13:30~15:00'</span>]],
 <span class="hljs-string">'contract_multiplier'</span>: <span class="hljs-number">10.0</span>}}
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




<div class="group">
      <label><span id="get_dominant_future"></span>get_dominant_future</label>
      <label>主力合约对应的标的 / 2005至今，20点更新下一交易日</label>
      <article style="display: block; height: 599.672px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_dominant_future(underlying_symbol,date , end_date )
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>underlying_symbol: 期货合约品种，如 'AG'(白银)</li>
<li>date:指定日期参数，获取历史上该日期的主力期货合约 ,如未指定end_date时返回date当天的主力合约(字符串格式),默认为当前时间</li>
<li>end_date:指定日期参数，获取自date到end_date的主力合约(pandas.Series格式)。默认值为 None，不填则返回 date 参数指定日期的主力合约标的</li>
</ul>
<p><strong>注意 : date和end_date参数都可以指定分时秒,返回的数据会对应日期参数所属的交易日 , 21:00:00 及之后属于下一交易日</strong></p>
<p><strong>返回</strong></p>
<ul>
<li>主力合约对应的期货合约</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取某一天的主力合约对应的期货合约代码，指定日期为'2018-05-06'</span>
get_dominant_future(<span class="hljs-string">'AU'</span>,<span class="hljs-string">'2018-05-06'</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">'AU1812.XSGE'</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label>期货列表</label>
      <label>金融期货、商品期货</label>
      <article style="display: block; height: 131.969px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><a href="https://www.joinquant.com/help/api/help#Future:%E9%87%91%E8%9E%8D%E6%9C%9F%E8%B4%A7%E5%88%97%E8%A1%A8"><strong>金融期货</strong></a>：1. 沪深300指数期货合约表 2. 上证50股指期货合约表 3. 中证500股指期货合约表 <strong>4. 中证1000股指期货合约表</strong> 5. 2年期国债期货合约表 6. 5年期国债期货合约表 7. 10年期国债期货合约表</p>
<p><a href="https://www.joinquant.com/help/api/help#Future:%E5%95%86%E5%93%81%E6%9C%9F%E8%B4%A7%E5%88%97%E8%A1%A8"><strong>商品期货</strong></a>：中金所 上海国际能源交易中心 上期所 郑商所 大商所</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


 <div class="group">
      <label>主力连续合约</label>
      <label>主力连续合约信息</label>
      <article style="display: block; height: 259.938px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ol>
<li>期货合约的生存周期是有限的，到合约最后交易日后就要交割。因此我们根据<strong>持仓量</strong>对期货合约进行拼接，形成主力连续合约。</li>
<li>合约代码：品种代码+9999.交易所后缀，例如 AG9999.XSGE(白银主力合约)、Y9999.XDCE(豆油主力合约)。</li>
<li>主力合约定义：如果某合约持仓量连续2天为同一个品种中最大的（金融期货限定主力只从最近的两个合约中选取），且该合约相对于当前主力合约为远期合约，则自动变成主力合约。不会在日内进行主力合约切换。</li>
</ol>
<p><a href="https://www.joinquant.com/help/api/help?name=Future#%E4%B8%BB%E5%8A%9B%E8%BF%9E%E7%BB%AD%E5%90%88%E7%BA%A6%E5%8F%8A%E5%93%81%E7%A7%8D%E6%8C%87%E6%95%B0"><strong>主要期货交易所的主力合约及品种指数代码列表</strong></a></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label>品种指数</label>
      <label>品种指数信息</label>
      <article style="display: block; height: 131.969px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ol>
<li>期货品种指数合约定义 : 期货品种指数数据使用前一天的持仓量加权平均  </li>
<li>合约代码: 品种代码+8888.交易所后缀，如 AG8888.XSGE(白银合约指数)、Y8888.XDCE(豆油品种指数)</li>
</ol>
<p><a href="https://www.joinquant.com/help/api/help?name=Future#%E4%B8%BB%E5%8A%9B%E8%BF%9E%E7%BB%AD%E5%90%88%E7%BA%A6%E5%8F%8A%E5%93%81%E7%A7%8D%E6%8C%87%E6%95%B0"><strong>主要期货交易所的主力合约及品种指数代码列表</strong></a></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h3 id="期货行情数据">期货行情数据</h3>
<ul>
<li><strong>更新时间：日行情 2005至今 盘后更新（盘后15:00更新，24:00校对完成入库）</strong></li>
<li><strong>更新时间：分钟行情 2005至今 盘后更新（盘后15:00更新，24:00校对完成入库</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>（1天/分钟）行情数据</label>
      <article style="display: block; height: 3252.02px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>, panel=<span class="hljs-keyword">True</span>, fill_paused=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取一支或者多只期货数据</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li>end_dare:<strong>当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取 , 期货夜盘 21:00~次日02:30 的分钟行情在 02:30 之后可以获取。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后(或夜盘结束)时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后(或夜盘结束)时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>pre':前复权 / 'none':不复权, 返回实际价格/'post': 后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如本地pandas版本大于0.25将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p><strong>fields</strong>内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td></td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交额不处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：股票是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>(2)分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货：pre_close--前一天结算；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
    <tr>
        <td>open_interest</td>
        <td>期货持仓量</td>
        <td>  </td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只期货的多个属性, 同时也满足对比多只期货的一个属性的需求, 我们在security参数是<strong>一只期货和多只期货时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支期货</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获得AU1812.XSGE的2018年07月02日 23:30:00-2018年07月02日 23:35:00的分钟数据</span>
df = get_price(<span class="hljs-string">'AU1812.XSGE'</span>, start_date=<span class="hljs-string">'2018-07-02 23:30:00'</span>, end_date=<span class="hljs-string">'2018-07-02 23:35:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 返回[pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是行情字段名字</span>
df[:<span class="hljs-number">5</span>]

                       open   close    high    low  volume       money
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">272.20</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.2</span>   <span class="hljs-number">252.0</span>  <span class="hljs-number">68594900.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">31</span>:<span class="hljs-number">00</span>  <span class="hljs-number">272.20</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.2</span>   <span class="hljs-number">214.0</span>  <span class="hljs-number">58260700.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">32</span>:<span class="hljs-number">00</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.2</span>   <span class="hljs-number">100.0</span>  <span class="hljs-number">27224800.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">33</span>:<span class="hljs-number">00</span>  <span class="hljs-number">272.20</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.2</span>   <span class="hljs-number">194.0</span>  <span class="hljs-number">52815300.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">34</span>:<span class="hljs-number">00</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.20</span>  <span class="hljs-number">272.25</span>  <span class="hljs-number">272.2</span>   <span class="hljs-number">112.0</span>  <span class="hljs-number">30489500.0</span>
</code></pre><p></p>
<p><strong>获取多只期货</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取豆一0603和豆一0605的开盘价,则返回[pandas.Panel]对象</span>
panel=get_price([<span class="hljs-string">'A0603.XDCE'</span>,<span class="hljs-string">'A0605.XDCE'</span>],start_date=<span class="hljs-string">'2005-01-18'</span>)
<span class="hljs-comment">#返回[pandas.DataFrame]对象,行索引是[datetime.datetime]对象, 列索引是期货代号</span>
df=panel[<span class="hljs-string">'open'</span>][:<span class="hljs-number">4</span>]
print(df)

            A0603.XDCE  A0605.XDCE
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-18</span>      <span class="hljs-number">2510.0</span>      <span class="hljs-number">2534.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-19</span>      <span class="hljs-number">2491.0</span>      <span class="hljs-number">2537.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span>      <span class="hljs-number">2512.0</span>      <span class="hljs-number">2528.0</span>
<span class="hljs-number">2005</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>      <span class="hljs-number">2504.0</span>      <span class="hljs-number">2528.0</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1743.96px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 期货代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘(或夜盘结束)的时间</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为datetime.datetime.now()即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回期货的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取豆一0603按120分钟为周期以"2018-12-05"为基础往前5个时间单位的数据</span>
df = get_bars(<span class="hljs-string">'A0603.XDCE'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)

                 date    open    high     low   close
<span class="hljs-number">0</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-13</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>
<span class="hljs-number">1</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-13</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>
<span class="hljs-number">2</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2581.0</span>
<span class="hljs-number">3</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2610.0</span>
<span class="hljs-number">4</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2595.0</span>
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取豆一0603和豆一0605按120分钟为周期以"2018-12-05"为基础往前5个时间单位的数据</span>
df = get_bars([<span class="hljs-string">'A0603.XDCE'</span>,<span class="hljs-string">'A0605.XDCE'</span>], <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)
                            date    open    high     low   close
A0603.XDCE <span class="hljs-number">0</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-13</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>
           <span class="hljs-number">1</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-13</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>
           <span class="hljs-number">2</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2603.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2581.0</span>
           <span class="hljs-number">3</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2610.0</span>
           <span class="hljs-number">4</span> <span class="hljs-number">2006</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2610.0</span>  <span class="hljs-number">2581.0</span>  <span class="hljs-number">2595.0</span>
A0605.XDCE <span class="hljs-number">0</span> <span class="hljs-number">2006</span><span class="hljs-number">-05</span><span class="hljs-number">-18</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>
           <span class="hljs-number">1</span> <span class="hljs-number">2006</span><span class="hljs-number">-05</span><span class="hljs-number">-18</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>  <span class="hljs-number">2498.0</span>
           <span class="hljs-number">2</span> <span class="hljs-number">2006</span><span class="hljs-number">-05</span><span class="hljs-number">-19</span> <span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>
           <span class="hljs-number">3</span> <span class="hljs-number">2006</span><span class="hljs-number">-05</span><span class="hljs-number">-19</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>
           <span class="hljs-number">4</span> <span class="hljs-number">2006</span><span class="hljs-number">-05</span><span class="hljs-number">-19</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>  <span class="hljs-number">2499.0</span>
</code></pre></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>金融期货和商品期货tick数据/2010-01-01 起（付费）</label>
      <article style="display: block; height: 1757.83px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>期货部分， 支持 2010-01-01 至今的tick数据，提供买一卖一数据。（每0.5秒一次快照）</strong>如果要获取主力合约的tick数据，可以先使用get_dominant_future(underlying_symbol,dt)获取主力合约对应的标的，然后再用get_ticks()获取该合约的tick数据</p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 期货代码</p></li>
<li><p>start_dt: 开始日期</p></li>
<li><p>end_dt: 结束日期</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>

<li><p><strong>期货tick返回结果：</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（手）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>position</td>
<td>持仓量</td>
<td>float</td>
</tr>
<tr>
<td>a1_v</td>
<td>一档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p</td>
<td>一档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v</td>
<td>一档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p</td>
<td>一档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>期货tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取AU1812期货合约在“2018-07-03”前8个时间单位的tick数据,start_dt和count只能有一个不为None值</span>
df=get_ticks(<span class="hljs-string">'AU1812.XSGE'</span>,end_dt=<span class="hljs-string">'2018-07-03'</span>,count=<span class="hljs-number">8</span>)
print(df)
                     time  current    high    low   volume         money  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">35.500</span>   <span class="hljs-number">272.00</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42922.0</span>  <span class="hljs-number">1.170027e+10</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42942.0</span>  <span class="hljs-number">1.170571e+10</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.500</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42966.0</span>  <span class="hljs-number">1.171224e+10</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">38.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42974.0</span>  <span class="hljs-number">1.171442e+10</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">43.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42978.0</span>  <span class="hljs-number">1.171550e+10</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">45.500</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42986.0</span>  <span class="hljs-number">1.171768e+10</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">46.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42994.0</span>  <span class="hljs-number">1.171986e+10</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42998.0</span>  <span class="hljs-number">1.172094e+10</span>   

   position    a1_p  a1_v    b1_p   b1_v  
<span class="hljs-number">0</span>  <span class="hljs-number">361578.0</span>  <span class="hljs-number">272.05</span>  <span class="hljs-number">57.0</span>  <span class="hljs-number">272.00</span>  <span class="hljs-number">281.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">361570.0</span>  <span class="hljs-number">272.05</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">272.00</span>  <span class="hljs-number">289.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">361562.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">96.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">14.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">361554.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">97.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">25.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">361554.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">97.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">24.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">361546.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">95.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">20.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">361538.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">91.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">16.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">361534.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">85.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">17.0</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="FUT_GLOBAL_DAILY"></span>FUT_GLOBAL_DAILY</label>
      <label>外盘日行情数据 / 上市至今，盘前09:00更新</label>
      <article style="display: block; height: 2098.95px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUT_GLOBAL_DAILY).filter(finance.FUT_GLOBAL_DAILY.day==date).limit(n))
</code></pre>
<p>描述：记录主要外盘商品期货的日行情数据，包含开盘价、收盘价、最高价、最低价、成交量等</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUT_GLOBAL_DAILY)</strong>：表示从finance.FUT_GLOBAL_DAILY这张表中查询外盘期货日行情数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></li>
<li><strong>finance.FUT_GLOBAL_DAILY</strong>：收录了外盘期货日行情数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>非空</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>期货代码</td>
<td>varchar(64)</td>
<td>Y</td>
<td>代码列表详见下方期货代码名称对照表</td>
</tr>
<tr>
<td>name</td>
<td>期货名称</td>
<td>varchar(64)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>day</td>
<td>日期</td>
<td>date</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>open</td>
<td>开盘价</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>close</td>
<td>收盘价</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>low</td>
<td>最低价</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>high</td>
<td>最高价</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>volume</td>
<td>成交量</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
<tr>
<td>change_pct</td>
<td>涨跌幅（%）</td>
<td>decimal(20,4)</td>
<td></td>
<td>（当日收盘价-前收价）/前收价</td>
</tr>
<tr>
<td>amplitude</td>
<td>振幅（%）</td>
<td>decimal(20,6)</td>
<td></td>
<td>（当日最高点的价格－当日最低点的价格）/前收价</td>
</tr>
<tr>
<td>pre_close</td>
<td>前收价</td>
<td>decimal(20,6)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p><strong>期货代码名称对照表</strong></p>
<table>
<thead>
<tr>
<th>代码</th>
<th>AHD</th>
<th>BO</th>
<th>C</th>
<th>CAD</th>
<th>CL</th>
<th>ES</th>
<th>GC</th>
<th>HG</th>
<th>LHC</th>
<th>NG</th>
<th>NID</th>
</tr>
</thead>
<tbody>
<tr>
<td>名称</td>
<td>LME铝3个月</td>
<td>CBOT-黄豆油</td>
<td>CBOT-玉米</td>
<td>LME铜3个月</td>
<td>NYMEX原油</td>
<td>标普期货</td>
<td>COMEX黄金</td>
<td>COMEX铜</td>
<td>CME-瘦肉猪</td>
<td>NYMEX天然气</td>
<td>LME镍3个月</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>代码</th>
<th>OIL</th>
<th>PBD</th>
<th>S</th>
<th>SI</th>
<th>SM</th>
<th>SND</th>
<th>W</th>
<th>XAG</th>
<th>XAU</th>
<th>XPD</th>
<th>XPT</th>
<th>ZSD</th>
</tr>
</thead>
<tbody>
<tr>
<td>名称</td>
<td>布伦特原油</td>
<td>LME铅3个月</td>
<td>CBOT-黄豆</td>
<td>COMEX白银</td>
<td>CBOT-黄豆粉</td>
<td>LME锡3个月</td>
<td>CBOT-小麦</td>
<td>伦敦银</td>
<td>伦敦金</td>
<td>伦敦钯金</td>
<td>伦敦铂金</td>
<td>LME锌3个月</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUT_GLOBAL_DAILY.day==date)</strong>：指定筛选条件，通过finance.FUT_GLOBAL_DAILY.day==date可以指定你想要查询的行情日期；除此之外，还可以对表中其他字段指定筛选条件，如finance.FUT_GLOBAL_DAILY.code==code，表示指定标的代码查询日行情；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询品种为铜（'CU')的2018年12月05日的仓单数据,从大到小,返回8条</span>
q=query(finance.FUT_WAREHOUSE_RECEIPT.day,
        finance.FUT_WAREHOUSE_RECEIPT.underlying_code,
        finance.FUT_WAREHOUSE_RECEIPT.warehouse_name,
finance.FUT_WAREHOUSE_RECEIPT.warehouse_receipt_number).filter(finance.FUT_WAREHOUSE_RECEIPT.underlying_code==<span class="hljs-string">'CU'</span>,finance.FUT_WAREHOUSE_RECEIPT.day==<span class="hljs-string">'2018-12-05'</span>).order_by(finance.FUT_WAREHOUSE_RECEIPT.warehouse_receipt_number.desc()).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)
          day underlying_code warehouse_name  warehouse_receipt_number
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        江苏-中储无锡                     <span class="hljs-number">10517</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU       广东-八三O黄浦                      <span class="hljs-number">9141</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        江苏-常州融达                      <span class="hljs-number">6787</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        上海-中储吴淞                      <span class="hljs-number">5238</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        广东-南储仓储                      <span class="hljs-number">5025</span>
<span class="hljs-number">5</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU      浙江-国储<span class="hljs-number">837</span>处                      <span class="hljs-number">4205</span>
<span class="hljs-number">6</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        上海-上港物流                      <span class="hljs-number">3524</span>
<span class="hljs-number">7</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU      上海-中海华东宝山                      <span class="hljs-number">2804</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




</div>
</section>
<h3 id="期货交易统计数据">期货交易统计数据</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="FUT_MEMBER_POSITION_RANK"></span>FUT_MEMBER_POSITION_RANK</label>
      <label>龙虎榜数据 / 2005年至今，盘后19:00，22:00更新</label>
      <article style="display: block; height: 2684.23px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUT_MEMBER_POSITION_RANK).filter(finance.FUT_MEMBER_POSITION_RANK.code==code).limit(n))
</code></pre>
<p>描述：记录各个期货交易所对不同商品下的期货合约，记录该交易所会员持仓排名前20的信息。（每天更新）</p>
<p>获取期货交易所会员持仓（龙虎榜）</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUT_MEMBER_POSITION_RANK)</strong>：表示从finance.FUT_MEMBER_POSITION_RANK这张表中查询期货龙虎榜数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUT_MEMBER_POSITION_RANK</strong>：收录了期货龙虎榜数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong> </p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>字段类型</strong></td>
        <td><strong>含义</strong></td>
    </tr>
    <tr>
        <td>day</td>
        <td>交易日</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>合约编码</td>
        <td>varchar(12)</td>
        <td>同一商品根据交割日的不同对应不同的期货合约，比如：'CU1807.XSGE'</td>
    </tr>
    <tr>
        <td>exchange</td>
        <td>交易所编码</td>
        <td>varchar(10)</td>
        <td><p>英文编码：XSGE：上海期货交易所， XDCE：大连商品交易所，</p><p>XZCE：郑州商品交易所， CCFX：中国金融期货交易所</p></td>
    </tr>
    <tr>
        <td>exchange_name</td>
        <td>交易所名称</td>
        <td>varchar(30)</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_code</td>
        <td>标的编码</td>
        <td>varchar(10)</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_name</td>
        <td>标的名称</td>
        <td>varchar(50)</td>
        <td></td>
    </tr>
    <tr>
        <td>rank_type_ID</td>
        <td>排名类别编码</td>
        <td>int</td>
        <td>501001-成交量排名, 501002-持买单量排名， 501003-持卖单量排名</td>
    </tr>
    <tr>
        <td>rank_type</td>
        <td>排名类别</td>
        <td>varchar(50)</td>
        <td>包含:成交量排名，持买单量排名，持卖单量排名</td>
    </tr>
    <tr>
        <td>rank</td>
        <td>排名</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>member_name</td>
        <td>会员简称</td>
        <td>varchar(50)</td>
        <td></td>
    </tr>
    <tr>
        <td>indicator</td>
        <td>统计指标</td>
        <td>int</td>
        <td>统计指标根据排名类别确定，分别代表：成交量，持买单量，持卖单量。单位：手</td>
    </tr>
    <tr>
        <td>indicator_increase</td>
        <td>统计指标比上交易日增减</td>
        <td>int</td>
        <td>单位：手</td>
    </tr>
</tbody></table>
<p>一手：是指交易单位,也就是一张合约所代表的单位数量的标的物，一般根据品种有所不同,比如：大豆一手是10吨，铜一手是5吨，国债期货交易单位是钱，一手几万元。</p>
<p><strong>交易所编码</strong></p>
<table>
<thead>
<tr>
<th>交易所名称</th>
<th>编码</th>
</tr>
</thead>
<tbody>
<tr>
<td>上海期货交易所</td>
<td>XSGE</td>
</tr>
<tr>
<td>大连商品交易所</td>
<td>XDCE</td>
</tr>
<tr>
<td>郑州商品交易所</td>
<td>XZCE</td>
</tr>
<tr>
<td>中国金融期货交易所</td>
<td>CCFX</td>
</tr>
</tbody>
</table>
<p><strong>排名类别编码</strong></p>
<table>
<thead>
<tr>
<th>交易所名称</th>
<th>编码</th>
</tr>
</thead>
<tbody>
<tr>
<td>成交量排名</td>
<td>501001</td>
</tr>
<tr>
<td>持买单量排名</td>
<td>501002</td>
</tr>
<tr>
<td>持卖单量排名</td>
<td>501003</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUT_MEMBER_POSITION_RANK.code==code)</strong>：指定筛选条件，通过finance.FUT_MEMBER_POSITION_RANK.code==code可以指定你想要查询的合约编码；除此之外，还可以对表中其他字段指定筛选条件，如finance.FUT_MEMBER_POSITION_RANK.rank_type_ID=="501001"，表示按成交量排名查询龙虎榜数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询A1905.XDCE 2019-04-24交易日的持仓量龙虎榜数据</span>
q=query(finance.FUT_MEMBER_POSITION_RANK.day,
        finance.FUT_MEMBER_POSITION_RANK.code,
        finance.FUT_MEMBER_POSITION_RANK.rank_type,
        finance.FUT_MEMBER_POSITION_RANK.rank,
        finance.FUT_MEMBER_POSITION_RANK.member_name,
        finance.FUT_MEMBER_POSITION_RANK.indicator
               ).filter(finance.FUT_MEMBER_POSITION_RANK.code==<span class="hljs-string">'A1905.XDCE'</span>,
                        finance.FUT_MEMBER_POSITION_RANK.rank_type_ID==<span class="hljs-number">501002</span>,
                        finance.FUT_MEMBER_POSITION_RANK.day == <span class="hljs-string">'2019-04-24'</span>
                                                   ).order_by( finance.FUT_MEMBER_POSITION_RANK.rank ).limit(<span class="hljs-number">8</span>)
df=finance.run_query(q)
print(df)

          day        code rank_type  rank member_name  indicator
<span class="hljs-number">0</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">1</span>        国投安信       <span class="hljs-number">1330</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">2</span>        广州金控       <span class="hljs-number">1026</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">3</span>        东证期货        <span class="hljs-number">986</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">4</span>        中信期货        <span class="hljs-number">844</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">5</span>        华泰期货        <span class="hljs-number">654</span>
<span class="hljs-number">5</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">6</span>        东方财富        <span class="hljs-number">483</span>
<span class="hljs-number">6</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">7</span>        摩根大通        <span class="hljs-number">462</span>
<span class="hljs-number">7</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  A1905.XDCE    持买单量排名     <span class="hljs-number">8</span>        广州期货        <span class="hljs-number">442</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="FUT_WAREHOUSE_RECEIPT"></span>FUT_WAREHOUSE_RECEIPT</label>
      <label>仓单数据 / 2005年至今，盘后20:00更新</label>
      <article style="display: block; height: 2286.11px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUT_WAREHOUSE_RECEIPT).filter(finance.FUT_WAREHOUSE_RECEIPT.underlying_code==underlying_code).limit(n))
</code></pre>
<p>描述：期货仓单是指由期货交易所指定交割仓库，按照期货交易所指定的程序，签发的符合合约规定质量的<strong>实物提货凭证</strong>。记录了交易所所有期货实物的库存情况以及变更情况。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUT_WAREHOUSE_RECEIPT)</strong>：表示从finance.FUT_WAREHOUSE_RECEIPT这张表中查询期货仓单数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUT_WAREHOUSE_RECEIPT</strong>：收录了期货仓单数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td width="130"><strong>字段名称</strong></td>
        <td width="120"><strong>中文名称</strong></td>
        <td width="120"><strong>字段类型</strong></td>
        <td width="165"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>day</td>
        <td>日期</td>
        <td>date</td>
        <td></td>
    </tr>
    <tr>
        <td>exchange</td>
        <td>交易所编码</td>
        <td>varchar(10)</td>
        <td>英文编码</td>
    </tr>
    <tr>
        <td>exchange_name</td>
        <td>交易所名称</td>
        <td>varchar(30)</td>
        <td><p>上海期货交易所</p>
        <p>大连商品交易所</p>
        <p>郑州商商品交易所</p>
        <p>中国金融期货交易所</p></td>
    </tr>
    <tr>
        <td>underlying_code</td>
        <td>品种编码</td>
        <td>varchar(10)</td>
        <td></td>
    </tr>
    <tr>
        <td>product_name</td>
        <td>品种名称</td>
        <td>varchar(20)</td>
        <td></td>
    </tr>
    <tr>
        <td>warehouse_name</td>
        <td>仓库名称</td>
        <td>varchar(20)</td>
        <td><p>上期所：将地区和仓库数据合并成一条，仓库名称=“地区”+“仓库”。</p>
        <p>大商所：仓库名称存在多个不同的名字的，取第一个字体加粗的仓库名称。</p>
        <p>郑商所：不区分品牌，对每个仓库取仓库小计值</p></td>
    </tr>
    <tr>
        <td>warehouse_receipt_number</td>
        <td>今日期货仓单</td>
        <td>int</td>
        <td></td>
    </tr>
    <tr>
        <td>unit</td>
        <td>单位</td>
        <td>varchar(10)</td>
        <td></td>
    </tr>
    <tr>
        <td>warehouse_receipt_number_increase</td>
        <td>比昨日增减</td>
        <td>int</td>
        <td></td>
    </tr>
</tbody></table>
<p><strong>交易所名称编码</strong></p>
<table>
<thead>
<tr>
<th>交易所名称</th>
<th>编码</th>
</tr>
</thead>
<tbody>
<tr>
<td>上海期货交易所</td>
<td>XSGE</td>
</tr>
<tr>
<td>大连商品交易所</td>
<td>XDCE</td>
</tr>
<tr>
<td>郑州商商品交易所</td>
<td>XZCE</td>
</tr>
<tr>
<td>中国金融期货交易所</td>
<td>CCFX</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUT_WAREHOUSE_RECEIPT.underlying_code==underlying_code)</strong>：指定筛选条件，通过finance.FUT_WAREHOUSE_RECEIPT.underlying_code==underlying_code可以指定你想要查询的品种；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询品种为铜（'CU')的2018年12月05日的仓单数据</span>
q=query(finance.FUT_WAREHOUSE_RECEIPT.day,
        finance.FUT_WAREHOUSE_RECEIPT.underlying_code,
        finance.FUT_WAREHOUSE_RECEIPT.warehouse_name,
finance.FUT_WAREHOUSE_RECEIPT.warehouse_receipt_number).filter(finance.FUT_WAREHOUSE_RECEIPT.underlying_code==<span class="hljs-string">'CU'</span>,finance.FUT_WAREHOUSE_RECEIPT.day==<span class="hljs-string">'2018-12-05'</span>).order_by(finance.FUT_WAREHOUSE_RECEIPT.warehouse_receipt_number.desc())
df=finance.run_query(q)
print(df[:<span class="hljs-number">8</span>])

          day underlying_code warehouse_name  warehouse_receipt_number
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        江苏-中储无锡                     <span class="hljs-number">10517</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU       广东-八三O黄浦                      <span class="hljs-number">9141</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        江苏-常州融达                      <span class="hljs-number">6787</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        上海-中储吴淞                      <span class="hljs-number">5238</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        广东-南储仓储                      <span class="hljs-number">5025</span>
<span class="hljs-number">5</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU      浙江-国储<span class="hljs-number">837</span>处                      <span class="hljs-number">4205</span>
<span class="hljs-number">6</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU        上海-上港物流                      <span class="hljs-number">3524</span>
<span class="hljs-number">7</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>              CU      上海-中海华东宝山                      <span class="hljs-number">2804</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h2 id="基金">基金</h2>

<h3 id="基金概况">基金概况</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率（<strong>注意：场外基金编码 +.OF</strong>）</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="normalize_code"></span>normalize_code</label>
      <label>将场内基金代码转化成聚宽标准格式</label>
      <article style="display: block; height: 349.336px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">normalize_code(code)
</code></pre>
<p>将其他形式的场内基金代码转换为jqdatasdk函数可用的基金代码形式。
<strong>仅适用于场内基金代码,支持传入单只基金或一个基金list</strong></p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#输入</span>
normalize_code([<span class="hljs-string">'159001'</span>, <span class="hljs-string">'159003'</span>, <span class="hljs-string">'159005'</span>,<span class="hljs-string">'159901'</span>,<span class="hljs-string">'159902'</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'159001.XSHE'</span>, <span class="hljs-string">'159003.XSHE'</span>, <span class="hljs-string">'159005.XSHE'</span>, <span class="hljs-string">'159901.XSHE'</span>, <span class="hljs-string">'159902.XSHE'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_security_info"></span>get_security_info</label>
      <label>获取单只基金信息/ 2005至今，8:00更新</label>
      <article style="display: block; height: 1235.3px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_security_info(code)
</code></pre>
<p>获取股票/基金/指数的信息.</p>
<p><strong>参数</strong></p>
<ul>
<li>code: 基金代码</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><p>一个对象, 有如下属性:</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期, [datetime.date] 类型</li>
<li>end_date: 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01</li>
<li>type: 类型etf(ETF基金)，fja（分级A），fjb（分级B）、场外基金</li>
<li>parent: 分级基金的母基金代码</li></ul></li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取基金的中文名称</span>
get_security_info(<span class="hljs-string">'502050.XSHG'</span>).display_name

<span class="hljs-meta">&gt;&gt;&gt; </span>上证<span class="hljs-number">50</span>B
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取基金的上市日期</span>
get_security_info(<span class="hljs-string">'502050.XSHG'</span>).start_date

<span class="hljs-meta">&gt;&gt;&gt; </span>datetime.date(<span class="hljs-number">2015</span>, <span class="hljs-number">4</span>, <span class="hljs-number">27</span>)
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取基金的退市时间</span>
get_security_info(<span class="hljs-string">'502050.XSHG'</span>).end_date

<span class="hljs-meta">&gt;&gt;&gt; </span>datetime.date(<span class="hljs-number">2021</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>)
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取基金的类型</span>
get_security_info(<span class="hljs-string">'502050.XSHG'</span>).type

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-string">'fjb'</span>
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取基金的母基金, 下面的判断为真.</span>
get_security_info(<span class="hljs-string">'502050.XSHG'</span>).parent == <span class="hljs-string">'502048.XSHG'</span>

<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">True</span>
</code></pre></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有基金信息/ 2005至今，8:00更新</label>
      <article style="display: block; height: 1420.34px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types: list: 用来过滤securities的类型, list元素可选:'fund',  'etf', 'lof', 'fja', 'fjb', 'open_fund', 'bond_fund', 'stock_fund', 'QDII_fund', 'money_market_fund', 'mixture_fund'。types为空时返回所有股票, 不包括基金,指数和期货</li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong>
[pandas.DataFrame]</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型，etf(ETF基金)，fja（分级A），fjb（分级B），fjm（分级母基金），mmf（场内交易的货币基金）open_fund（开放式基金）, bond_fund（债券基金）, stock_fund（股票型基金）, QDII_fund（QDII 基金）, money_market_fund（场外交易的货币基金）, mixture_fund（混合型基金）</li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获得etf基金列表</span>
df = get_all_securities([<span class="hljs-string">'etf'</span>])
<span class="hljs-comment">#获得lof基金列表</span>
df = get_all_securities([<span class="hljs-string">'lof'</span>])
<span class="hljs-comment">#获得分级A基金列表</span>
df = get_all_securities([<span class="hljs-string">'fja'</span>])
<span class="hljs-comment">#获得分级B基金列表</span>
df = get_all_securities([<span class="hljs-string">'fjb'</span>])

<span class="hljs-comment"># 获得fjm基金列表</span>
df = get_all_securities(<span class="hljs-string">'fund'</span>)
df[df.type==<span class="hljs-string">"fjm"</span>]

<span class="hljs-comment"># 获得开放式基金列表</span>
df = get_all_securities([<span class="hljs-string">'open_fund'</span>])
<span class="hljs-comment"># 获得债券基金列表</span>
df = get_all_securities([<span class="hljs-string">'bond_fund'</span>])
<span class="hljs-comment"># 获得股票型基金列表</span>
df = get_all_securities(<span class="hljs-string">'stock_fund'</span>)
<span class="hljs-comment"># 获得QDII基金列表</span>
df = get_all_securities([<span class="hljs-string">'QDII_fund'</span>])
<span class="hljs-comment"># 获得混合型基列表</span>
df = get_all_securities([<span class="hljs-string">'mixture_fund'</span>])

<span class="hljs-comment"># 获得场内交易的货币基金列表</span>
df = get_all_securities(<span class="hljs-string">'fund'</span>)
df[df.type==<span class="hljs-string">"mmf"</span>]

<span class="hljs-comment"># 获得场外交易的货币基金列表</span>
df = get_all_securities([<span class="hljs-string">'money_market_fund'</span>])

<span class="hljs-comment">#获得2015年10月10日还在上市的 etf 和 lof 基金列表</span>
get_all_securities([<span class="hljs-string">'etf'</span>, <span class="hljs-string">'lof'</span>], <span class="hljs-string">'2015-10-10'</span>)
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_extras"></span>get_extras</label>
      <label>基金累计净值/基金单位净值/场外基金的复权净值——2005至今，下一个交易日10点之前更新</label>
      <article style="display: block; height: 1381.84px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_extras(info, security_list, start_date=<span class="hljs-string">'2015-01-01'</span>, end_date=<span class="hljs-string">'2015-12-31'</span>, df=<span class="hljs-keyword">True</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li><p>info: [ 'acc_net_value', 'unit_net_value', 'adj_net_value'] 中的一个</p>
<table>
<thead>
<tr>
<th>指定info字段</th>
<th>返回信息</th>
</tr>
</thead>
<tbody>
<tr>
<td>acc_net_value</td>
<td>基金累计净值</td>
</tr>
<tr>
<td>unit_net_value</td>
<td>基金单位净值</td>
</tr>
<tr>
<td>adj_net_value</td>
<td>场外基金的复权净值</td>
</tr>
</tbody>
</table></li>
<li><p>security_list: 基金列表</p></li>
<li><p>start_date/end_date: 开始结束日期, 同 [get_price]</p></li>
<li><p>df: 返回[pandas.DataFrame]对象还是一个dict</p></li>
<li><p>count: 数量, <strong>与 start_date 二选一, 不可同时使用</strong>, 必须大于 0. 表示取 end_date 往前的 count 个交易日的数据</p></li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>df=True:
返回[pandas.DataFrame]对象, 列索引是股票代号, 行索引是[datetime.datetime], 比如</li>
</ul>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取基金累计净值</span>
<span class="hljs-comment"># df=True,返回[pandas.DataFrame]对象</span>
df=get_extras(<span class="hljs-string">'acc_net_value'</span>, [<span class="hljs-string">'510300.XSHG'</span>, <span class="hljs-string">'510050.XSHG'</span>], start_date=<span class="hljs-string">'2015-12-01'</span>, end_date=<span class="hljs-string">'2015-12-03'</span>,df=<span class="hljs-keyword">True</span>)
print(df)

            <span class="hljs-number">510300.</span>XSHG  <span class="hljs-number">510050.</span>XSHG
<span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-01</span>       <span class="hljs-number">1.3950</span>        <span class="hljs-number">3.119</span>
<span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span>       <span class="hljs-number">1.4432</span>        <span class="hljs-number">3.251</span>
<span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>       <span class="hljs-number">1.4535</span>        <span class="hljs-number">3.254</span>
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取基金单位净值</span>
<span class="hljs-comment"># df=False,返回一个dict, key是基金代号, value是[numpy.ndarray]</span>
get_extras(<span class="hljs-string">'unit_net_value'</span>, [<span class="hljs-string">'510300.XSHG'</span>, <span class="hljs-string">'510050.XSHG'</span>], start_date=<span class="hljs-string">'2015-12-01'</span>, end_date=<span class="hljs-string">'2015-12-03'</span>,df=<span class="hljs-keyword">False</span>)
<span class="hljs-comment">#返回</span>
{<span class="hljs-string">'510300.XSHG'</span>: array([<span class="hljs-number">3.6446</span>, <span class="hljs-number">3.7746</span>, <span class="hljs-number">3.8023</span>]),
 <span class="hljs-string">'510050.XSHG'</span>: array([<span class="hljs-number">2.344</span>, <span class="hljs-number">2.455</span>, <span class="hljs-number">2.458</span>])}
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取场外基金的复权净值</span>
df=get_extras(<span class="hljs-string">'adj_net_value'</span>,<span class="hljs-string">'398051.OF'</span>)
print(df[:<span class="hljs-number">4</span>])
            <span class="hljs-number">398051.</span>OF
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>      <span class="hljs-number">1.087</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>      <span class="hljs-number">1.073</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>      <span class="hljs-number">1.086</span>
<span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>      <span class="hljs-number">1.054</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="FUND_SHARE_DAILY"></span>FUND_SHARE_DAILY</label>
      <label>基金份额数据（二级市场）/ 2005-02-23至今，下一个交易日10点之前更新</label>
      <article style="display: block; height: 1373.87px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
finance.run_query(query(finance.FUND_SHARE_DAILY).filter(finance.FUND_SHARE_DAILY.date==<span class="hljs-string">'2019-05-23'</span>).limit(n))
</code></pre>
<p>描述：记录每日场内基金份额数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_SHARE_DAILY)</strong>：表示从finance.FUND_SHARE_DAILY这张表中查询每日场内基金份额数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="https://www.joinquant.com/help/api/%20www.joinquant.com=" "="" view="" community="" detail="" 16411="">query简易教程</a></li>
<li><strong>finance.FUND_SHARE_DAILY</strong>：收录了每日场内基金份额数据，表结构和字段信息如下：</li>
<li><strong>filter(finance.FUND_SHARE_DAILY.date==date)</strong>：指定筛选条件，通过finance.FUND_SHARE_DAILY.date==date可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>字段设计</strong>：</p>
<table>
    <tbody><tr>
        <td width="149"><strong>名称</strong></td>
        <td width="117"><strong>类型</strong></td>
        <td width="130"><strong>描述</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>varchar(12)</td>
        <td>基金代码</td>
    </tr>
    <tr>
        <td>name</td>
        <td>varchar(50）</td>
        <td>基金简称</td>
    </tr>
    <tr>
        <td valign="middle">exchange_code</td>
      <td valign="middle">varchar(12)</td>
        <td nowrap="nowrap"><p>交易市场编码  </p>
        <p>XSHG-上海证券交易所；  </p>
        <p>XSHE-深圳证券交易所</p></td>
    </tr>
    <tr>
        <td>date</td>
        <td>date</td>
        <td>日期</td>
    </tr>
    <tr>
        <td>shares</td>
        <td>bigint</td>
        <td>基金份额（份）</td>
    </tr>
</tbody></table>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询2019-05-23的场内基金份额数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=finance.run_query(query(finance.FUND_SHARE_DAILY).filter(finance.FUND_SHARE_DAILY.date==<span class="hljs-string">'2019-05-23'</span>).limit(<span class="hljs-number">5</span>))
print(df)
       id         code    name exchange_code        date    shares
<span class="hljs-number">0</span>  <span class="hljs-number">960881</span>  <span class="hljs-number">150008.</span>XSHE    瑞和小康          XSHE  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">17749200</span>
<span class="hljs-number">1</span>  <span class="hljs-number">960882</span>  <span class="hljs-number">150009.</span>XSHE    瑞和远见          XSHE  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">17749200</span>
<span class="hljs-number">2</span>  <span class="hljs-number">960883</span>  <span class="hljs-number">150012.</span>XSHE  中证<span class="hljs-number">100</span>A          XSHE  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">36139500</span>
<span class="hljs-number">3</span>  <span class="hljs-number">960884</span>  <span class="hljs-number">150013.</span>XSHE  中证<span class="hljs-number">100</span>B          XSHE  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">54209300</span>
<span class="hljs-number">4</span>  <span class="hljs-number">960885</span>  <span class="hljs-number">150016.</span>XSHE     合润A          XSHE  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">38111200</span>
</code></pre>
<p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="场内基金行情数据">场内基金行情数据</h3>
<ul>
<li><strong>更新时间：日行情 2005至今，盘后15点、24点更新</strong></li>
<li><strong>更新时间：分钟行情 2005至今，盘后15点、24点更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述（场内）/ 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>1天/分钟行情数据</label>
      <article style="display: block; height: 3241.08px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>, panel=<span class="hljs-keyword">True</span>, fill_paused=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取一支或者多只场内基金数据；</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li>end_date:<strong>当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
<li>fq:对股票/基金的价格字段、成交量字段生效，factor不受影响，只返回后复权因子</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>'pre'：前复权 / 'none'：不复权, 返回实际价格 / 'post'：后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如本地pandas版本大于0.25将强制返回datdaframe详见案例</p></td>
    </tr>
</tbody></table>
<p><strong>fields</strong>内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td>单位股</td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交额不处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：股票是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>(2)分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货：pre_close--前一天结算；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只基金的多个属性, 同时也满足对比多只基金的一个属性的需求, 我们在security参数是<strong>一只基金和多只基金时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支基金</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获得华泰柏瑞沪深300ETF的2018年07月02日 23:30:00-2018年07月02日 23:35:00的分钟数据</span>
df = get_price(<span class="hljs-string">'510300.XSHG'</span>, start_date=<span class="hljs-string">'2018-08-01 10:00:00'</span>, end_date=<span class="hljs-string">'2018-08-01 10:05:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 返回[pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是行情字段名字</span>
print(df[:<span class="hljs-number">5</span>])
                      open  close   high    low     volume      money
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">3.437</span>  <span class="hljs-number">3.437</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">1250645.0</span>  <span class="hljs-number">4297417.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3.438</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">3.441</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">2179295.0</span>  <span class="hljs-number">7492471.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">3.435</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">1241940.0</span>  <span class="hljs-number">4264887.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">3.433</span>  <span class="hljs-number">3.431</span>  <span class="hljs-number">2061509.0</span>  <span class="hljs-number">7075951.0</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">3.431</span>  <span class="hljs-number">3.432</span>  <span class="hljs-number">3.431</span>   <span class="hljs-number">276371.0</span>   <span class="hljs-number">948489.0</span>
</code></pre><p></p>
<p><strong>获取多只基金</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得华泰柏瑞沪深300ETF和华夏上证50ETF在2018-08-01 10:00:00至2018-08-01 10:05:00的分钟数据</span>
df = get_price([<span class="hljs-string">'510300.XSHG'</span>,<span class="hljs-string">'510050.XSHG'</span>],start_date=<span class="hljs-string">'2018-08-01 10:00:00'</span>, end_date=<span class="hljs-string">'2018-08-01 10:05:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 获取开盘价的[pandas.DataFrame],行索引是[datetime.datetime]对象, 列索引是基金代号</span>
print(df[<span class="hljs-string">'open'</span>])

                     <span class="hljs-number">510300.</span>XSHG  <span class="hljs-number">510050.</span>XSHG
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.435</span>        <span class="hljs-number">2.491</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.438</span>        <span class="hljs-number">2.493</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.435</span>        <span class="hljs-number">2.491</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.432</span>        <span class="hljs-number">2.486</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.432</span>        <span class="hljs-number">2.486</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">05</span>:<span class="hljs-number">00</span>        <span class="hljs-number">3.432</span>        <span class="hljs-number">2.486</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1748.28px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 基金代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘的时间</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为datetime.datetime.now()即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回基金的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong>
<strong>获取一只基金</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#获取招商快线ETF按120分钟为周期以"2018-12-05"为基础往前5个时间单位的数据</span>
df = get_bars(<span class="hljs-string">'159003.XSHE'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2018-12-05'</span>)
print(df)

                 date     open     high     low    close
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">100.000</span>  <span class="hljs-number">100.001</span>  <span class="hljs-number">99.999</span>  <span class="hljs-number">100.000</span>
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   <span class="hljs-number">99.997</span>  <span class="hljs-number">100.000</span>  <span class="hljs-number">99.995</span>   <span class="hljs-number">99.998</span>
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>   <span class="hljs-number">99.998</span>  <span class="hljs-number">100.000</span>  <span class="hljs-number">99.998</span>  <span class="hljs-number">100.000</span>
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>   <span class="hljs-number">99.999</span>  <span class="hljs-number">100.001</span>  <span class="hljs-number">99.999</span>  <span class="hljs-number">100.000</span>
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">100.000</span>  <span class="hljs-number">100.050</span>  <span class="hljs-number">99.999</span>  <span class="hljs-number">100.002</span>
</code></pre>
<strong>获取多只基金</strong><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取港股精选lof、招商快线ETF按5分钟为周期以“2018-3-01 14:22:35”为基础前4个时间单位的数据</span>
df = get_bars([<span class="hljs-string">'160322.XSHE'</span>,<span class="hljs-string">'159003.XSHE'</span>],<span class="hljs-number">4</span>, unit=<span class="hljs-string">'5m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">True</span>,end_dt=<span class="hljs-string">'2018-3-01 14:22:35'</span>)
print(df)
                 date   open   high    low  close
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">13</span>:<span class="hljs-number">50</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">13</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.233</span>  <span class="hljs-number">1.219</span>  <span class="hljs-number">1.219</span>
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">05</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.219</span>  <span class="hljs-number">1.219</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.219</span>
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">10</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.219</span>  <span class="hljs-number">1.219</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">15</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>  <span class="hljs-number">1.218</span>
</code></pre><p></p></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据 / 2019年至今</label>
      <article style="display: block; height: 1275.11px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。当日的集合竞价数据下午15点更新。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>场内基金（2019年至今）</strong></li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<pre><code class="hljs angelscript">#获取招商快线<span class="hljs-number">2019</span><span class="hljs-number">-3</span><span class="hljs-number">-05</span>至<span class="hljs-number">2019</span><span class="hljs-number">-3</span><span class="hljs-number">-06</span>期间的集合竞价数据
df=get_call_auction(<span class="hljs-string">'159003.XSHE'</span>,<span class="hljs-string">'2019-3-05'</span>,<span class="hljs-string">'2019-3-06'</span>)
print(df)

          code                time  current   volume      money   a1_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">159003.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-05</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">100.0</span>  <span class="hljs-number">16300.0</span>  <span class="hljs-number">1629951.1</span>  <span class="hljs-number">100.0</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">159003.</span>XSHE <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-06</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">03</span>    <span class="hljs-number">100.0</span>  <span class="hljs-number">29300.0</span>  <span class="hljs-number">2929941.4</span>  <span class="hljs-number">100.0</span>   

      a1_v   a2_p     a2_v   a3_p   ...     b1_p    b1_v    b2_p    b2_v  \
<span class="hljs-number">0</span>  <span class="hljs-number">19412.0</span>  <span class="hljs-number">100.0</span>  <span class="hljs-number">21915.0</span>  <span class="hljs-number">100.0</span>   ...    <span class="hljs-number">100.0</span>  <span class="hljs-number">1500.0</span>   <span class="hljs-number">99.99</span>  <span class="hljs-number">5300.0</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">9199.0</span>  <span class="hljs-number">100.0</span>  <span class="hljs-number">49813.0</span>  <span class="hljs-number">100.0</span>   ...    <span class="hljs-number">100.0</span>   <span class="hljs-number">300.0</span>  <span class="hljs-number">100.00</span>   <span class="hljs-number">500.0</span>   

     b3_p    b3_v   b4_p    b4_v   b5_p    b5_v  
<span class="hljs-number">0</span>   <span class="hljs-number">99.99</span>   <span class="hljs-number">900.0</span>  <span class="hljs-number">99.99</span>  <span class="hljs-number">3000.0</span>  <span class="hljs-number">99.99</span>  <span class="hljs-number">1000.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">100.00</span>  <span class="hljs-number">1200.0</span>  <span class="hljs-number">99.99</span>  <span class="hljs-number">6500.0</span>  <span class="hljs-number">99.99</span>  <span class="hljs-number">9400.0</span>  

[<span class="hljs-number">2</span> rows x <span class="hljs-number">25</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>获取场内基金tick数据 /  2019-01-01 至今
</label>
      <article style="display: block; height: 2406.64px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip,df)
</code></pre>
<p><strong>场内基金部分， 支持 2019-01-01 至今的tick数据，提供买五卖五盘口数据。（每3秒一次快照）</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 场内基金代码，如'510050.XSHG'</p></li>
<li><p>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>count: 取出指定时间区间内前N条的tick数据。</p></li>
<li><p>fields: 选择要获取的行情数据字段，默认为None，返回结果如下场内基金tick返回结果。</p></li>
<li><p>skip: 默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</p></li>
<li><p>df: 指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p>
<p><strong>场内基金tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">high</td>
<td style="text-align:left;">当日最高价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">low</td>
<td style="text-align:left;">当日最低价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>场内基金tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取50ETF基金2019-10-15的tick数据</span>
df=get_ticks(<span class="hljs-string">'510050.XSHG'</span>,<span class="hljs-string">'2019-10-16 09:00:00'</span>,<span class="hljs-string">'2019-10-16 15:00:00'</span>)
print(df[:<span class="hljs-number">15</span>])
                      time  current   high    low     volume       money  \
<span class="hljs-number">0</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00.392</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">2327900.0</span>   <span class="hljs-number">7132686.0</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00.552</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">2491600.0</span>   <span class="hljs-number">7634304.0</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">03.532</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">3177815.0</span>   <span class="hljs-number">9737131.0</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">06.488</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4283600.0</span>  <span class="hljs-number">13124520.0</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">08.988</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4346100.0</span>  <span class="hljs-number">13315970.0</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">11.480</span>    <span class="hljs-number">3.065</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4666100.0</span>  <span class="hljs-number">14296725.0</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">14.500</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4731900.0</span>  <span class="hljs-number">14498336.0</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">17.360</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4856200.0</span>  <span class="hljs-number">14878966.0</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">21.148</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">5109000.0</span>  <span class="hljs-number">15653040.0</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">24.520</span>    <span class="hljs-number">3.063</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">5361300.0</span>  <span class="hljs-number">16425704.0</span>   
<span class="hljs-number">10</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">26.120</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">5401300.0</span>  <span class="hljs-number">16548184.0</span>   
<span class="hljs-number">11</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">30.560</span>    <span class="hljs-number">3.063</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">5579200.0</span>  <span class="hljs-number">17093053.0</span>   
<span class="hljs-number">12</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">33.540</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">6100200.0</span>  <span class="hljs-number">18689378.0</span>   
<span class="hljs-number">13</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">36.420</span>    <span class="hljs-number">3.065</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">6270800.0</span>  <span class="hljs-number">19212123.0</span>   
<span class="hljs-number">14</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">38.892</span>    <span class="hljs-number">3.067</span>  <span class="hljs-number">3.067</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">6640300.0</span>  <span class="hljs-number">20345030.0</span>   

     a1_p       a1_v   a2_p       a2_v    ...      b1_p      b1_v   b2_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">3.064</span>    <span class="hljs-number">80011.0</span>  <span class="hljs-number">3.065</span>   <span class="hljs-number">471300.0</span>    ...     <span class="hljs-number">3.063</span>  <span class="hljs-number">111500.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">3.065</span>   <span class="hljs-number">412211.0</span>  <span class="hljs-number">3.066</span>    <span class="hljs-number">50800.0</span>    ...     <span class="hljs-number">3.064</span>   <span class="hljs-number">20900.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3.065</span>   <span class="hljs-number">110711.0</span>  <span class="hljs-number">3.066</span>    <span class="hljs-number">44400.0</span>    ...     <span class="hljs-number">3.064</span>  <span class="hljs-number">118700.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">3.063</span>    <span class="hljs-number">45715.0</span>  <span class="hljs-number">3.064</span>    <span class="hljs-number">49200.0</span>    ...     <span class="hljs-number">3.062</span>  <span class="hljs-number">101200.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">3.064</span>    <span class="hljs-number">44615.0</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">1338211.0</span>    ...     <span class="hljs-number">3.063</span>     <span class="hljs-number">500.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">3.065</span>  <span class="hljs-number">1062826.0</span>  <span class="hljs-number">3.066</span>  <span class="hljs-number">1544500.0</span>    ...     <span class="hljs-number">3.064</span>   <span class="hljs-number">10000.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">6</span>   <span class="hljs-number">3.064</span>  <span class="hljs-number">1445000.0</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">1662826.0</span>    ...     <span class="hljs-number">3.063</span>    <span class="hljs-number">3100.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">7</span>   <span class="hljs-number">3.062</span>   <span class="hljs-number">252800.0</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">2594900.0</span>    ...     <span class="hljs-number">3.061</span>  <span class="hljs-number">121500.0</span>  <span class="hljs-number">3.060</span>   
<span class="hljs-number">8</span>   <span class="hljs-number">3.064</span>  <span class="hljs-number">2324000.0</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">2263226.0</span>    ...     <span class="hljs-number">3.063</span>    <span class="hljs-number">6000.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">9</span>   <span class="hljs-number">3.063</span>   <span class="hljs-number">189700.0</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">2024000.0</span>    ...     <span class="hljs-number">3.062</span>   <span class="hljs-number">64000.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">10</span>  <span class="hljs-number">3.063</span>   <span class="hljs-number">157700.0</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">1163900.0</span>    ...     <span class="hljs-number">3.062</span>   <span class="hljs-number">34000.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">11</span>  <span class="hljs-number">3.063</span>    <span class="hljs-number">18800.0</span>  <span class="hljs-number">3.064</span>   <span class="hljs-number">865200.0</span>    ...     <span class="hljs-number">3.062</span>  <span class="hljs-number">346000.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">12</span>  <span class="hljs-number">3.064</span>    <span class="hljs-number">63400.0</span>  <span class="hljs-number">3.065</span>   <span class="hljs-number">325300.0</span>    ...     <span class="hljs-number">3.063</span>   <span class="hljs-number">10000.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">13</span>  <span class="hljs-number">3.066</span>    <span class="hljs-number">44500.0</span>  <span class="hljs-number">3.067</span>   <span class="hljs-number">407600.0</span>    ...     <span class="hljs-number">3.065</span>  <span class="hljs-number">418400.0</span>  <span class="hljs-number">3.064</span>   
<span class="hljs-number">14</span>  <span class="hljs-number">3.067</span>   <span class="hljs-number">387600.0</span>  <span class="hljs-number">3.068</span>   <span class="hljs-number">977500.0</span>    ...     <span class="hljs-number">3.065</span>   <span class="hljs-number">50000.0</span>  <span class="hljs-number">3.064</span>   

        b2_v   b3_p      b3_v   b4_p       b4_v   b5_p      b5_v  
<span class="hljs-number">0</span>    <span class="hljs-number">91300.0</span>  <span class="hljs-number">3.061</span>   <span class="hljs-number">50600.0</span>  <span class="hljs-number">3.060</span>   <span class="hljs-number">159200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">10800.0</span>  
<span class="hljs-number">1</span>    <span class="hljs-number">97100.0</span>  <span class="hljs-number">3.062</span>   <span class="hljs-number">93300.0</span>  <span class="hljs-number">3.061</span>    <span class="hljs-number">55600.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">159200.0</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">546585.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">165500.0</span>  <span class="hljs-number">3.061</span>   <span class="hljs-number">156400.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">402100.0</span>  
<span class="hljs-number">3</span>   <span class="hljs-number">466400.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">473100.0</span>  <span class="hljs-number">3.059</span>    <span class="hljs-number">20100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">219200.0</span>  
<span class="hljs-number">4</span>   <span class="hljs-number">101200.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">399900.0</span>  <span class="hljs-number">3.060</span>   <span class="hljs-number">491100.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">20100.0</span>  
<span class="hljs-number">5</span>      <span class="hljs-number">500.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">111200.0</span>  <span class="hljs-number">3.061</span>   <span class="hljs-number">471500.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">521100.0</span>  
<span class="hljs-number">6</span>   <span class="hljs-number">111200.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">481500.0</span>  <span class="hljs-number">3.060</span>   <span class="hljs-number">521100.0</span>  <span class="hljs-number">3.059</span>  <span class="hljs-number">164100.0</span>  
<span class="hljs-number">7</span>   <span class="hljs-number">522100.0</span>  <span class="hljs-number">3.059</span>  <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>   <span class="hljs-number">363200.0</span>  <span class="hljs-number">3.057</span>     <span class="hljs-number">400.0</span>  
<span class="hljs-number">8</span>   <span class="hljs-number">471500.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">520200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">363200.0</span>  
<span class="hljs-number">9</span>   <span class="hljs-number">451500.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">520200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">363200.0</span>  
<span class="hljs-number">10</span>  <span class="hljs-number">411700.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">520200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">363200.0</span>  
<span class="hljs-number">11</span>  <span class="hljs-number">141700.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">553200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">363200.0</span>  
<span class="hljs-number">12</span>  <span class="hljs-number">297000.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">141700.0</span>  <span class="hljs-number">3.060</span>   <span class="hljs-number">594100.0</span>  <span class="hljs-number">3.059</span>  <span class="hljs-number">164100.0</span>  
<span class="hljs-number">13</span>   <span class="hljs-number">50000.0</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">212200.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">1227000.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">142200.0</span>  
<span class="hljs-number">14</span>  <span class="hljs-number">330200.0</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">212000.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">1227100.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">142200.0</span>  

[<span class="hljs-number">15</span> rows x <span class="hljs-number">26</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="基金融资融券">基金融资融券</h3>
<ul>
<li><strong>更新时间：2010至今，下一个交易日10点之前更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="get_mtss"></span>get_mtss</label>
      <label>获取基金的融资融券信息</label>
      <article style="display: block; height: 2453.95px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_mtss(security_list, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取一只或者多只基金在一个时间段内的融资融券信息</p>
<p><strong>参数</strong></p>
<ul>
<li><p>security_list: 一只基金代码或者一个基金代码的 list</p></li>
<li><p>start_date: 开始日期, <strong>与 count 二选一, 不可同时使用</strong>. 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 默认为平台提供的数据的最早日期</p></li>
<li><p>end_date: 结束日期, 一个字符串或者 [datetime.date]/[datetime.datetime] 对象, 默认为 datetime.date.today()</p></li>
<li><p>count: 数量, <strong>与 start_date 二选一，不可同时使用</strong>, 必须大于 0. 表示返回 end_date 之前 count 个交易日的数据, 包含 end_date</p></li>
<li><p>fields: 字段名或者 list, 可选. 默认为 None, 表示取全部字段, 各字段含义如下：</p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>日期</td>
</tr>
<tr>
<td>sec_code</td>
<td>基金代码</td>
</tr>
<tr>
<td>fin_value</td>
<td>融资余额(元）</td>
</tr>
<tr>
<td>fin_buy_value</td>
<td>融资买入额（元）</td>
</tr>
<tr>
<td>fin_refund_value</td>
<td>融资偿还额（元）</td>
</tr>
<tr>
<td>sec_value</td>
<td>融券余量（股）</td>
</tr>
<tr>
<td>sec_sell_value</td>
<td>融券卖出量（股）</td>
</tr>
<tr>
<td>sec_refund_value</td>
<td>融券偿还量（股）</td>
</tr>
<tr>
<td>fin_sec_value</td>
<td>融资融券余额（元）</td>
</tr>
</tbody>
</table></li>
<li><p><strong>返回</strong></p></li>
</ul>
<p>返回一个 [pandas.DataFrame] 对象，默认的列索引为取得的全部字段. 如果给定了 fields 参数, 则列索引与给定的 fields 对应.</p>
<p><strong>示例</strong></p>
<p><strong>获取一只基金</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取易方达恒生国企ETF在2016-01-01和2016-04-01的融资融券信息</span>
df=get_mtss(<span class="hljs-string">'510900.XSHG'</span>,<span class="hljs-string">'2016-01-01'</span>,<span class="hljs-string">'2016-04-01'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df[:<span class="hljs-number">5</span>])

        date     sec_code    fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>  <span class="hljs-number">510900.</span>XSHG  <span class="hljs-number">482308708.0</span>     <span class="hljs-number">22248940.0</span>        <span class="hljs-number">11551982.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>  <span class="hljs-number">510900.</span>XSHG  <span class="hljs-number">491306588.0</span>     <span class="hljs-number">22509481.0</span>        <span class="hljs-number">16488831.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>  <span class="hljs-number">510900.</span>XSHG  <span class="hljs-number">508819867.0</span>     <span class="hljs-number">35343749.0</span>        <span class="hljs-number">17830470.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">510900.</span>XSHG  <span class="hljs-number">523377028.0</span>     <span class="hljs-number">17389386.0</span>         <span class="hljs-number">2832225.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>  <span class="hljs-number">510900.</span>XSHG  <span class="hljs-number">540172694.0</span>     <span class="hljs-number">44289244.0</span>        <span class="hljs-number">27493578.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>    <span class="hljs-number">482308708.0</span>  
<span class="hljs-number">1</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>    <span class="hljs-number">491306588.0</span>  
<span class="hljs-number">2</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>    <span class="hljs-number">508819867.0</span>  
<span class="hljs-number">3</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>    <span class="hljs-number">523377028.0</span>  
<span class="hljs-number">4</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>    <span class="hljs-number">540172694.0</span> 
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取上证180ETF基金在日期 2016-06-30 往前 5 个交易日的融资融券信息</span>
df=get_mtss(<span class="hljs-string">'510180.XSHG'</span>, end_date=<span class="hljs-string">"2016-06-30"</span>, count=<span class="hljs-number">5</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df)
        date     sec_code     fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-24</span>  <span class="hljs-number">510180.</span>XSHG  <span class="hljs-number">1.390217e+09</span>       <span class="hljs-number">819754.0</span>          <span class="hljs-number">947410.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-27</span>  <span class="hljs-number">510180.</span>XSHG  <span class="hljs-number">1.390132e+09</span>        <span class="hljs-number">21340.0</span>          <span class="hljs-number">106343.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-28</span>  <span class="hljs-number">510180.</span>XSHG  <span class="hljs-number">1.390143e+09</span>       <span class="hljs-number">228053.0</span>          <span class="hljs-number">217386.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-29</span>  <span class="hljs-number">510180.</span>XSHG  <span class="hljs-number">1.390280e+09</span>       <span class="hljs-number">344875.0</span>          <span class="hljs-number">207587.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">510180.</span>XSHG  <span class="hljs-number">1.387647e+09</span>       <span class="hljs-number">492910.0</span>         <span class="hljs-number">3125884.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>  <span class="hljs-number">2222005.0</span>        <span class="hljs-number">476900.0</span>          <span class="hljs-number">475800.0</span>   <span class="hljs-number">1.396101e+09</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">1924005.0</span>        <span class="hljs-number">112000.0</span>          <span class="hljs-number">410000.0</span>   <span class="hljs-number">1.395292e+09</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">1894305.0</span>        <span class="hljs-number">354900.0</span>          <span class="hljs-number">384600.0</span>   <span class="hljs-number">1.395254e+09</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">1917305.0</span>        <span class="hljs-number">240800.0</span>          <span class="hljs-number">217800.0</span>   <span class="hljs-number">1.395491e+09</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">1888705.0</span>         <span class="hljs-number">11400.0</span>           <span class="hljs-number">40000.0</span>   <span class="hljs-number">1.392781e+09</span>  
</code></pre>
<p><strong>获取多只基金</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取消费ETF、金融ETF、农业50基金的融资融券信息</span>
df=get_mtss([<span class="hljs-string">'510150.XSHG'</span>,<span class="hljs-string">'510230.XSHG'</span>,<span class="hljs-string">'159827.XSHE'</span>],<span class="hljs-string">'2021-02-24'</span>,<span class="hljs-string">'2021-02-24'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'sec_code'</span>,<span class="hljs-string">'fin_value'</span>,<span class="hljs-string">'fin_buy_value'</span>,<span class="hljs-string">'fin_refund_value'</span>,<span class="hljs-string">'sec_value'</span>,<span class="hljs-string">'sec_sell_value'</span>,<span class="hljs-string">'sec_refund_value'</span>,<span class="hljs-string">'fin_sec_value'</span>])
print(df)
        date     sec_code   fin_value  fin_buy_value  fin_refund_value  \
<span class="hljs-number">0</span> <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-24</span>  <span class="hljs-number">510150.</span>XSHG  <span class="hljs-number">34822768.0</span>      <span class="hljs-number">2121711.0</span>         <span class="hljs-number">3335257.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-24</span>  <span class="hljs-number">510230.</span>XSHG  <span class="hljs-number">41945048.0</span>      <span class="hljs-number">3083287.0</span>         <span class="hljs-number">7138831.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-24</span>  <span class="hljs-number">159827.</span>XSHE   <span class="hljs-number">6530989.0</span>      <span class="hljs-number">1408821.0</span>         <span class="hljs-number">1551326.0</span>   

   sec_value  sec_sell_value  sec_refund_value  fin_sec_value  
<span class="hljs-number">0</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>     <span class="hljs-number">34822768.0</span>  
<span class="hljs-number">1</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>     <span class="hljs-number">41945048.0</span>  
<span class="hljs-number">2</span>        <span class="hljs-number">0.0</span>             <span class="hljs-number">0.0</span>               <span class="hljs-number">0.0</span>      <span class="hljs-number">6530989.0</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_margincash_stocks"></span>get_margincash_stocks</label>
      <label><strong>融资</strong>标的列表 </label>
      <article style="display: block; height: 343.898px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_margincash_stocks(date)
</code></pre>
<p><strong>参数</strong>
date:默认为None,不指定时返回上交所、深交所最近一次披露的的可融资标的列表的list。</p>
<p><strong>返回结果</strong>
返回指定日期上交所、深交所披露的的可融资标的列表的list。</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 判断芯片ETF是否在可融资列表</span>
<span class="hljs-string">'159813.XSHE'</span> <span class="hljs-keyword">in</span> get_margincash_stocks(date=<span class="hljs-string">'2021-03-02'</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">True</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_marginsec_stocks"></span>get_marginsec_stocks</label>
      <label><strong>融券</strong>标的列表</label>
      <article style="display: block; height: 343.898px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_marginsec_stocks(date)
</code></pre>
<p><strong>参数</strong>
date:默认为None,不指定时返回上交所、深交所最近一次披露的的可融券标的列表的list。</p>
<p><strong>返回结果</strong>
返回指定日期上交所、深交所披露的的可融券标的列表的list。</p>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 判断新经济ETF是否在可融券列表</span>
<span class="hljs-string">'159822.XSHE'</span> <span class="hljs-keyword">in</span> get_marginsec_stocks(date=<span class="hljs-string">'2021-03-02'</span>)
<span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-keyword">True</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="STK_MT_TOTAL"></span>STK_MT_TOTAL</label>
      <label>融资融券汇总数据</label>
      <article style="display: block; height: 1486.14px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
finance.run_query(query(finance.STK_MT_TOTAL).filter(finance.STK_MT_TOTAL.date==<span class="hljs-string">'2019-05-23'</span>).limit(n))
</code></pre>
<p>描述：记录上海交易所和深圳交易所的融资融券汇总数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.STK_MT_TOTAL)</strong>：表示从finance.STK_MT_TOTAL这张表中查询融资融券汇总数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></li>
<li><strong>finance.STK_MT_TOTAL</strong>：收录了融资融券汇总数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td>名称</td>
        <td>类型</td>
        <td>描述</td>
    </tr>
    <tr>
        <td>date</td>
        <td>date</td>
        <td>交易日期</td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>varchar(12)</td>
        <td><p>交易市场。例如，XSHG-上海证券交易所；XSHE-深圳证券交易所。</p>
<p>对应DataAPI.SysCodeGet.codeTypeID=10002。</p></td>
    </tr>
    <tr>
        <td>fin_value</td>
        <td>decimal(20,2)</td>
        <td>融资余额（元）</td>
    </tr>
    <tr>
        <td>fin_buy_value</td>
        <td>decimal(20,2)</td>
        <td>融资买入额（元）</td>
    </tr>
    <tr>
        <td>sec_volume</td>
        <td>int</td>
        <td>融券余量（股）</td>
    </tr>
    <tr>
        <td>sec_value</td>
        <td>decimal(20,2)</td>
        <td>融券余量金额（元）</td>
    </tr>
    <tr>
        <td>sec_sell_volume</td>
        <td>int</td>
        <td>融券卖出量（股）</td>
    </tr>
    <tr>
        <td>fin_sec_value</td>
        <td>decimal(20,2)</td>
        <td>融资融券余额（元）</td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(finance.STK_MT_TOTAL.date==date)</strong>：指定筛选条件，通过finance.STK_MT_TOTAL.date==date可以指定你想要查询的日期；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询2019-05-23的融资融券汇总数据。</span>
df=finance.run_query(query(finance.STK_MT_TOTAL).filter(finance.STK_MT_TOTAL.date==<span class="hljs-string">'2019-05-23'</span>))
print(df)

     id        date exchange_code     fin_value  fin_buy_value  sec_volume  \
<span class="hljs-number">0</span>  <span class="hljs-number">4445</span>  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>          XSHE  <span class="hljs-number">3.601290e+11</span>   <span class="hljs-number">1.460400e+10</span>   <span class="hljs-number">136000000</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">4446</span>  <span class="hljs-number">2019</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>          XSHG  <span class="hljs-number">5.605276e+11</span>   <span class="hljs-number">1.906461e+10</span>   <span class="hljs-number">930593681</span>   

      sec_value  sec_sell_volume  fin_sec_value  
<span class="hljs-number">0</span>  <span class="hljs-number">1.465000e+09</span>         <span class="hljs-number">26000000</span>   <span class="hljs-number">3.615940e+11</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">6.018287e+09</span>        <span class="hljs-number">144633497</span>   <span class="hljs-number">5.665458e+11</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="公募基金数据净值等">公募基金数据(净值等)</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述（传入基金代码无需添加后缀）/ 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="FUND_MAIN_INFO"></span>FUND_MAIN_INFO</label>
      <label>基金主体信息 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 2428.76px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_MAIN_INFO).filter(finance.FUND_MAIN_INFO.main_code==main_code).limit(n))
</code></pre>
<p>描述：记录不同基金的主体信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_MAIN_INFO)</strong>：表示从finance.FUND_MAIN_INFO这张表中查询公募基金主体信息数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_MAIN_INFO</strong>：收录了公募基金主体信息数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>main_code</td>
<td>基金主体代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>name</td>
<td>基金名称</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>advisor</td>
<td>基金管理人</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>trustee</td>
<td>基金托管人</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>operate_mode_id</td>
<td>基金运作方式编码</td>
<td>int</td>
</tr>
<tr>
<td>operate_mode</td>
<td>基金运作方式</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>underlying_asset_type_id</td>
<td>投资标的类型编码</td>
<td>int</td>
</tr>
<tr>
<td>underlying_asset_type</td>
<td>投资标的类型</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>start_date</td>
<td>成立日期</td>
<td>date</td>
</tr>
<tr>
<td>pub_date</td>
<td>发行日期</td>
<td>date</td>
</tr>
<tr>
<td>end_date</td>
<td>结束日期</td>
<td>date</td>
</tr>
<tr>
<td>invest_style_id</td>
<td>投资风格编码</td>
<td>int</td>
</tr>
<tr>
<td>invest_style</td>
<td>投资风格</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>statistics_main_code</td>
<td>基金统计主代码（仅多份额基金存在此字段）</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>基金运作方式编码</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>编码</th>
<th>401001</th>
<th>401002</th>
<th>401003</th>
<th>401004</th>
<th>401005</th>
<th>401006</th>
<th>401008</th>
</tr>
</thead>
<tbody>
<tr>
<td>基金运作方式</td>
<td>开放式基金</td>
<td>封闭式基金</td>
<td>QDII</td>
<td>FOF</td>
<td>ETF</td>
<td>LOF</td>
<td>基础设施基金</td>
</tr>
</tbody>
</table>
<p>基金类别编码</p>
<table>
<thead>
<tr>
<th>编码</th>
<th>402001</th>
<th>402002</th>
<th>402003</th>
<th>402004</th>
<th>402005</th>
<th>402006</th>
<th>402007</th>
</tr>
</thead>
<tbody>
<tr>
<td>基金类别</td>
<td>股票型</td>
<td>货币型</td>
<td>债券型</td>
<td>混合型</td>
<td>基金型</td>
<td>贵金属</td>
<td>封闭式</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_MAIN_INFO.main_code==main_code)</strong>：指定筛选条件，通过finance.FUND_MAIN_INFO.main_code==main_code可以指定你想要查询的基金主体代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询瑞和小康封闭式基金的基金主体信息数据,传入的基金代码无须添加后缀</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FUND_MAIN_INFO).filter(finance.FUND_MAIN_INFO.main_code==<span class="hljs-string">'150008'</span>)
df=finance.run_query(q)
print(df)

     id main_code  name       advisor       trustee  operate_mode_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">4975</span>    <span class="hljs-number">150008</span>  瑞和小康  国投瑞银基金管理有限公司  中国工商银行股份有限公司           <span class="hljs-number">401002</span>   

  operate_mode  underlying_asset_type_id underlying_asset_type  start_date  \
<span class="hljs-number">0</span>        封闭式基金                    <span class="hljs-number">402001</span>                   股票型  <span class="hljs-number">2009</span><span class="hljs-number">-10</span><span class="hljs-number">-14</span>   

     end_date  
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-28</span>  
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询华夏成长开放式基金的基金主体信息数据,传入的基金代码无须添加后缀</span>
q=query(finance.FUND_MAIN_INFO).filter(finance.FUND_MAIN_INFO.main_code==<span class="hljs-string">'000001'</span>)
df=finance.run_query(q)
print(df)

  id main_code  name     advisor       trustee  operate_mode_id operate_mode  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>    <span class="hljs-number">000001</span>  华夏成长  华夏基金管理有限公司  中国建设银行股份有限公司           <span class="hljs-number">401001</span>        开放式基金   

   underlying_asset_type_id underlying_asset_type  start_date end_date  
<span class="hljs-number">0</span>                    <span class="hljs-number">402004</span>                   混合型  <span class="hljs-number">2001</span><span class="hljs-number">-12</span><span class="hljs-number">-18</span>     <span class="hljs-keyword">None</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="FUND_NET_VALUE"></span>FUND_NET_VALUE</label>
      <label>基金净值信息 / 上市至今，盘前9:00更新</label>
      <article style="display: block; height: 2211.88px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_NET_VALUE).filter(finance.FUND_NET_VALUE.code==code).limit(n))
</code></pre>
<p>描述：记录公募基金的净值数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_NET_VALUE)</strong>：表示从finance.FUND_NET_VALUE这张表中查询基金净值数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_NET_VALUE</strong>：收录了基金净值数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>注释</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
<td></td>
</tr>
<tr>
<td>day</td>
<td>交易日</td>
<td>date</td>
<td></td>
</tr>
<tr>
<td>net_value</td>
<td>单位净值</td>
<td>decimal(20,6)</td>
<td>基金单位净值=（基金资产总值－基金负债）÷ 基金总份额</td>
</tr>
<tr>
<td>sum_value</td>
<td>累计净值</td>
<td>decimal(20,6)</td>
<td>累计单位净值＝单位净值＋成立以来每份累计分红派息的金额</td>
</tr>
<tr>
<td>factor</td>
<td>复权因子</td>
<td>decimal(20,6)</td>
<td>交易日最近一次分红拆分送股的复权因子</td>
</tr>
<tr>
<td>acc_factor</td>
<td>累计复权因子</td>
<td>decimal(20,6)</td>
<td>基金从上市至今累计分红拆分送股的复权因子</td>
</tr>
<tr>
<td>refactor_net_value</td>
<td>累计复权净值</td>
<td>decimal(20,6)</td>
<td>复权单位净值＝单计净值＋成立以来每份累计分红派息的金额（1+涨跌幅）</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_NET_VALUE.code==code)</strong>：指定筛选条件，通过finance.FUND_NET_VALUE.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询瑞和小康("150008)基金净值数据，传入的基金代码无需添加后缀</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FUND_NET_VALUE).filter(finance.FUND_NET_VALUE.code==<span class="hljs-string">"150008"</span>).order_by(finance.FUND_NET_VALUE.day.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)
         id    code         day  net_value  sum_value  factor  acc_factor  \
<span class="hljs-number">0</span>  <span class="hljs-number">23506832</span>  <span class="hljs-number">150008</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>      <span class="hljs-number">1.227</span>      <span class="hljs-number">1.613</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">1.314668</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">23506831</span>  <span class="hljs-number">150008</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-26</span>      <span class="hljs-number">1.228</span>      <span class="hljs-number">1.614</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">1.314668</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">23506830</span>  <span class="hljs-number">150008</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-25</span>      <span class="hljs-number">1.234</span>      <span class="hljs-number">1.622</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">1.314668</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">23425100</span>  <span class="hljs-number">150008</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-24</span>      <span class="hljs-number">1.234</span>      <span class="hljs-number">1.622</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">1.314668</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">23414948</span>  <span class="hljs-number">150008</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>      <span class="hljs-number">1.229</span>      <span class="hljs-number">1.616</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">1.314668</span>   

   refactor_net_value  
<span class="hljs-number">0</span>            <span class="hljs-number">1.613098</span>  
<span class="hljs-number">1</span>            <span class="hljs-number">1.614412</span>  
<span class="hljs-number">2</span>            <span class="hljs-number">1.622300</span>  
<span class="hljs-number">3</span>            <span class="hljs-number">1.622300</span>  
<span class="hljs-number">4</span>            <span class="hljs-number">1.615727</span>  
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询华夏成长证券投资基金("000001")基金净值数据，传入的基金代码无需添加后缀</span>
q=query(finance.FUND_NET_VALUE).filter(finance.FUND_NET_VALUE.code==<span class="hljs-string">"000001"</span>).order_by(finance.FUND_NET_VALUE.day.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

         id    code         day  net_value  sum_value  factor  acc_factor  \
<span class="hljs-number">0</span>  <span class="hljs-number">27902258</span>  <span class="hljs-number">000001</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-05</span>      <span class="hljs-number">1.284</span>      <span class="hljs-number">3.795</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">6.062503</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">27897919</span>  <span class="hljs-number">000001</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-04</span>      <span class="hljs-number">1.281</span>      <span class="hljs-number">3.792</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">6.062503</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">27884693</span>  <span class="hljs-number">000001</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span>      <span class="hljs-number">1.330</span>      <span class="hljs-number">3.841</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">6.062503</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">27871106</span>  <span class="hljs-number">000001</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span>      <span class="hljs-number">1.315</span>      <span class="hljs-number">3.826</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">6.062503</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">27864300</span>  <span class="hljs-number">000001</span>  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span>      <span class="hljs-number">1.336</span>      <span class="hljs-number">3.847</span>     <span class="hljs-number">1.0</span>    <span class="hljs-number">6.062503</span>   

   refactor_net_value  
<span class="hljs-number">0</span>            <span class="hljs-number">7.784254</span>  
<span class="hljs-number">1</span>            <span class="hljs-number">7.766066</span>  
<span class="hljs-number">2</span>            <span class="hljs-number">8.063129</span>  
<span class="hljs-number">3</span>            <span class="hljs-number">7.972191</span>  
<span class="hljs-number">4</span>            <span class="hljs-number">8.099504</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="FUND_PORTFOLIO_STOCK"></span>FUND_PORTFOLIO_STOCK</label>
      <label>基金持股信息 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 2365.51px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_PORTFOLIO_STOCK).filter(finance.FUND_PORTFOLIO_STOCK.code==code).limit(n))
</code></pre>
<p>描述：统计基金季度报表、半年度报表和年度报表披露的股票持仓数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_PORTFOLIO_STOCK)</strong>：表示从finance.FUND_PORTFOLIO_STOCK这张表中查询基金持仓股票组合数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_PORTFOLIO_STOCK</strong>：收录了基金持仓股票组合数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>period_start</td>
<td>开始日期</td>
<td>date</td>
</tr>
<tr>
<td>period_end</td>
<td>报告期</td>
<td>date</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
</tr>
<tr>
<td>report_type_id</td>
<td>报告类型编码</td>
<td>int</td>
</tr>
<tr>
<td>report_type</td>
<td>报告类型</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>rank</td>
<td>持仓排名</td>
<td>int</td>
</tr>
<tr>
<td>symbol</td>
<td>股票代码</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>name</td>
<td>股票名称</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>shares</td>
<td>持有股票</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>market_cap</td>
<td>持有股票的市值</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>proportion</td>
<td>占净值比例</td>
<td>decimal(10,4)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_PORTFOLIO_STOCK.code==code)</strong>：指定筛选条件，通过finance.FUND_PORTFOLIO_STOCK.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询合润A基金("150016")最近一个季度的基金持仓股票组合前5只股票</span>
q=query(finance.FUND_PORTFOLIO_STOCK).filter(finance.FUND_PORTFOLIO_STOCK.code==<span class="hljs-string">"150016"</span>).order_by(finance.FUND_PORTFOLIO_STOCK.pub_date.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

         id    code period_start  period_end    pub_date  report_type_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">16178727</span>  <span class="hljs-number">150016</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">16178726</span>  <span class="hljs-number">150016</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">16178725</span>  <span class="hljs-number">150016</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">16178724</span>  <span class="hljs-number">150016</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">16178723</span>  <span class="hljs-number">150016</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   

  report_type  rank  symbol  name      shares    market_cap  proportion  
<span class="hljs-number">0</span>        第四季度    <span class="hljs-number">10</span>  <span class="hljs-number">601012</span>  隆基股份   <span class="hljs-number">6707249.0</span>  <span class="hljs-number">5.835850e+08</span>        <span class="hljs-number">2.83</span>  
<span class="hljs-number">1</span>        第四季度     <span class="hljs-number">9</span>  <span class="hljs-number">688099</span>  晶晨股份   <span class="hljs-number">7575165.0</span>  <span class="hljs-number">5.887965e+08</span>        <span class="hljs-number">2.86</span>  
<span class="hljs-number">2</span>        第四季度     <span class="hljs-number">8</span>  <span class="hljs-number">000895</span>  双汇发展  <span class="hljs-number">13913806.0</span>  <span class="hljs-number">6.439926e+08</span>        <span class="hljs-number">3.13</span>  
<span class="hljs-number">3</span>        第四季度     <span class="hljs-number">7</span>  <span class="hljs-number">300413</span>  芒果超媒   <span class="hljs-number">9394546.0</span>  <span class="hljs-number">6.811046e+08</span>        <span class="hljs-number">3.31</span>  
<span class="hljs-number">4</span>        第四季度     <span class="hljs-number">6</span>  <span class="hljs-number">002594</span>   比亚迪   <span class="hljs-number">3581370.0</span>  <span class="hljs-number">6.958602e+08</span>        <span class="hljs-number">3.38</span>  
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询中海新能源主题灵活配置混合型证券投资基金("398051")最近一个季度的基金持仓股票组合前10只股票</span>
q=query(finance.FUND_PORTFOLIO_STOCK).filter(finance.FUND_PORTFOLIO_STOCK.code==<span class="hljs-string">"398051"</span>).order_by(finance.FUND_PORTFOLIO_STOCK.pub_date.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

         id    code period_start  period_end    pub_date  report_type_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">16189331</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">16189327</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">16189328</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">16189329</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">16189330</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   

  report_type  rank  symbol  name     shares   market_cap  proportion  
<span class="hljs-number">0</span>        第四季度     <span class="hljs-number">5</span>  <span class="hljs-number">002460</span>  赣锋锂业   <span class="hljs-number">496540.0</span>  <span class="hljs-number">50249848.00</span>        <span class="hljs-number">3.63</span>  
<span class="hljs-number">1</span>        第四季度     <span class="hljs-number">1</span>  <span class="hljs-number">300750</span>  宁德时代   <span class="hljs-number">203995.0</span>  <span class="hljs-number">71624684.45</span>        <span class="hljs-number">5.17</span>  
<span class="hljs-number">2</span>        第四季度     <span class="hljs-number">2</span>  <span class="hljs-number">600438</span>  通威股份  <span class="hljs-number">1673800.0</span>  <span class="hljs-number">64340872.00</span>        <span class="hljs-number">4.64</span>  
<span class="hljs-number">3</span>        第四季度     <span class="hljs-number">3</span>  <span class="hljs-number">002594</span>   比亚迪   <span class="hljs-number">285600.0</span>  <span class="hljs-number">55492080.00</span>        <span class="hljs-number">4.00</span>  
<span class="hljs-number">4</span>        第四季度     <span class="hljs-number">4</span>  <span class="hljs-number">300124</span>  汇川技术   <span class="hljs-number">540276.0</span>  <span class="hljs-number">50407750.80</span>        <span class="hljs-number">3.64</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="FUND_PORTFOLIO_BOND"></span>FUND_PORTFOLIO_BOND</label>
      <label>基金持有的债券信息 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 2296.41px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_PORTFOLIO_BOND).filter(finance.FUND_PORTFOLIO_BOND.code==code).limit(n))
</code></pre>
<p>描述：记录公募基金按季度公布的债券组合，为债券投资者提供一些参照</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_PORTFOLIO_BOND)</strong>：表示从finance.FUND_PORTFOLIO_BOND这张表中查询基金持仓债券组合数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_PORTFOLIO_BOND</strong>：收录了基金持仓债券组合数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>period_start</td>
<td>开始日期</td>
<td>date</td>
</tr>
<tr>
<td>period_end</td>
<td>报告期</td>
<td>date</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
</tr>
<tr>
<td>report_type_id</td>
<td>报告类型编码</td>
<td>int</td>
</tr>
<tr>
<td>report_type</td>
<td>报告类型</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>rank</td>
<td>持仓排名</td>
<td>int</td>
</tr>
<tr>
<td>symbol</td>
<td>债券代码</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>name</td>
<td>债券名称</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>shares</td>
<td>持有债券数量</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>market_cap</td>
<td>持有债券的市值</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>proportion</td>
<td>占净值比例</td>
<td>decimal(10,4)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_PORTFOLIO_BOND.code==code)</strong>：指定筛选条件，通过finance.FUND_PORTFOLIO_BOND.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询银华锐进基金("150019")基金持有的债券组合数据</span>
df=finance.run_query(query(finance.FUND_PORTFOLIO_BOND).filter(finance.FUND_PORTFOLIO_BOND.code==<span class="hljs-string">'150019'</span>).order_by(finance.FUND_PORTFOLIO_BOND.pub_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

       id    code period_start  period_end    pub_date  report_type_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">727440</span>  <span class="hljs-number">150019</span>   <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span>  <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">2019</span><span class="hljs-number">-07</span><span class="hljs-number">-19</span>          <span class="hljs-number">403002</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">697207</span>  <span class="hljs-number">150019</span>   <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-18</span>          <span class="hljs-number">403001</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">697208</span>  <span class="hljs-number">150019</span>   <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-18</span>          <span class="hljs-number">403001</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">697209</span>  <span class="hljs-number">150019</span>   <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-31</span>  <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-18</span>          <span class="hljs-number">403001</span>   

  report_type  rank  symbol    name    shares  market_cap  proportion  
<span class="hljs-number">0</span>        第二季度     <span class="hljs-number">1</span>  <span class="hljs-number">108603</span>  国开<span class="hljs-number">1804</span>   <span class="hljs-number">90000.0</span>   <span class="hljs-number">9005400.0</span>        <span class="hljs-number">0.14</span>  
<span class="hljs-number">1</span>        第一季度     <span class="hljs-number">1</span>  <span class="hljs-number">018005</span>  国开<span class="hljs-number">1701</span>  <span class="hljs-number">380000.0</span>  <span class="hljs-number">38003800.0</span>        <span class="hljs-number">0.57</span>  
<span class="hljs-number">2</span>        第一季度     <span class="hljs-number">2</span>  <span class="hljs-number">108603</span>  国开<span class="hljs-number">1804</span>   <span class="hljs-number">80000.0</span>   <span class="hljs-number">8040000.0</span>        <span class="hljs-number">0.12</span>  
<span class="hljs-number">3</span>        第一季度     <span class="hljs-number">3</span>  <span class="hljs-number">019537</span>  <span class="hljs-number">16</span>国债<span class="hljs-number">09</span>   <span class="hljs-number">66810.0</span>   <span class="hljs-number">6681000.0</span>        <span class="hljs-number">0.10</span>  
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询中海环保新能源主题灵活配置混合型证券投资基金("398051")基金持有的债券组合数据</span>
df=finance.run_query(query(finance.FUND_PORTFOLIO_BOND).filter(finance.FUND_PORTFOLIO_BOND.code==<span class="hljs-string">'398051'</span>).order_by(finance.FUND_PORTFOLIO_BOND.pub_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

       id    code period_start  period_end    pub_date  report_type_id  \
<span class="hljs-number">0</span>  <span class="hljs-number">929557</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">929556</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">929555</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">929554</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">929558</span>  <span class="hljs-number">398051</span>   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>          <span class="hljs-number">403004</span>   

  report_type  rank  symbol    name    shares   market_cap  proportion  
<span class="hljs-number">0</span>        第四季度     <span class="hljs-number">4</span>  <span class="hljs-number">113040</span>    星宇转债  <span class="hljs-number">110000.0</span>  <span class="hljs-number">15744300.00</span>        <span class="hljs-number">1.14</span>  
<span class="hljs-number">1</span>        第四季度     <span class="hljs-number">3</span>  <span class="hljs-number">019640</span>  <span class="hljs-number">20</span>国债<span class="hljs-number">10</span>  <span class="hljs-number">235200.0</span>  <span class="hljs-number">23489424.00</span>        <span class="hljs-number">1.69</span>  
<span class="hljs-number">2</span>        第四季度     <span class="hljs-number">2</span>  <span class="hljs-number">123070</span>    鹏辉转债  <span class="hljs-number">269372.0</span>  <span class="hljs-number">37356508.96</span>        <span class="hljs-number">2.70</span>  
<span class="hljs-number">3</span>        第四季度     <span class="hljs-number">1</span>  <span class="hljs-number">019645</span>  <span class="hljs-number">20</span>国债<span class="hljs-number">15</span>  <span class="hljs-number">380000.0</span>  <span class="hljs-number">38136800.00</span>        <span class="hljs-number">2.75</span>  
<span class="hljs-number">4</span>        第四季度     <span class="hljs-number">5</span>  <span class="hljs-number">113586</span>    上机转债   <span class="hljs-number">37130.0</span>  <span class="hljs-number">15395583.20</span>        <span class="hljs-number">1.11</span>  
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>




<div class="group">
      <label><span id="FUND_PORTFOLIO"></span>FUND_PORTFOLIO</label>
      <label>基金资产组合概况 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 3106.35px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_PORTFOLIO).filter(finance.FUND_PORTFOLIO.code==code).limit(n))
</code></pre>
<p>描述：基金资产组合概况</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_PORTFOLIO)</strong>：表示从finance.FUND_PORTFOLIO这张表中查询基金资产组合概况数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_PORTFOLIO</strong>：收录了基金资产组合概况数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>name</td>
<td>基金名称</td>
<td>varchar(80)</td>
</tr>
<tr>
<td>period_start</td>
<td>开始日期</td>
<td>date</td>
</tr>
<tr>
<td>period_end</td>
<td>报告期</td>
<td>date</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
</tr>
<tr>
<td>report_type_id</td>
<td>报告类型编码</td>
<td>int</td>
</tr>
<tr>
<td>report_type</td>
<td>报告类型</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>equity_value</td>
<td>权益类投资金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>equity_rate</td>
<td>权益类投资占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>stock_value</td>
<td>股票投资金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>stock_rate</td>
<td>股票投资占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>fixed_income_value</td>
<td>固定收益投资金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>fixed_income_rate</td>
<td>固定收益投资占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>precious_metal_value</td>
<td>贵金属投资金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>precious_metal_rate</td>
<td>贵金属投资占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>derivative_value</td>
<td>金融衍生品投资金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>derivative_rate</td>
<td>金融衍生品投资占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>buying_back_value</td>
<td>买入返售金融资产金额</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>buying_back_rate</td>
<td>买入返售金融资产占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>deposit_value</td>
<td>银行存款和结算备付金合计</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>deposit_rate</td>
<td>银行存款和结算备付金合计占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>others_value</td>
<td>其他资产</td>
<td>decimal(20,4)</td>
</tr>
<tr>
<td>others_rate</td>
<td>其他资产占比</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>total_asset</td>
<td>总资产合计</td>
<td>decimal(20,4)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_PORTFOLIO.code==code)</strong>：指定筛选条件，通过finance.FUND_PORTFOLIO.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询深成指B基金("150023")基金资产组合概况数据，传入的基金代码无需后缀</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FUND_PORTFOLIO.code,
                  finance.FUND_PORTFOLIO.name,
                  finance.FUND_PORTFOLIO.pub_date,
                  finance.FUND_PORTFOLIO.stock_rate,
                  finance.FUND_PORTFOLIO.fixed_income_rate,
finance.FUND_PORTFOLIO.total_asset).filter(finance.FUND_PORTFOLIO.code==<span class="hljs-string">"150023"</span>).order_by(finance.FUND_PORTFOLIO.pub_date.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

     code                    name    pub_date  stock_rate  fixed_income_rate  \
<span class="hljs-number">0</span>  <span class="hljs-number">150023</span>  申万菱信深证成指分级证券投资基金申万进取份额  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>       <span class="hljs-number">84.92</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">150023</span>  申万菱信深证成指分级证券投资基金申万进取份额  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>       <span class="hljs-number">93.66</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">150023</span>  申万菱信深证成指分级证券投资基金申万进取份额  <span class="hljs-number">2020</span><span class="hljs-number">-07</span><span class="hljs-number">-21</span>       <span class="hljs-number">93.18</span>                NaN   
<span class="hljs-number">3</span>  <span class="hljs-number">150023</span>  申万菱信深证成指分级证券投资基金申万进取份额  <span class="hljs-number">2020</span><span class="hljs-number">-04</span><span class="hljs-number">-22</span>       <span class="hljs-number">92.68</span>                NaN   
<span class="hljs-number">4</span>  <span class="hljs-number">150023</span>  申万菱信深证成指分级证券投资基金申万进取份额  <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span>       <span class="hljs-number">93.35</span>                NaN   

    total_asset  
<span class="hljs-number">0</span>  <span class="hljs-number">2.499121e+09</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">3.503815e+09</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">3.314002e+09</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">2.794784e+09</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">2.960295e+09</span>  
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询开元证券投资基金("184688")基金资产组合概况数据，传入的基金代码无需后缀</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
q=query(finance.FUND_PORTFOLIO.code,
                  finance.FUND_PORTFOLIO.name,
                  finance.FUND_PORTFOLIO.pub_date,
                  finance.FUND_PORTFOLIO.stock_rate,
                  finance.FUND_PORTFOLIO.fixed_income_rate,
finance.FUND_PORTFOLIO.total_asset).filter(finance.FUND_PORTFOLIO.code==<span class="hljs-string">"184688"</span>).order_by(finance.FUND_PORTFOLIO.pub_date.desc()).limit(<span class="hljs-number">5</span>)
df=finance.run_query(q)
print(df)

     code      name    pub_date  stock_rate  fixed_income_rate   total_asset
<span class="hljs-number">0</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2013</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>       <span class="hljs-number">76.08</span>              <span class="hljs-number">23.14</span>  <span class="hljs-number">1.755376e+09</span>
<span class="hljs-number">1</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2012</span><span class="hljs-number">-10</span><span class="hljs-number">-26</span>       <span class="hljs-number">73.16</span>              <span class="hljs-number">25.00</span>  <span class="hljs-number">1.710568e+09</span>
<span class="hljs-number">2</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2012</span><span class="hljs-number">-07</span><span class="hljs-number">-18</span>       <span class="hljs-number">73.93</span>              <span class="hljs-number">24.76</span>  <span class="hljs-number">1.733814e+09</span>
<span class="hljs-number">3</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2012</span><span class="hljs-number">-04</span><span class="hljs-number">-23</span>       <span class="hljs-number">76.62</span>              <span class="hljs-number">21.86</span>  <span class="hljs-number">1.726419e+09</span>
<span class="hljs-number">4</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2012</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span>       <span class="hljs-number">73.83</span>              <span class="hljs-number">24.41</span>  <span class="hljs-number">1.625162e+09</span>
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="FUND_FIN_INDICATOR"></span>FUND_FIN_INDICATOR</label>
      <label>基金财务指标信息 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 3635.32px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_FIN_INDICATOR).filter(finance.FUND_FIN_INDICATOR.code==code).limit(n))
</code></pre>
<p>描述：基金财务指标表</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_FIN_INDICATOR)</strong>：表示从finance.FUND_FIN_INDICATOR这张表中查询基金财务指标数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_FIN_INDICATOR</strong>：收录了基金财务指标数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>name</td>
<td>基金名称</td>
<td>varchar(80)</td>
</tr>
<tr>
<td>period_start</td>
<td>开始日期</td>
<td>date</td>
</tr>
<tr>
<td>period_end</td>
<td>结束日期</td>
<td>date</td>
</tr>
<tr>
<td>pub_date</td>
<td>公告日期</td>
<td>date</td>
</tr>
<tr>
<td>report_type_id</td>
<td>报告类型编码</td>
<td>int</td>
</tr>
<tr>
<td>report_type</td>
<td>报告类型</td>
<td>varchar(32)</td>
</tr>
<tr>
<td>profit</td>
<td>本期利润</td>
<td></td>
</tr>
<tr>
<td>adjust_profit</td>
<td>本期利润扣减本期公允价值变动损益后的净额</td>
<td></td>
</tr>
<tr>
<td>avg_profit</td>
<td>加权平均份额本期利润</td>
<td></td>
</tr>
<tr>
<td>avg_roe</td>
<td>加权平均净值利润率</td>
<td></td>
</tr>
<tr>
<td>profit_available</td>
<td>期末可供分配利润</td>
<td></td>
</tr>
<tr>
<td>profit_avaialbe_per_share</td>
<td>期末可供分配份额利润</td>
<td></td>
</tr>
<tr>
<td>total_tna</td>
<td>期末基金资产净值</td>
<td></td>
</tr>
<tr>
<td>nav</td>
<td>期末基金份额净值</td>
<td></td>
</tr>
<tr>
<td>adjust_nav</td>
<td>期末还原后基金份额累计净值</td>
<td></td>
</tr>
<tr>
<td>nav_growth</td>
<td>本期净值增长率</td>
<td></td>
</tr>
<tr>
<td>acc_nav_growth</td>
<td>累计净值增长率</td>
<td></td>
</tr>
<tr>
<td>adjust_nav_growth</td>
<td>扣除配售新股基金净值增长率</td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li>filter(finance.FUND_FIN_INDICATOR.code==code)**：指定筛选条件，通过finance.FUND_FIN_INDICATOR.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询中证100A ("150012")最近公布的基金财务指标数据</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUND_FIN_INDICATOR).filter(finance.FUND_FIN_INDICATOR.code==<span class="hljs-string">"150012"</span>).order_by(finance.FUND_FIN_INDICATOR.pub_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

       id    code                        name period_start  period_end  \
<span class="hljs-number">0</span>  <span class="hljs-number">292513</span>  <span class="hljs-number">150012</span>  国联安双禧中证<span class="hljs-number">100</span>指数分级证券投资基金之双禧A份额   <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">281349</span>  <span class="hljs-number">150012</span>  国联安双禧中证<span class="hljs-number">100</span>指数分级证券投资基金之双禧A份额   <span class="hljs-number">2020</span><span class="hljs-number">-07</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">271957</span>  <span class="hljs-number">150012</span>  国联安双禧中证<span class="hljs-number">100</span>指数分级证券投资基金之双禧A份额   <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">261374</span>  <span class="hljs-number">150012</span>  国联安双禧中证<span class="hljs-number">100</span>指数分级证券投资基金之双禧A份额   <span class="hljs-number">2020</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span>  <span class="hljs-number">2020</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">253095</span>  <span class="hljs-number">150012</span>  国联安双禧中证<span class="hljs-number">100</span>指数分级证券投资基金之双禧A份额   <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   

     pub_date  report_type_id report_type       profit adjust_profit  \
<span class="hljs-number">0</span>  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-22</span>             NaN        <span class="hljs-keyword">None</span>  <span class="hljs-number">45870259.14</span>          <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2020</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>        <span class="hljs-number">403003.0</span>        第三季度  <span class="hljs-number">36286659.81</span>          <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2020</span><span class="hljs-number">-08</span><span class="hljs-number">-31</span>        <span class="hljs-number">403005.0</span>         半年度   <span class="hljs-number">4531704.53</span>          <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2020</span><span class="hljs-number">-07</span><span class="hljs-number">-21</span>        <span class="hljs-number">403002.0</span>        第二季度  <span class="hljs-number">24149860.00</span>          <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2020</span><span class="hljs-number">-04</span><span class="hljs-number">-30</span>        <span class="hljs-number">403006.0</span>          年度  <span class="hljs-number">57334199.41</span>          <span class="hljs-keyword">None</span>   

      ...      avg_roe  profit_available  profit_avaialbe_per_share  \
<span class="hljs-number">0</span>     ...          NaN               NaN                        NaN   
<span class="hljs-number">1</span>     ...          NaN               NaN                        NaN   
<span class="hljs-number">2</span>     ...         <span class="hljs-number">2.31</span>       <span class="hljs-number">83167293.31</span>                     <span class="hljs-number">0.4727</span>   
<span class="hljs-number">3</span>     ...          NaN               NaN                        NaN   
<span class="hljs-number">4</span>     ...        <span class="hljs-number">33.40</span>       <span class="hljs-number">89486260.36</span>                     <span class="hljs-number">0.4413</span>   

      total_tna    nav  adjust_nav nav_growth  acc_nav_growth  \
<span class="hljs-number">0</span>  <span class="hljs-number">3.340269e+08</span>  <span class="hljs-number">0.998</span>        <span class="hljs-keyword">None</span>        NaN             NaN   
<span class="hljs-number">1</span>  <span class="hljs-number">3.989853e+08</span>  <span class="hljs-number">1.314</span>        <span class="hljs-keyword">None</span>        NaN             NaN   
<span class="hljs-number">2</span>  <span class="hljs-number">1.971414e+08</span>  <span class="hljs-number">1.120</span>        <span class="hljs-keyword">None</span>       <span class="hljs-number">2.85</span>           <span class="hljs-number">72.87</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">1.971414e+08</span>  <span class="hljs-number">1.120</span>        <span class="hljs-keyword">None</span>        NaN             NaN   
<span class="hljs-number">4</span>  <span class="hljs-number">2.208318e+08</span>  <span class="hljs-number">1.089</span>        <span class="hljs-keyword">None</span>      <span class="hljs-number">39.27</span>           <span class="hljs-number">68.09</span>   

   adjust_nav_growth total_asset  
<span class="hljs-number">0</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">21</span> columns]
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment"># 查询开元证券投资基金("184688")最近公布的基金财务指标数据</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUND_FIN_INDICATOR).filter(finance.FUND_FIN_INDICATOR.code==<span class="hljs-string">"184688"</span>).order_by(finance.FUND_FIN_INDICATOR.pub_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

      id    code      name period_start  period_end    pub_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">96394</span>  <span class="hljs-number">184688</span>  开元证券投资基金   <span class="hljs-number">2013</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2013</span><span class="hljs-number">-02</span><span class="hljs-number">-17</span>  <span class="hljs-number">2013</span><span class="hljs-number">-04</span><span class="hljs-number">-19</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">96390</span>  <span class="hljs-number">184688</span>  开元证券投资基金   <span class="hljs-number">2012</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2012</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2013</span><span class="hljs-number">-03</span><span class="hljs-number">-29</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">96393</span>  <span class="hljs-number">184688</span>  开元证券投资基金   <span class="hljs-number">2012</span><span class="hljs-number">-10</span><span class="hljs-number">-01</span>  <span class="hljs-number">2012</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2013</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">96392</span>  <span class="hljs-number">184688</span>  开元证券投资基金   <span class="hljs-number">2012</span><span class="hljs-number">-07</span><span class="hljs-number">-01</span>  <span class="hljs-number">2012</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  <span class="hljs-number">2012</span><span class="hljs-number">-10</span><span class="hljs-number">-26</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">96389</span>  <span class="hljs-number">184688</span>  开元证券投资基金   <span class="hljs-number">2012</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  <span class="hljs-number">2012</span><span class="hljs-number">-06</span><span class="hljs-number">-30</span>  <span class="hljs-number">2012</span><span class="hljs-number">-08</span><span class="hljs-number">-29</span>   

   report_type_id report_type        profit  adjust_profit     ...      \
<span class="hljs-number">0</span>          <span class="hljs-number">403001</span>        第一季度  <span class="hljs-number">1.046992e+08</span>  <span class="hljs-number">-2.691637e+08</span>     ...       
<span class="hljs-number">1</span>          <span class="hljs-number">403006</span>          年度  <span class="hljs-number">1.294180e+08</span>  <span class="hljs-number">-9.863223e+07</span>     ...       
<span class="hljs-number">2</span>          <span class="hljs-number">403004</span>        第四季度  <span class="hljs-number">4.416168e+07</span>  <span class="hljs-number">-1.701878e+07</span>     ...       
<span class="hljs-number">3</span>          <span class="hljs-number">403003</span>        第三季度 <span class="hljs-number">-2.341911e+07</span>  <span class="hljs-number">-5.788890e+06</span>     ...       
<span class="hljs-number">4</span>          <span class="hljs-number">403005</span>         半年度  <span class="hljs-number">1.086755e+08</span>  <span class="hljs-number">-7.582456e+07</span>     ...       

   avg_roe  profit_available  profit_avaialbe_per_share     total_tna     nav  \
<span class="hljs-number">0</span>      NaN               NaN                        NaN  <span class="hljs-number">1.853842e+09</span>  <span class="hljs-number">0.9269</span>   
<span class="hljs-number">1</span>     <span class="hljs-number">7.48</span>     <span class="hljs-number">-2.508577e+08</span>                    <span class="hljs-number">-0.1254</span>  <span class="hljs-number">1.749142e+09</span>  <span class="hljs-number">0.8746</span>   
<span class="hljs-number">2</span>      NaN               NaN                        NaN  <span class="hljs-number">1.749142e+09</span>  <span class="hljs-number">0.8746</span>   
<span class="hljs-number">3</span>      NaN               NaN                        NaN  <span class="hljs-number">1.704981e+09</span>  <span class="hljs-number">0.8525</span>   
<span class="hljs-number">4</span>     <span class="hljs-number">6.12</span>     <span class="hljs-number">-2.716003e+08</span>                    <span class="hljs-number">-0.1358</span>  <span class="hljs-number">1.728400e+09</span>  <span class="hljs-number">0.8642</span>   

   adjust_nav nav_growth  acc_nav_growth  adjust_nav_growth total_asset  
<span class="hljs-number">0</span>        <span class="hljs-keyword">None</span>        NaN             NaN               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>        <span class="hljs-keyword">None</span>       <span class="hljs-number">7.99</span>          <span class="hljs-number">488.67</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>        <span class="hljs-keyword">None</span>        NaN             NaN               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>        <span class="hljs-keyword">None</span>        NaN             NaN               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>        <span class="hljs-keyword">None</span>       <span class="hljs-number">6.70</span>          <span class="hljs-number">484.78</span>               <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">21</span> columns]
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="FUND_MF_DAILY_PROFIT"></span>FUND_MF_DAILY_PROFIT</label>
      <label>货币基金收益日报 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 1482.73px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_MF_DAILY_PROFIT).filter(finance.FUND_MF_DAILY_PROFIT.code==code).limit(n))
</code></pre>
<p>描述：货币基金收益日报</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_MF_DAILY_PROFIT)</strong>：表示从finance.FUND_MF_DAILY_PROFIT这张表中查询货币基金收益日报数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_MF_DAILY_PROFIT</strong>：收录了货币基金收益日报数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>name</td>
<td>基金名称</td>
<td>varchar(80)</td>
</tr>
<tr>
<td>end_date</td>
<td>收益日期</td>
<td>date</td>
</tr>
<tr>
<td>weekly_yield</td>
<td>7日年化收益率(%)</td>
<td>decimal(10,4)</td>
</tr>
<tr>
<td>daily_profit</td>
<td>每万份基金单位当日收益(元)</td>
<td>decimal(10,4)</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_MF_DAILY_PROFIT.code==code)</strong>：指定筛选条件，通过finance.FUND_MF_DAILY_PROFIT.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong>   </p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询汇添富现金宝("000330")货币基金收益日报数据，只显示5条信息。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUND_MF_DAILY_PROFIT).filter(finance.FUND_MF_DAILY_PROFIT.code==<span class="hljs-string">'000330'</span>).order_by(finance.FUND_MF_DAILY_PROFIT.end_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

        id    code            name    end_date  weekly_yield  daily_profit
<span class="hljs-number">0</span>  <span class="hljs-number">1742123</span>  <span class="hljs-number">000330</span>  汇添富现金宝货币市场基金A类  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-17</span>         <span class="hljs-number">2.165</span>        <span class="hljs-number">0.5857</span>
<span class="hljs-number">1</span>  <span class="hljs-number">1741454</span>  <span class="hljs-number">000330</span>  汇添富现金宝货币市场基金A类  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>         <span class="hljs-number">2.172</span>        <span class="hljs-number">0.5863</span>
<span class="hljs-number">2</span>  <span class="hljs-number">1740404</span>  <span class="hljs-number">000330</span>  汇添富现金宝货币市场基金A类  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-15</span>         <span class="hljs-number">2.168</span>        <span class="hljs-number">0.6136</span>
<span class="hljs-number">3</span>  <span class="hljs-number">1740100</span>  <span class="hljs-number">000330</span>  汇添富现金宝货币市场基金A类  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>         <span class="hljs-number">2.155</span>        <span class="hljs-number">0.5785</span>
<span class="hljs-number">4</span>  <span class="hljs-number">1739586</span>  <span class="hljs-number">000330</span>  汇添富现金宝货币市场基金A类  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-13</span>         <span class="hljs-number">2.155</span>        <span class="hljs-number">0.5812</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="FUND_DIVIDEND"></span>FUND_DIVIDEND</label>
      <label>基金分红拆分合并信息 / 上市至今，盘后24:00更新</label>
      <article style="display: block; height: 4030.51px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
finance.run_query(query(finance.FUND_DIVIDEND).filter(finance.FUND_DIVIDEND.code==code).limit(n))
</code></pre>
<p>描述：记录基金分红、拆分和合并的方案</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.FUND_DIVIDEND)</strong>：表示从finance.FUND_DIVIDEND这张表中查询基金分红拆分合并数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>finance.FUND_DIVIDEND</strong>：收录了基金分红拆分合并数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>基金代码</td>
<td>varchar(12)</td>
</tr>
<tr>
<td>name</td>
<td>基金名称</td>
<td>varchar(80)</td>
</tr>
<tr>
<td>pub_date</td>
<td>公布日期</td>
<td>date</td>
</tr>
<tr>
<td>event_id</td>
<td>事项类别</td>
<td>int</td>
</tr>
<tr>
<td>event</td>
<td>事项名称</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>distribution_date</td>
<td>分配收益日</td>
<td>date</td>
</tr>
<tr>
<td>process_id</td>
<td>方案进度编码</td>
<td>int</td>
</tr>
<tr>
<td>process</td>
<td>方案进度</td>
<td>varchar(100)</td>
</tr>
<tr>
<td>proportion</td>
<td>派现比例</td>
<td>decimal(20,8)</td>
</tr>
<tr>
<td>split_ratio</td>
<td>分拆（合并、赠送）比例</td>
<td>decimal(20,8)</td>
</tr>
<tr>
<td>record_date</td>
<td>权益登记日</td>
<td>date</td>
</tr>
<tr>
<td>ex_date</td>
<td>除息日</td>
<td>date</td>
</tr>
<tr>
<td>fund_paid_date</td>
<td>基金红利派发日</td>
<td>date</td>
</tr>
<tr>
<td>redeem_date</td>
<td>再投资赎回起始日</td>
<td>date</td>
</tr>
<tr>
<td>dividend_implement_date</td>
<td>分红实施公告日</td>
<td>dated</td>
</tr>
<tr>
<td>dividend_cancel_date</td>
<td>取消分红公告日</td>
<td>date</td>
</tr>
<tr>
<td>otc_ex_date</td>
<td>场外除息日</td>
<td>date</td>
</tr>
<tr>
<td>pay_date</td>
<td>红利派发日</td>
<td>date</td>
</tr>
<tr>
<td>new_share_code</td>
<td>新增份额基金代码</td>
<td>varchar(10)</td>
</tr>
<tr>
<td>new_share_name</td>
<td>新增份额基金名称</td>
<td>varchar(100)</td>
</tr>
</tbody>
</table>
<p>事项类别编码 404</p>
<table>
<thead>
<tr>
<th><strong>编码</strong></th>
<th><strong>名称</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>404001</td>
<td>基金分红</td>
</tr>
<tr>
<td>404002</td>
<td>基金分拆</td>
</tr>
<tr>
<td>404003</td>
<td>基金合并</td>
</tr>
<tr>
<td>404004</td>
<td>基金赠送</td>
</tr>
<tr>
<td>404005</td>
<td>分级基金折算</td>
</tr>
</tbody>
</table>
<p>基金分红拆分合并进度编码 405</p>
<table>
<thead>
<tr>
<th><strong>编码</strong></th>
<th><strong>名称</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>405001</td>
<td>分红预案</td>
</tr>
<tr>
<td>405002</td>
<td>实施方案</td>
</tr>
<tr>
<td>405003</td>
<td>取消折算</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.FUND_DIVIDEND.code==code)</strong>：指定筛选条件，通过finance.FUND_DIVIDEND.code==code可以指定你想要查询的基金代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<p>场内</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询银华稳进("150018")基金分红拆分合并数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUND_DIVIDEND).filter(finance.FUND_DIVIDEND.code==<span class="hljs-string">"150018"</span>).order_by(finance.FUND_DIVIDEND.pub_date.desc()).limit(<span class="hljs-number">5</span>))
print(df)

      id    code                    name    pub_date  event_id   event  \
<span class="hljs-number">0</span>  <span class="hljs-number">67506</span>  <span class="hljs-number">150018</span>  银华深证<span class="hljs-number">100</span>指数分级证券投资基金之银华稳进  <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>    <span class="hljs-number">404005</span>  分级基金折算   
<span class="hljs-number">1</span>  <span class="hljs-number">66010</span>  <span class="hljs-number">150018</span>  银华深证<span class="hljs-number">100</span>指数分级证券投资基金之银华稳进  <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>    <span class="hljs-number">404005</span>  分级基金折算   
<span class="hljs-number">2</span>  <span class="hljs-number">49827</span>  <span class="hljs-number">150018</span>  银华深证<span class="hljs-number">100</span>指数分级证券投资基金之银华稳进  <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>    <span class="hljs-number">404005</span>  分级基金折算   
<span class="hljs-number">3</span>  <span class="hljs-number">17737</span>  <span class="hljs-number">150018</span>  银华深证<span class="hljs-number">100</span>指数分级证券投资基金之银华稳进  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>    <span class="hljs-number">404005</span>  分级基金折算   
<span class="hljs-number">4</span>  <span class="hljs-number">15266</span>  <span class="hljs-number">150018</span>  银华深证<span class="hljs-number">100</span>指数分级证券投资基金之银华稳进  <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>    <span class="hljs-number">404005</span>  分级基金折算   

  distribution_date process_id process proportion          ...           \
<span class="hljs-number">0</span>              <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>    <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">1</span>              <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>    <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">2</span>              <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>    <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">3</span>              <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>    <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>          ...            
<span class="hljs-number">4</span>              <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>    <span class="hljs-keyword">None</span>       <span class="hljs-keyword">None</span>          ...            

   record_date     ex_date fund_paid_date redeem_date dividend_implement_date  \
<span class="hljs-number">0</span>   <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>  <span class="hljs-number">2020</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>  <span class="hljs-number">2020</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>  <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-03</span>  <span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-03</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   

  dividend_cancel_date otc_ex_date pay_date new_share_code  \
<span class="hljs-number">0</span>                 <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>     <span class="hljs-keyword">None</span>       <span class="hljs-number">77161812</span>   
<span class="hljs-number">1</span>                 <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>     <span class="hljs-keyword">None</span>       <span class="hljs-number">77161812</span>   
<span class="hljs-number">2</span>                 <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>     <span class="hljs-keyword">None</span>       <span class="hljs-number">77161812</span>   
<span class="hljs-number">3</span>                 <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>     <span class="hljs-keyword">None</span>       <span class="hljs-number">77161812</span>   
<span class="hljs-number">4</span>                 <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>     <span class="hljs-keyword">None</span>       <span class="hljs-number">77161812</span>   

         new_share_name  
<span class="hljs-number">0</span>  银华深证<span class="hljs-number">100</span>指数证券投资基金(LOF)  
<span class="hljs-number">1</span>     银华深证<span class="hljs-number">100</span>指数分级证券投资基金  
<span class="hljs-number">2</span>     银华深证<span class="hljs-number">100</span>指数分级证券投资基金  
<span class="hljs-number">3</span>     银华深证<span class="hljs-number">100</span>指数分级证券投资基金  
<span class="hljs-number">4</span>     银华深证<span class="hljs-number">100</span>指数分级证券投资基金  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">21</span> columns]
</code></pre><p></p>
<p>场外</p><pre><code class="python language-python hljs"><span class="hljs-comment">#查询开元证券投资基金("184688")基金分红拆分合并数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> finance
df=finance.run_query(query(finance.FUND_DIVIDEND).filter(finance.FUND_DIVIDEND.code==<span class="hljs-string">"184688"</span>).order_by(finance.FUND_DIVIDEND.pub_date.desc()).limit(<span class="hljs-number">4</span>))
print(df)

     id    code      name    pub_date  event_id event distribution_date  \
<span class="hljs-number">0</span>  <span class="hljs-number">2759</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2011</span><span class="hljs-number">-02</span><span class="hljs-number">-15</span>    <span class="hljs-number">404001</span>  基金分红        <span class="hljs-number">2010</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2306</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2010</span><span class="hljs-number">-04</span><span class="hljs-number">-03</span>    <span class="hljs-number">404001</span>  基金分红        <span class="hljs-number">2009</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">1581</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2008</span><span class="hljs-number">-03</span><span class="hljs-number">-29</span>    <span class="hljs-number">404001</span>  基金分红        <span class="hljs-number">2007</span><span class="hljs-number">-12</span><span class="hljs-number">-31</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">1452</span>  <span class="hljs-number">184688</span>  开元证券投资基金  <span class="hljs-number">2007</span><span class="hljs-number">-10</span><span class="hljs-number">-25</span>    <span class="hljs-number">404001</span>  基金分红        <span class="hljs-number">2007</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>   

   process_id process  proportion      ...       record_date ex_date  \
<span class="hljs-number">0</span>      <span class="hljs-number">405002</span>    实施方案       <span class="hljs-number">0.030</span>      ...        <span class="hljs-number">2011</span><span class="hljs-number">-02</span><span class="hljs-number">-18</span>    <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>      <span class="hljs-number">405002</span>    实施方案       <span class="hljs-number">0.050</span>      ...        <span class="hljs-number">2010</span><span class="hljs-number">-04</span><span class="hljs-number">-13</span>    <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>      <span class="hljs-number">405002</span>    实施方案       <span class="hljs-number">1.372</span>      ...        <span class="hljs-number">2008</span><span class="hljs-number">-04</span><span class="hljs-number">-10</span>    <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>      <span class="hljs-number">405002</span>    实施方案       <span class="hljs-number">0.300</span>      ...        <span class="hljs-number">2007</span><span class="hljs-number">-11</span><span class="hljs-number">-01</span>    <span class="hljs-keyword">None</span>   

  fund_paid_date redeem_date dividend_implement_date dividend_cancel_date  \
<span class="hljs-number">0</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>              <span class="hljs-number">2011</span><span class="hljs-number">-02</span><span class="hljs-number">-15</span>                 <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>              <span class="hljs-number">2010</span><span class="hljs-number">-04</span><span class="hljs-number">-03</span>                 <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>              <span class="hljs-number">2008</span><span class="hljs-number">-03</span><span class="hljs-number">-29</span>                 <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>           <span class="hljs-keyword">None</span>        <span class="hljs-keyword">None</span>              <span class="hljs-number">2007</span><span class="hljs-number">-10</span><span class="hljs-number">-25</span>                 <span class="hljs-keyword">None</span>   

  otc_ex_date    pay_date new_share_code new_share_name  
<span class="hljs-number">0</span>  <span class="hljs-number">2011</span><span class="hljs-number">-02</span><span class="hljs-number">-21</span>  <span class="hljs-number">2011</span><span class="hljs-number">-02</span><span class="hljs-number">-21</span>           <span class="hljs-keyword">None</span>           <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">2010</span><span class="hljs-number">-04</span><span class="hljs-number">-14</span>  <span class="hljs-number">2010</span><span class="hljs-number">-04</span><span class="hljs-number">-14</span>           <span class="hljs-keyword">None</span>           <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">2008</span><span class="hljs-number">-04</span><span class="hljs-number">-11</span>  <span class="hljs-number">2008</span><span class="hljs-number">-04</span><span class="hljs-number">-11</span>           <span class="hljs-keyword">None</span>           <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">2007</span><span class="hljs-number">-11</span><span class="hljs-number">-02</span>  <span class="hljs-number">2007</span><span class="hljs-number">-11</span><span class="hljs-number">-02</span>           <span class="hljs-keyword">None</span>           <span class="hljs-keyword">None</span>  

[<span class="hljs-number">4</span> rows x <span class="hljs-number">21</span> columns]
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h2 id="指数">指数</h2>

<h3 id="指数概况">指数概况</h3>
<ul>
<li><strong>更新时间：2005至今，8:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_security_info"></span>get_security_info</label>
      <label>获取单只指数信息</label>
      <article style="display: block; height: 734.18px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_security_info(code)
</code></pre>
<p>获取股票/基金/指数的信息.</p>
<p><strong>参数</strong></p>
<ul>
<li>code: 指数代码</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li><p>一个对象, 有如下属性:</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期, [datetime.date] 类型</li>
<li>end_date: 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01</li>
<li>type: 类型，index(指数)</li></ul></li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取沪深300指数的中文名称</span>
get_security_info(<span class="hljs-string">"000300.XSHG"</span>).display_name
<span class="hljs-comment"># 获取沪深300指数的缩写简称</span>
get_security_info(<span class="hljs-string">"000300.XSHG"</span>).name
<span class="hljs-comment"># 获取沪深300指数的上市日期</span>
get_security_info(<span class="hljs-string">"000300.XSHG"</span>).start_date
<span class="hljs-comment">#获取沪深300指数的类型</span>
get_security_info(<span class="hljs-string">"000300.XSHG"</span>).type
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有指数信息</label>
      <article style="display: block; height: 765.211px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types:'index'。<strong>types为空时返回所有股票, 不包括基金,指数和期货</strong></li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong> 返回[pandas.DataFrame，如案例所示</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型，index(指数)</li>
</ul>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获得所有指数列表</span>
df=get_all_securities([<span class="hljs-string">'index'</span>])
print(df[:<span class="hljs-number">4</span>])

            display_name  name start_date   end_date   type
<span class="hljs-number">000001.</span>XSHG         上证指数  SZZS <span class="hljs-number">1991</span><span class="hljs-number">-07</span><span class="hljs-number">-15</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  index
<span class="hljs-number">000002.</span>XSHG         A股指数  AGZS <span class="hljs-number">1992</span><span class="hljs-number">-02</span><span class="hljs-number">-21</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  index
<span class="hljs-number">000003.</span>XSHG         B股指数  BGZS <span class="hljs-number">1992</span><span class="hljs-number">-02</span><span class="hljs-number">-21</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  index
<span class="hljs-number">000004.</span>XSHG         工业指数  GYZS <span class="hljs-number">1993</span><span class="hljs-number">-05</span><span class="hljs-number">-03</span> <span class="hljs-number">2200</span><span class="hljs-number">-01</span><span class="hljs-number">-01</span>  index
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>







</div>
</section>
<h3 id="指数行情数据">指数行情数据</h3>
<ul>
<li><strong>日行情：2005至今</strong></li>
<li><strong>分钟行情：2005至今</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>（1天/分钟）行情数据</label>
      <article style="display: block; height: 3376.7px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>, panel=<span class="hljs-keyword">True</span>, fill_paused=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取一支或者多只指数数据</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li>end_date：<strong>当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>'pre'：前复权 / 'none'：不复权, 返回实际价格 / 'post'：后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如本地pandas版本大于0.25将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p><strong>fields</strong>内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td>单位股</td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交额不处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：股票是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>(2)分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货：pre_close--前一天结算；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只指数的多个属性, 同时也满足对比多只指数的一个属性的需求, 我们在security参数是<strong>一只指数和多只指数时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支指数</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获得上证指数的2018年08月01日 10:00:00-2018年08月01日 10:05:00的分钟数据</span>
df = get_price(<span class="hljs-string">'000001.XSHG'</span>, start_date=<span class="hljs-string">'2018-08-01 10:00:00'</span>, end_date=<span class="hljs-string">'2018-08-01 10:05:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 返回[pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是行情字段名字</span>
print(df[:<span class="hljs-number">5</span>])

                        open    close     high      low       volume  \
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2895.33</span>  <span class="hljs-number">2896.48</span>  <span class="hljs-number">2896.48</span>  <span class="hljs-number">2895.33</span>  <span class="hljs-number">105555600.0</span>   
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2897.39</span>  <span class="hljs-number">2894.12</span>  <span class="hljs-number">2897.39</span>  <span class="hljs-number">2894.12</span>  <span class="hljs-number">106207600.0</span>   
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2893.73</span>  <span class="hljs-number">2892.71</span>  <span class="hljs-number">2893.73</span>  <span class="hljs-number">2892.05</span>   <span class="hljs-number">94199600.0</span>   
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2892.74</span>  <span class="hljs-number">2892.19</span>  <span class="hljs-number">2892.74</span>  <span class="hljs-number">2891.62</span>   <span class="hljs-number">75960400.0</span>   
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2891.84</span>  <span class="hljs-number">2891.77</span>  <span class="hljs-number">2892.42</span>  <span class="hljs-number">2891.56</span>   <span class="hljs-number">68796400.0</span>   

                            money  
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.165263e+09</span>  
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>  <span class="hljs-number">1.113068e+09</span>  
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>  <span class="hljs-number">9.975439e+08</span>  
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>  <span class="hljs-number">7.984701e+08</span>  
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span>:<span class="hljs-number">00</span>  <span class="hljs-number">7.453942e+08</span>  
</code></pre><p></p>
<p><strong>获取多只指数</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得上证指数和A股指数在2018-08-01 10:00:00至2018-08-01 10:05:00的分钟数据，返回[pandas.Panel]对象</span>
panel=get_price([<span class="hljs-string">'000001.XSHG'</span>,<span class="hljs-string">'000002.XSHG'</span>],start_date=<span class="hljs-string">'2018-08-01 10:00:00'</span>, end_date=<span class="hljs-string">'2018-08-01 10:05:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment">#返回[pandas.DataFrame]对象,行索引是[datetime.datetime]对象, 列索引是指数代号</span>
df=panel[<span class="hljs-string">'open'</span>][:<span class="hljs-number">4</span>]
print(df)

                     <span class="hljs-number">000001.</span>XSHG  <span class="hljs-number">000002.</span>XSHG
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>      <span class="hljs-number">2895.33</span>      <span class="hljs-number">3032.32</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>      <span class="hljs-number">2897.39</span>      <span class="hljs-number">3034.48</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>      <span class="hljs-number">2893.73</span>      <span class="hljs-number">3030.63</span>
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-01</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>      <span class="hljs-number">2892.74</span>      <span class="hljs-number">3029.60</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>指定时间周期的指数行情（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1833.52px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 指数代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，支持的类型为datetime.datetime或None，默认为datetime.now()。</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为datetime.datetime.now()即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回指数的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取沪深300按天为周期以"2020-9-16"为基础往前8个交易日的数据</span>
df = get_bars(<span class="hljs-string">'000300.XSHG'</span>, <span class="hljs-number">8</span>, unit=<span class="hljs-string">'1d'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">False</span>,end_dt=<span class="hljs-string">'2020-9-16'</span>)
print(df)

<span class="hljs-comment"># 输出</span>
         date     open     high      low    close
<span class="hljs-number">0</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-04</span>  <span class="hljs-number">4737.24</span>  <span class="hljs-number">4778.20</span>  <span class="hljs-number">4726.56</span>  <span class="hljs-number">4770.22</span>
<span class="hljs-number">1</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-07</span>  <span class="hljs-number">4759.52</span>  <span class="hljs-number">4789.30</span>  <span class="hljs-number">4655.56</span>  <span class="hljs-number">4669.37</span>
<span class="hljs-number">2</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-08</span>  <span class="hljs-number">4683.83</span>  <span class="hljs-number">4707.90</span>  <span class="hljs-number">4639.05</span>  <span class="hljs-number">4694.39</span>
<span class="hljs-number">3</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-09</span>  <span class="hljs-number">4634.25</span>  <span class="hljs-number">4645.20</span>  <span class="hljs-number">4558.03</span>  <span class="hljs-number">4584.59</span>
<span class="hljs-number">4</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-10</span>  <span class="hljs-number">4632.10</span>  <span class="hljs-number">4647.75</span>  <span class="hljs-number">4572.21</span>  <span class="hljs-number">4581.98</span>
<span class="hljs-number">5</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-11</span>  <span class="hljs-number">4572.26</span>  <span class="hljs-number">4630.88</span>  <span class="hljs-number">4563.11</span>  <span class="hljs-number">4627.28</span>
<span class="hljs-number">6</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-14</span>  <span class="hljs-number">4652.05</span>  <span class="hljs-number">4666.99</span>  <span class="hljs-number">4625.99</span>  <span class="hljs-number">4651.05</span>
<span class="hljs-number">7</span>  <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-15</span>  <span class="hljs-number">4649.45</span>  <span class="hljs-number">4691.50</span>  <span class="hljs-number">4630.54</span>  <span class="hljs-number">4688.48</span>
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取沪深300、上证指数按5分钟为周期以“2020-9-16 14:22:35”为基础前4个时间单位的数据</span>
df = get_bars([<span class="hljs-string">'000300.XSHG'</span>,<span class="hljs-string">'000001.XSHG'</span>],<span class="hljs-number">4</span>, unit=<span class="hljs-string">'5m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],include_now=<span class="hljs-keyword">True</span>,end_dt=<span class="hljs-string">'2020-9-16 14:22:35'</span>)
print(df)

<span class="hljs-comment"># 输出</span>
                             date     open     high      low    close
<span class="hljs-number">000300.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">10</span>:<span class="hljs-number">00</span>  <span class="hljs-number">4657.03</span>  <span class="hljs-number">4657.93</span>  <span class="hljs-number">4650.24</span>  <span class="hljs-number">4650.24</span>
            <span class="hljs-number">1</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">15</span>:<span class="hljs-number">00</span>  <span class="hljs-number">4649.63</span>  <span class="hljs-number">4649.63</span>  <span class="hljs-number">4641.87</span>  <span class="hljs-number">4643.58</span>
            <span class="hljs-number">2</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">00</span>  <span class="hljs-number">4643.67</span>  <span class="hljs-number">4646.66</span>  <span class="hljs-number">4642.36</span>  <span class="hljs-number">4642.36</span>
            <span class="hljs-number">3</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span>:<span class="hljs-number">00</span>  <span class="hljs-number">4641.59</span>  <span class="hljs-number">4641.64</span>  <span class="hljs-number">4638.90</span>  <span class="hljs-number">4638.90</span>
<span class="hljs-number">000001.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">10</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3282.83</span>  <span class="hljs-number">3283.60</span>  <span class="hljs-number">3279.32</span>  <span class="hljs-number">3279.32</span>
            <span class="hljs-number">1</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">15</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3278.67</span>  <span class="hljs-number">3278.67</span>  <span class="hljs-number">3273.17</span>  <span class="hljs-number">3274.24</span>
            <span class="hljs-number">2</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3274.25</span>  <span class="hljs-number">3275.90</span>  <span class="hljs-number">3273.28</span>  <span class="hljs-number">3273.36</span>
            <span class="hljs-number">3</span> <span class="hljs-number">2020</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">14</span>:<span class="hljs-number">22</span>:<span class="hljs-number">00</span>  <span class="hljs-number">3272.78</span>  <span class="hljs-number">3273.05</span>  <span class="hljs-number">3271.11</span>  <span class="hljs-number">3271.11</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据 / 2017年至今</label>
      <article style="display: block; height: 1344.2px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。当日的集合竞价数据最晚于9:28分返回。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>指数（2017年至今）</strong></li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<pre><code class="hljs python"><span class="hljs-comment">#获取沪深300指数2017-09-01至2017-09-05期间的集合竞价数据</span>
df=get_call_auction(<span class="hljs-string">'000300.XSHG'</span>,<span class="hljs-string">'2017-09-01'</span>,<span class="hljs-string">'2017-09-05'</span>)
print(df)

          code                time  current       volume         money  a1_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">000300.</span>XSHG <span class="hljs-number">2017</span><span class="hljs-number">-09</span><span class="hljs-number">-01</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">12</span>  <span class="hljs-number">3825.34</span>   <span class="hljs-number">60406600.0</span>  <span class="hljs-number">6.963988e+08</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">000300.</span>XSHG <span class="hljs-number">2017</span><span class="hljs-number">-09</span><span class="hljs-number">-04</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">10</span>  <span class="hljs-number">3828.54</span>  <span class="hljs-number">145635600.0</span>  <span class="hljs-number">1.222139e+09</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">000300.</span>XSHG <span class="hljs-number">2017</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">13</span>  <span class="hljs-number">3845.55</span>   <span class="hljs-number">59488700.0</span>  <span class="hljs-number">6.133801e+08</span>  <span class="hljs-keyword">None</span>   

   a1_v  a2_p  a2_v  a3_p  ...   b1_p  b1_v  b2_p  b2_v  b3_p  b3_v  b4_p  \
<span class="hljs-number">0</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  ...   <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  ...   <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  ...   <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>   

   b4_v  b5_p  b5_v  
<span class="hljs-number">0</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  <span class="hljs-keyword">None</span>  

[<span class="hljs-number">3</span> rows x <span class="hljs-number">25</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>指数tick数据 / 2017-01-01至今</label>
      <article style="display: block; height: 1370.02px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, skip=<span class="hljs-keyword">True</span>, df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>指数部分， 支持 2017-01-01 至今的tick数据。（每3秒一次快照）</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: 指数代码，如'000001.XSHG'</li>
<li>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>count: 取出指定时间区间内前N条的tick数据。</li>
<li>fields: 选择要获取的行情数据字段，默认为None，返回结果如下指数tick返回结果。</li>
<li>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</li>
<li>df: 默认为True，传入单个标的返回的是一个dataframe, 当df=False的时候，返回一个np.ndarray</li>
</ul>
<p><strong>指数tick返回结果：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">high</td>
<td style="text-align:left;">当日最高价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">low</td>
<td style="text-align:left;">当日最低价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>指数tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取上证指数2019-11-19 10:00:00 到 2019-11-19 10:01:00的tick数据</span>
df=get_ticks(<span class="hljs-string">'000001.XSHG'</span>,<span class="hljs-string">'2019-11-19 10:00:00'</span>,<span class="hljs-string">'2019-11-19 10:01:00'</span>)
print(df[:<span class="hljs-number">6</span>])

                     time    current       high       low        volume  \
<span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01.608</span>  <span class="hljs-number">2913.4288</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.795233e+09</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">06.600</span>  <span class="hljs-number">2913.1890</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.800322e+09</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.628</span>  <span class="hljs-number">2913.0532</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.807082e+09</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">16.608</span>  <span class="hljs-number">2913.3964</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.814624e+09</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">21.620</span>  <span class="hljs-number">2913.2224</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.818837e+09</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">25.620</span>  <span class="hljs-number">2913.6741</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.824412e+09</span>   

          money  
<span class="hljs-number">0</span>  <span class="hljs-number">3.171538e+10</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">3.178079e+10</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">3.185376e+10</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">3.193569e+10</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">3.198723e+10</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">3.204712e+10</span>  
​
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>










</div>
</section>
<h3 id="指数成分股及权重数据">指数成分股及权重数据</h3>
<p><strong>更新时间：2005至今，交易日8:00更新</strong>
<span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="stock get_index_stocks"></span>get_index_stocks</label>
      <label>指数成份股</label>
      <article style="display: block; height: 548.797px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_index_stocks(index_symbol, date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取一个指数给定日期在平台可交易的成分股列表，请点击<a href="https://www.joinquant.com/indexData">指数列表</a>查看指数信息</p>
<p><strong>参数</strong></p>
<ul>
<li>index_symbol: 指数代码</li>
<li>date: 查询日期, 一个字符串(格式类似'2015-10-15')或者[datetime.date]/[datetime.datetime]对象, 可以是None, </li>
</ul>
<p><strong>返回</strong>
返回股票代码的list</p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取所有沪深300的股票</span>
stocks = get_index_stocks(<span class="hljs-string">'000300.XSHG'</span>)
print(stocks[:<span class="hljs-number">5</span>])

<span class="hljs-comment"># 输出</span>
[<span class="hljs-string">'000001.XSHE'</span>, <span class="hljs-string">'000002.XSHE'</span>, <span class="hljs-string">'000063.XSHE'</span>, <span class="hljs-string">'000066.XSHE'</span>, <span class="hljs-string">'000069.XSHE'</span>]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="index get_index_weights"></span>get_index_weights</label>
      <label>指数成份股权重（月度）</label>
      <article style="display: block; height: 896.516px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs reasonml">get<span class="hljs-constructor">_index_weights(<span class="hljs-params">index_id</span>, <span class="hljs-params">date</span>=None)</span>
</code></pre>
<p>获取指数成份股给定日期的权重数据，每月的月底或者月初更新一次，请点击<a href="https://www.joinquant.com/help/api/help?name=index#%E6%B2%AA%E6%B7%B1%E6%8C%87%E6%95%B0%E5%88%97%E8%A1%A8">指数列表</a>查看指数信息</p>
<p><strong>参数</strong></p>
<ul>
<li>index_id: 代表指数的标准形式代码， 形式：指数代码.交易所代码，例如"000001.XSHG"。</li>
<li>date: 查询权重信息的日期，形式："%Y-%m-%d"，例如"2018-05-03"；</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>查询到对应日期，且有权重数据，返回 pandas.DataFrame， code(股票代码)，display_name(股票名称), date(日期), weight(权重)；</li>
<li>查询到对应日期，且无权重数据， 返回距离查询日期最近日期的权重信息；</li>
<li>找不到对应日期的权重信息， 返回距离查询日期最近日期的权重信息；</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="hljs lsl">#获取<span class="hljs-number">2018</span>年<span class="hljs-number">5</span>月<span class="hljs-number">9</span>日这天的上证指数的成份股权重
df = get_index_weights(index_id=<span class="hljs-string">"000001.XSHG"</span>, date=<span class="hljs-string">"2018-05-09"</span>)
print(df)

＃输出
                   date  weight display_name
<span class="hljs-number">603648.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.023</span>         畅联股份
<span class="hljs-number">603139.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.007</span>         康惠制药
<span class="hljs-number">603138.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.015</span>         海量数据
<span class="hljs-number">603136.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.009</span>          天目湖
<span class="hljs-number">603131.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.011</span>         上海沪工
...                 ...     ...          ...
<span class="hljs-number">603005.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.023</span>         晶方科技
<span class="hljs-number">603007.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.013</span>         ST花王
<span class="hljs-number">603006.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.008</span>         联明股份
<span class="hljs-number">603009.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.014</span>         北特科技
<span class="hljs-number">603008.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>   <span class="hljs-number">0.022</span>          喜临门
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h2 id="期权">期权</h2>

<h3 id="期权概况">期权概况</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有期权信息 / 上市至今，交易日08:30、17:30 更新</label>
      <article style="display: block; height: 1064.79px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货、期权信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types: 'options'。types为空时返回所有股票, 不包括基金,指数和期货</li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的股票信息. 默认值为 None, 表示获取所有日期的股票信息</li>
</ul>
<p><strong>返回</strong>[pandas.DataFrame]</p>
<ul>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型，options（期货）</li>
</ul>
<p><strong>示例</strong></p>
<p>获得所有期权列表</p><pre><code class="python language-python hljs">df=get_all_securities([<span class="hljs-string">'options'</span>])
print(df[:<span class="hljs-number">5</span>])

<span class="hljs-comment">#输出</span>
                display_name           name start_date   end_date     type
<span class="hljs-number">10000001.</span>XSHG  <span class="hljs-number">10000001.</span>XSHG  <span class="hljs-number">10000001.</span>XSHG <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-09</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  options
<span class="hljs-number">10000002.</span>XSHG  <span class="hljs-number">10000002.</span>XSHG  <span class="hljs-number">10000002.</span>XSHG <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-09</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  options
<span class="hljs-number">10000003.</span>XSHG  <span class="hljs-number">10000003.</span>XSHG  <span class="hljs-number">10000003.</span>XSHG <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-09</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  options
<span class="hljs-number">10000004.</span>XSHG  <span class="hljs-number">10000004.</span>XSHG  <span class="hljs-number">10000004.</span>XSHG <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-09</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  options
<span class="hljs-number">10000005.</span>XSHG  <span class="hljs-number">10000005.</span>XSHG  <span class="hljs-number">10000005.</span>XSHG <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-09</span> <span class="hljs-number">2015</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>  options
</code></pre><p></p>
<p>将所有期权列表转换成数组</p><pre><code class="python language-python hljs">options = list(get_all_securities([<span class="hljs-string">'options'</span>]).index)
print(options[:<span class="hljs-number">5</span>])

<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'10000001.XSHG'</span>, <span class="hljs-string">'10000002.XSHG'</span>, <span class="hljs-string">'10000003.XSHG'</span>, <span class="hljs-string">'10000004.XSHG'</span>, <span class="hljs-string">'10000005.XSHG'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="OPT_CONTRACT_INFO"></span>OPT_CONTRACT_INFO</label>
      <label>合约资料 / 上市至今，盘后18:00更新</label>
      <article style="display: block; height: 3126.23px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_CONTRACT_INFO).filter(opt.OPT_CONTRACT_INFO.code==code).limit(n))
</code></pre>
<p>描述：支持ETF期权、股指期权及商品期权，提供最基础的合约信息</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_CONTRACT_INFO)</strong>：表示从opt.OPT_CONTRACT_INFO这张表中查询期权基本资料数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_CONTRACT_INFO</strong>：收录了期权基本资料数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>示例</strong></th>
<th><strong>备注</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>合约代码</td>
<td>10001313.XSHG；CU1901C46000.XSGE；SR903C4700.XZCE；M1707-C-2400.XDCE</td>
<td>注意合约代码使用大写字母</td>
</tr>
<tr>
<td>trading_code</td>
<td>int</td>
<td>合约交易代码</td>
<td>510050C1810M02800</td>
<td>合约调整会产生新的交易代码</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>合约简称</td>
<td>50ETF购10月2800豆粕购7月2400</td>
<td>合约调整会产生新的合约简称</td>
</tr>
<tr>
<td>contract_type</td>
<td>str</td>
<td>合约类型。CO-认购期权，PO-认沽期权</td>
<td>CO</td>
<td></td>
</tr>
<tr>
<td>exchange_code</td>
<td>str</td>
<td>证券市场编码，XSHG：上海证券交易所；XSGE：上海期货交易所；XZCE：郑州商品交易所；XDCE：大连商品交易所</td>
<td>XSHG</td>
<td></td>
</tr>
<tr>
<td>currency_id</td>
<td>str</td>
<td>货币代码CNY-人民币</td>
<td>CNY</td>
<td></td>
</tr>
<tr>
<td>underlying_symbol</td>
<td>str</td>
<td>标的代码</td>
<td>510050.XSHG</td>
<td></td>
</tr>
<tr>
<td>underlying_name</td>
<td>str</td>
<td>标的简称</td>
<td>华夏上证50ETF</td>
<td></td>
</tr>
<tr>
<td>underlying_exchange</td>
<td>str</td>
<td>标的交易市场</td>
<td>XSHG</td>
<td></td>
</tr>
<tr>
<td>underlying_type</td>
<td>str</td>
<td>标的品种类别。ETF-交易型开放式指数基金FUTURE-期货</td>
<td>ETF</td>
<td></td>
</tr>
<tr>
<td>exercise_price</td>
<td>float</td>
<td>行权价格</td>
<td>2.8</td>
<td>合约调整会产生新的行权价格</td>
</tr>
<tr>
<td>contract_unit</td>
<td>int</td>
<td>合约单位</td>
<td>10000</td>
<td>合约调整会产生新的合约单位</td>
</tr>
<tr>
<td>contract_status</td>
<td>str</td>
<td>合约状态：LIST-上市、DELIST-退市。SUSPEND-停牌</td>
<td>DELIST</td>
<td>新期权上市由交易所公布LIST：挂牌日期&lt;=当前日期&lt;=最后交易日DELIST：当前日期&gt;最后交易日</td>
</tr>
<tr>
<td>list_date</td>
<td>str</td>
<td>挂牌日期</td>
<td>2018-09-25</td>
<td></td>
</tr>
<tr>
<td>list_reason</td>
<td>str</td>
<td>合约挂牌原因</td>
<td></td>
<td></td>
</tr>
<tr>
<td>list_price</td>
<td>decimal(20,4)</td>
<td>开盘参考价</td>
<td></td>
<td>合约挂牌当天交易所会公布</td>
</tr>
<tr>
<td>high_limit</td>
<td>decimal(20,4)</td>
<td>挂牌涨停价</td>
<td></td>
<td>合约挂牌当天交易所会公布</td>
</tr>
<tr>
<td>low_limit</td>
<td>decimal(20,4)</td>
<td>挂牌跌停价</td>
<td></td>
<td>合约上市当天交易所会公布</td>
</tr>
<tr>
<td>expire_date</td>
<td>str</td>
<td>到期日</td>
<td>2018/10/24</td>
<td></td>
</tr>
<tr>
<td>last_trade_date</td>
<td>str</td>
<td>最后交易日</td>
<td>2018/10/24</td>
<td></td>
</tr>
<tr>
<td>exercise_date</td>
<td>str</td>
<td>行权日</td>
<td>2018/10/24</td>
<td>50ETF，铜期权是欧式期权，行权日固定。白糖期权和豆粕期权是美式期权，到期日之前都可以行权，行权日不固定，可为空。</td>
</tr>
<tr>
<td>delivery_date</td>
<td>str</td>
<td>交收日期</td>
<td>2018/10/25</td>
<td></td>
</tr>
<tr>
<td>is_adjust</td>
<td>int</td>
<td>是否调整</td>
<td></td>
<td>原合约调整为新的合约会发生合约资料的变化1-是，0-否</td>
</tr>
<tr>
<td>delist_date</td>
<td>str</td>
<td>摘牌日期</td>
<td>2018/10/24</td>
<td>通联数据和交易所有出入,交易所公布的是2018/10/25摘牌日期=最后交易日T+1</td>
</tr>
<tr>
<td>delist_reason</td>
<td>str</td>
<td>合约摘牌原因</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(opt.OPT_CONTRACT_INFO.code==code)</strong>：指定筛选条件，通过opt.OPT_CONTRACT_INFO.code==code可以指定你想要查询的合约代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询"10001313.XSHG "最新的期权基本资料数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(opt.OPT_CONTRACT_INFO).filter(opt.OPT_CONTRACT_INFO.code==<span class="hljs-string">'10001313.XSHG'</span>)
df=opt.run_query(q)
print(df)

     id           code       trading_code            name contract_type  \
<span class="hljs-number">0</span>  <span class="hljs-number">2435</span>  <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812A02500  <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A            CO   

  exchange_code currency_id underlying_symbol underlying_name  \
<span class="hljs-number">0</span>          XSHG         CNY       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF   

  underlying_exchange      ...      list_price  high_limit  low_limit  \
<span class="hljs-number">0</span>                XSHG      ...          <span class="hljs-number">0.3523</span>      <span class="hljs-number">0.6216</span>      <span class="hljs-number">0.083</span>   

  expire_date last_trade_date exercise_date  delivery_date  is_adjust  \
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>      <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>     <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-27</span>          <span class="hljs-number">1</span>   

   delist_date delist_reason  
<span class="hljs-number">0</span>         <span class="hljs-keyword">None</span>          <span class="hljs-keyword">None</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="OPT_ADJUSTMENT"></span>OPT_ADJUSTMENT</label>
      <label>合约调整记录 / 上市至今，盘后18:00更新</label>
      <article style="display: block; height: 1978.11px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk  <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_ADJUSTMENT).filter(opt.OPT_ADJUSTMENT.code==code).limit(n))
</code></pre>
<p>描述：支持ETF期权</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_ADJUSTMENT)</strong>：表示从opt.OPT_ADJUSTMENT这张表中查询期权合约调整数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_ADJUSTMENT</strong>：收录了期权合约调整数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>类型</strong></th>
<th><strong>描述</strong></th>
<th><strong>示例</strong></th>
<th><strong>备注</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>合约代码</td>
<td>10001313.XSHG;</td>
<td></td>
</tr>
<tr>
<td>adj_date</td>
<td>date</td>
<td>调整日期</td>
<td></td>
<td></td>
</tr>
<tr>
<td>contract_type</td>
<td>str</td>
<td>合约类型。CO-认购期权，PO-认沽期权</td>
<td>CO</td>
<td></td>
</tr>
<tr>
<td>ex_trading_code</td>
<td>int</td>
<td>原交易代码</td>
<td>10001465Nan</td>
<td>合约调整会产生新的交易代码</td>
</tr>
<tr>
<td>ex_name</td>
<td>str</td>
<td>原合约简称</td>
<td>50ETF购10月2800豆粕购7月2400</td>
<td>合约调整会产生新的合约简称</td>
</tr>
<tr>
<td>ex_exercise_price</td>
<td>float</td>
<td>原行权价</td>
<td></td>
<td></td>
</tr>
<tr>
<td>ex_contract_unit</td>
<td>int</td>
<td>原合约单位</td>
<td></td>
<td></td>
</tr>
<tr>
<td>new_trading_code</td>
<td>str</td>
<td>新交易代码</td>
<td></td>
<td></td>
</tr>
<tr>
<td>new_name</td>
<td>str</td>
<td>新合约简称</td>
<td></td>
<td></td>
</tr>
<tr>
<td>new_exercise_price</td>
<td>float</td>
<td>新行权价</td>
<td></td>
<td></td>
</tr>
<tr>
<td>new_contract_unit</td>
<td>int</td>
<td>新合约单位</td>
<td></td>
<td></td>
</tr>
<tr>
<td>adj_reason</td>
<td>str</td>
<td>调整原因</td>
<td></td>
<td></td>
</tr>
<tr>
<td>expire_date</td>
<td>str</td>
<td>到期日</td>
<td>2018/10/24</td>
<td></td>
</tr>
<tr>
<td>last_trade_date</td>
<td>str</td>
<td>最后交易日</td>
<td>2018/10/24</td>
<td></td>
</tr>
<tr>
<td>exercise_date</td>
<td>str</td>
<td>行权日</td>
<td>2018/10/24</td>
<td>50ETF期权是欧式期权，行权日固定</td>
</tr>
<tr>
<td>delivery_date</td>
<td>str</td>
<td>交收日期</td>
<td>2018/10/25</td>
<td></td>
</tr>
<tr>
<td>position</td>
<td>int</td>
<td>合约持仓</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(opt.OPT_ADJUSTMENT.code==code)</strong>：指定筛选条件，通过opt.OPT_ADJUSTMENT.code==code可以指定你想要查询的合约代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询"10001313.XSHG "最新的期权合约调整记录。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
q=query(opt.OPT_ADJUSTMENT).filter(opt.OPT_ADJUSTMENT.code==<span class="hljs-string">'10001313.XSHG'</span>)
df=opt.run_query(q)
print(df)

   id           code    adj_date contract_type    ex_trading_code  \
<span class="hljs-number">0</span>  <span class="hljs-number">70</span>  <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>            CO  <span class="hljs-number">510050</span>C1812M02500   

         ex_name  ex_exercise_price  ex_contract_unit   new_trading_code  \
<span class="hljs-number">0</span>  <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>                <span class="hljs-number">2.5</span>             <span class="hljs-number">10000</span>  <span class="hljs-number">510050</span>C1812A02500   

         new_name  new_exercise_price  new_contract_unit adj_reason  \
<span class="hljs-number">0</span>  <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A                <span class="hljs-number">2.45</span>              <span class="hljs-number">10202</span>         除息   

  expire_date last_trade_date exercise_date delivery_date  position  
<span class="hljs-number">0</span>  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>      <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-27</span>    <span class="hljs-number">107928</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="OPT_DAILY_PREOPEN"></span>OPT_DAILY_PREOPEN</label>
      <label>每日盘前静态文件 / 上市至今，盘前9:05更新</label>
      <article style="display: block; height: 3342.2px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_DAILY_PREOPEN).filter(opt.OPT_DAILY_PREOPEN.code==code).limit(n))
</code></pre>
<p>描述：支持上证ETF期权</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_DAILY_PREOPEN)</strong>：表示从opt.OPT_DAILY_PREOPEN这张表中查询期权每日盘前静态数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_DAILY_PREOPEN</strong>：收录了期权每日盘前静态数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td><strong>名称</strong></td>
        <td><strong>类型</strong></td>
        <td><strong>描述</strong></td>
        <td><strong>示例</strong></td>
        <td><strong>备注</strong></td>
    </tr>
    <tr>
        <td>date</td>
        <td>str</td>
        <td>交易日期</td>
        <td>2018-11-09</td>
        <td></td>
    </tr>
    <tr>
        <td>code</td>
        <td>str</td>
        <td>合约代码</td>
        <td>10001313.XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>trading_code</td>
        <td>str</td>
        <td>合约交易代码</td>
        <td>510050C1812M02500</td>
        <td>保留，每个交易日仍然存在一 一对应关系</td>
    </tr>
    <tr>
        <td>name</td>
        <td>str</td>
        <td>合约简称</td>
        <td>50ETF购12月2500</td>
        <td>保留，每个交易日仍然存在一 一对应关系</td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>str</td>
        <td>证券市场编码XSHG:上海证券交易所</td>
        <td>XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_symbol</td>
        <td>str</td>
        <td>标的代码</td>
        <td>510050.XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_name</td>
        <td>str</td>
        <td>标的名称</td>
        <td>50ETF</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_exchange</td>
        <td>str</td>
        <td>标的交易市场</td>
        <td>XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>underlying_type</td>
        <td>str</td>
        <td>标的品种类别，STOCK：股票；ETF：交易型开放式指数基金；FUTURE：期货</td>
        <td>F</td>
        <td></td>
    </tr>
    <tr>
        <td>exercise_type</td>
        <td>str</td>
        <td>期权履约方式:A 美式;E 欧式</td>
        <td>E</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_type</td>
        <td>str</td>
        <td>合约类型。CO-认购期权，PO-认沽期权</td>
        <td>CO</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_unit</td>
        <td>int</td>
        <td>合约单位</td>
        <td>10000</td>
        <td></td>
    </tr>
    <tr>
        <td>exercise_price</td>
        <td>float</td>
        <td>行权价格</td>
        <td>2.5</td>
        <td></td>
    </tr>
    <tr>
        <td>list_date</td>
        <td>str</td>
        <td>挂牌日期</td>
        <td>2018/4/26</td>
        <td></td>
    </tr>
    <tr>
        <td>last_trade_date</td>
        <td>str</td>
        <td>最后交易日</td>
        <td>2018/12/26</td>
        <td></td>
    </tr>
    <tr>
        <td>exercise_date</td>
        <td>str</td>
        <td>行权日</td>
        <td>2018/12/26</td>
        <td></td>
    </tr>
    <tr>
        <td>delivery_date</td>
        <td>str</td>
        <td>交收日期</td>
        <td>2018/12/27</td>
        <td></td>
    </tr>
    <tr>
        <td>expire_date</td>
        <td>str</td>
        <td>到期日</td>
        <td>2018/12/26</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_version</td>
        <td>str</td>
        <td>合约版本号</td>
        <td>0</td>
        <td></td>
    </tr>
    <tr>
        <td>position</td>
        <td>int</td>
        <td>持仓量</td>
        <td>13630</td>
        <td></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>float</td>
        <td>前收盘价</td>
        <td>0.1391</td>
        <td></td>
    </tr>
    <tr>
        <td>pre_settle</td>
        <td>float</td>
        <td>前结算价</td>
        <td>0.1391</td>
        <td></td>
    </tr>
    <tr>
        <td>pre_close_underlying</td>
        <td>float</td>
        <td>标的证券前收盘</td>
        <td>2.537</td>
        <td></td>
    </tr>
    <tr>
        <td>is_limit</td>
        <td>str</td>
        <td>涨跌幅限类型，“N”为有涨跌幅限制</td>
        <td>N</td>
        <td></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>float</td>
        <td>涨停价</td>
        <td>0.3928</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>float</td>
        <td>跌停价</td>
        <td>0.0001</td>
        <td></td>
    </tr>
    <tr>
        <td>margin_unit</td>
        <td>float</td>
        <td>单位保证金</td>
        <td>4435.4</td>
        <td></td>
    </tr>
    <tr>
        <td>margin_ratio_1</td>
        <td>float</td>
        <td>保证金计算比例参数一</td>
        <td>12</td>
        <td></td>
    </tr>
    <tr>
        <td>margin_ratio_2</td>
        <td>float</td>
        <td>保证金计算比例参数二</td>
        <td>7</td>
        <td></td>
    </tr>
    <tr>
        <td>round_lot</td>
        <td>int</td>
        <td>整手数</td>
        <td>1</td>
        <td></td>
    </tr>
    <tr>
        <td>limit_order_min</td>
        <td>int</td>
        <td>单笔限价申报下限</td>
        <td>1</td>
        <td></td>
    </tr>
    <tr>
        <td>limit_order_max</td>
        <td>int</td>
        <td>单笔限价申报上限</td>
        <td>30</td>
        <td></td>
    </tr>
    <tr>
        <td>market_order_min</td>
        <td>int</td>
        <td>单笔市价申报下限</td>
        <td>1</td>
        <td></td>
    </tr>
    <tr>
        <td>marker_order_max</td>
        <td>int</td>
        <td>单笔市价申报上限</td>
        <td>10</td>
        <td></td>
    </tr>
    <tr>
        <td>quote_change_min</td>
        <td>float</td>
        <td>最小报价变动(数值)</td>
        <td>0.0001</td>
        <td></td>
    </tr>
    <tr>
        <td>contract_status</td>
        <td>str</td>
        <td>合约状态信息</td>
        <td>0000E</td>
        <td>该字段为8位字符串，左起每位表示特定的含义，无定义则填空格<p>第1位：‘0’表示可开仓，‘1’表示限制卖出开仓（不.包括备兑开仓）和买入开仓。</p><p>第2位：‘0’表示未连续停牌，‘1’表示连续停牌。（预留，暂填0）</p><p>第3位：‘0’表示未临近到期日，‘1’表示距离到期日不足5个交易日。</p><p>第4位：‘0’表示近期未做调整，‘1’表示最近5个交易日内合约发生过调整。</p>第5位：‘A’表示当日新挂牌的合约，‘E’表示存续的合约<p></p></td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(opt.OPT_DAILY_PREOPEN.code==code)</strong>：指定筛选条件，通过opt.OPT_DAILY_PREOPEN.code==code可以指定你想要查询的合约代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询"10001313.XSHG "最新的期权每日盘前静态数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(opt.OPT_DAILY_PREOPEN.code,
        opt.OPT_DAILY_PREOPEN.trading_code,
        opt.OPT_DAILY_PREOPEN.name,
opt.OPT_DAILY_PREOPEN.exercise_date,).filter(opt.OPT_DAILY_PREOPEN.code==<span class="hljs-string">'10001313.XSHG'</span>).order_by(opt.OPT_DAILY_PREOPEN.date.desc()).limit(<span class="hljs-number">10</span>)
df=opt.run_query(q)
print(df)

               code       trading_code              name exercise_date
<span class="hljs-number">0</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812A02500    <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">1</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812A02500    <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">2</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812A02500    <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">3</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812A02500  XD50ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2450</span>A    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">4</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">5</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">6</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">7</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">8</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
<span class="hljs-number">9</span>   <span class="hljs-number">10001313.</span>XSHG  <span class="hljs-number">510050</span>C1812M02500     <span class="hljs-number">50</span>ETF购<span class="hljs-number">12</span>月<span class="hljs-number">2500</span>    <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-26</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>






</div>
</section>
<h3 id="期权行情数据">期权行情数据</h3>
<ul>
<li><strong>更新时间：期权日行情 上市至今，盘后15:00更新，24:00校对完成入库</strong></li>
<li><strong>更新时间：上证ETF期权分钟行情 2017-01-01至今，盘后15:00更新，24:00校对完成入库</strong></li>
<li><strong>更新时间：股指期权分钟行情 2019-12-24至今，盘后15:00更新，24:00校对完成入库</strong></li>
<li><strong>更新时间：商品期权分钟行情 2019-12-02至今，盘后15:00更新，24:00校对完成入库</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="OPT_DAILY_PRICE"></span>OPT_DAILY_PRICE</label>
      <label>期权日行情数据（查表）/ 上市至今，盘后20:10更新</label>
      <article style="display: block; height: 3128.86px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_DAILY_PRICE).filter(opt.OPT_DAILY_PRICE.code==code).limit(n))
</code></pre>
<p>描述：提供期权每日开盘价，收盘价，最高价，最低价，成交量，成交额，涨跌幅，持仓量等日行情数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_DAILY_PRICE)</strong>：表示从opt.OPT_DAILY_PRICE这张表中查询期权日行情数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_DAILY_PRICE</strong>：收录了期权日行情数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td width="173"><strong>名称</strong></td>
        <td width="70"><strong>类型</strong></td>
        <td width="230"><strong>描述</strong></td>
        <td width="235"><strong>示例</strong></td>
        <td width="235"><strong>备注</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>str</td>
        <td>合约代码</td>
        <td>10001313.XSHG；CU1901C46000.XSGE；SR903C4700.XZCE；M1707-C-2400.XDCE</td>
        <td>合约代码使用大写字母</td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>str</td>
        <td><p>证券市场编码，</p>
          <p>XSHG：上海证券交易所；</p>
        <p>XSGE：上海期货交易所；</p>
        <p>XZCE：郑州商品交易所；</p>
        <p>XDCE：大连商品交易所</p></td>
        <td>XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>date</td>
        <td>str</td>
        <td>交易日期</td>
        <td>2018/10/25</td>
        <td></td>
    </tr>
    <tr>
        <td>pre_settle</td>
        <td>float</td>
        <td>前结算价</td>
        <td>0.1997</td>
        <td></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>float</td>
        <td>前收价</td>
        <td>0.1997</td>
        <td></td>
    </tr>
    <tr>
        <td>open</td>
        <td>float</td>
        <td>今开盘</td>
        <td>0.1683</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>float</td>
        <td>最高价</td>
        <td>0.2072</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>float</td>
        <td>最低价</td>
        <td>0.1517</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>float</td>
        <td>收盘价</td>
        <td>0.2035</td>
        <td></td>
    </tr>
    <tr>
        <td>change_pct_close</td>
        <td>float</td>
        <td>收盘价涨跌幅(%）</td>
        <td></td>
        <td>收盘价/前结算价</td>
    </tr>
    <tr>
        <td>settle_price</td>
        <td>float</td>
        <td>结算价</td>
        <td>0.204</td>
        <td>收盘价是一天交易的最后一个价,它是由于收盘前1分钟所有买卖盘集中撮合而成 ；结算价：原则上，期权合约的结算价格为该合约当日收盘集合竞价的成交价格。但是，如果当日收盘集合竞价未形成成交价格，或者成交价格明显不合理（比如价格倒挂），那么上交所就会考虑期权交易的多重影响因素，另行计算合约的结算价格。即根据同标的、同到期日、同类型其他行权价的期权合约隐含波动率，推算该合约隐含波动率，并以此计算该合约结算价。</td>
    </tr>
    <tr>
        <td>change_pct_settle</td>
        <td>float</td>
        <td>结算价涨跌幅(%)</td>
        <td></td>
        <td>结算价/前结算价</td>
    </tr>
    <tr>
        <td>volume</td>
        <td>float</td>
        <td>成交量（张）</td>
        <td>3126</td>
        <td></td>
    </tr>
    <tr>
        <td>money</td>
        <td>float</td>
        <td>成交金额（元）</td>
        <td>5620827</td>
        <td></td>
    </tr>
    <tr>
        <td>position</td>
        <td>int</td>
        <td>持仓量</td>
        <td>5095</td>
        <td></td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(opt.OPT_DAILY_PRICE.code==code)</strong>：指定筛选条件，通过opt.OPT_DAILY_PRICE.code==code可以指定你想要查询的合约代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询'10001313.XSHG'最近10个交易日的日行情数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
q=query(opt.OPT_DAILY_PRICE).filter(opt.OPT_DAILY_PRICE.code==<span class="hljs-string">'10001313.XSHG'</span>).order_by(opt.OPT_DAILY_PRICE.date.desc()).limit(<span class="hljs-number">10</span>)
df=opt.run_query(q)
print(df)

      id           code exchange_code        date  pre_settle  pre_close  \
<span class="hljs-number">0</span>  <span class="hljs-number">321643</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>      <span class="hljs-number">0.0797</span>     <span class="hljs-number">0.0797</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">320840</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>      <span class="hljs-number">0.0788</span>     <span class="hljs-number">0.0788</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">320046</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>      <span class="hljs-number">0.0592</span>     <span class="hljs-number">0.0604</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">319315</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span>      <span class="hljs-number">0.0510</span>     <span class="hljs-number">0.0510</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">318593</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>      <span class="hljs-number">0.0550</span>     <span class="hljs-number">0.0550</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">317860</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>      <span class="hljs-number">0.0468</span>     <span class="hljs-number">0.0468</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">317132</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-27</span>      <span class="hljs-number">0.0553</span>     <span class="hljs-number">0.0553</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">316364</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-26</span>      <span class="hljs-number">0.0595</span>     <span class="hljs-number">0.0595</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">315590</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-23</span>      <span class="hljs-number">0.0783</span>     <span class="hljs-number">0.0783</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">314816</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-22</span>      <span class="hljs-number">0.0892</span>     <span class="hljs-number">0.0892</span>   

     open    high     low   close  change_pct_close  settle_price  \
<span class="hljs-number">0</span>  <span class="hljs-number">0.0673</span>  <span class="hljs-number">0.0785</span>  <span class="hljs-number">0.0664</span>  <span class="hljs-number">0.0716</span>          <span class="hljs-number">-10.1631</span>        <span class="hljs-number">0.0716</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">0.0780</span>  <span class="hljs-number">0.0821</span>  <span class="hljs-number">0.0701</span>  <span class="hljs-number">0.0797</span>            <span class="hljs-number">1.1421</span>        <span class="hljs-number">0.0797</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">0.0880</span>  <span class="hljs-number">0.0919</span>  <span class="hljs-number">0.0749</span>  <span class="hljs-number">0.0788</span>           <span class="hljs-number">33.1081</span>        <span class="hljs-number">0.0788</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">0.0500</span>  <span class="hljs-number">0.0620</span>  <span class="hljs-number">0.0497</span>  <span class="hljs-number">0.0604</span>           <span class="hljs-number">18.4314</span>        <span class="hljs-number">0.0604</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">0.0613</span>  <span class="hljs-number">0.0629</span>  <span class="hljs-number">0.0480</span>  <span class="hljs-number">0.0510</span>           <span class="hljs-number">-7.2727</span>        <span class="hljs-number">0.0510</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">0.0468</span>  <span class="hljs-number">0.0577</span>  <span class="hljs-number">0.0460</span>  <span class="hljs-number">0.0550</span>           <span class="hljs-number">17.5214</span>        <span class="hljs-number">0.0550</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">0.0589</span>  <span class="hljs-number">0.0603</span>  <span class="hljs-number">0.0455</span>  <span class="hljs-number">0.0468</span>          <span class="hljs-number">-15.3707</span>        <span class="hljs-number">0.0468</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">0.0612</span>  <span class="hljs-number">0.0676</span>  <span class="hljs-number">0.0506</span>  <span class="hljs-number">0.0553</span>           <span class="hljs-number">-7.0588</span>        <span class="hljs-number">0.0553</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">0.0784</span>  <span class="hljs-number">0.0799</span>  <span class="hljs-number">0.0589</span>  <span class="hljs-number">0.0595</span>          <span class="hljs-number">-24.0102</span>        <span class="hljs-number">0.0595</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">0.0923</span>  <span class="hljs-number">0.0931</span>  <span class="hljs-number">0.0718</span>  <span class="hljs-number">0.0783</span>          <span class="hljs-number">-12.2197</span>        <span class="hljs-number">0.0783</span>   

   change_pct_settle    volume       money  position  
<span class="hljs-number">0</span>           <span class="hljs-number">-10.1631</span>   <span class="hljs-number">44938.0</span>  <span class="hljs-number">33451080.0</span>     <span class="hljs-number">72717</span>  
<span class="hljs-number">1</span>             <span class="hljs-number">1.1421</span>   <span class="hljs-number">55720.0</span>  <span class="hljs-number">43805151.0</span>     <span class="hljs-number">74468</span>  
<span class="hljs-number">2</span>            <span class="hljs-number">33.1081</span>  <span class="hljs-number">106122.0</span>  <span class="hljs-number">90415448.0</span>     <span class="hljs-number">81186</span>  
<span class="hljs-number">3</span>            <span class="hljs-number">18.4314</span>  <span class="hljs-number">146824.0</span>  <span class="hljs-number">82267433.0</span>    <span class="hljs-number">107928</span>  
<span class="hljs-number">4</span>            <span class="hljs-number">-7.2727</span>  <span class="hljs-number">139922.0</span>  <span class="hljs-number">78418357.0</span>    <span class="hljs-number">122002</span>  
<span class="hljs-number">5</span>            <span class="hljs-number">17.5214</span>   <span class="hljs-number">94165.0</span>  <span class="hljs-number">49885293.0</span>     <span class="hljs-number">97160</span>  
<span class="hljs-number">6</span>           <span class="hljs-number">-15.3707</span>   <span class="hljs-number">83460.0</span>  <span class="hljs-number">44309064.0</span>     <span class="hljs-number">96531</span>  
<span class="hljs-number">7</span>            <span class="hljs-number">-7.0588</span>   <span class="hljs-number">78105.0</span>  <span class="hljs-number">46594632.0</span>     <span class="hljs-number">75401</span>  
<span class="hljs-number">8</span>           <span class="hljs-number">-24.0102</span>   <span class="hljs-number">63644.0</span>  <span class="hljs-number">42066470.0</span>     <span class="hljs-number">64213</span>  
<span class="hljs-number">9</span>           <span class="hljs-number">-12.2197</span>   <span class="hljs-number">41977.0</span>  <span class="hljs-number">33248317.0</span>     <span class="hljs-number">46825</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>（1天/分钟）行情数据</label>
      <article style="display: block; height: 3232.48px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>, panel=<span class="hljs-keyword">True</span>, fill_paused=<span class="hljs-keyword">True</span>)
</code></pre>
<ul>
<li>获取一支或者多只期权数据：上证ETF期权、股指期权及商品期权的行情(按天或者按分钟)，其中上证ETF期权从2017-01-01至今，股指期权从2019-12-24至今，商品期权从2019-12-02至今。</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的期货标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li>end_date：<strong>当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
</ul>
<p><strong>关于停牌</strong>: 因为此API可以获取多只股票的数据, 可能有的股票停牌有的没有, 为了保持时间轴的一致,</p>
<p>我们默认没有跳过停牌的日期, 停牌时使用停牌前的数据填充. 如想跳过, 请使用 skip_paused=True 参数, 注意当 panel=True 且获取多标的时不支持(panel结构需要索引对齐)  </p>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间    
</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close','paused','open_interest'], </p>
        <p>open_interest为期货持仓量</p></td>
    </tr>
    <tr>
        <td>skip_paused</td>
        <td>是否跳过不交易日期(含：停牌/未上市/退市后的日期)</td>
        <td>如果不跳过, 停牌时会使用停牌前的数据填充，上市前或者退市后数据都为 nan。</td>
    </tr>
    <tr>
        <td>fill_paused</td>
        <td>对于停牌股票的价格处理，默认为True</td>
        <td>默认为True,用pre_close价格填充);False 表示使用NAN填充停牌的股票价格。</td>
    </tr>
    <tr>
        <td>fq</td>
        <td>复权选项，默认为前复权（fq='pre'）</td>
        <td>pre':前复权 / 'none':不复权, 返回实际价格/'post': 后复权</td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如本地pandas版本大于0.25将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p><strong>fields</strong>内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的股票数量</td>
        <td></td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>
    <tr>
        <td>factor</td>
        <td>pre':前复权(默认)/None:不复权,返回实际价格/'post':后复权</td>
        <td><p>前(后)复权数据=价格×前(后)复权因子;</p>
        <p>前(后)复权后的成交量=成交量 / 前(后)复权因子;</p>
        <p>成交额不处理</p></td>
    </tr>
    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>这段时间的平均价</td>
        <td><p>(1)以"天"为时间单位 股票:[成交额/成交量] 期货:从CTP获取行情,[成交额/(成交量×合约乘数)];</p>
        <p>(2)分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>
    <tr>
        <td>pre_close</td>
        <td>前一个单位时间结束时的价格,按天则是前一天的收盘价</td>
        <td>期货:pre_close--前一天结算)；建议使用get_extras获取结算价；在分钟频率下pre_close=open</td>
    </tr>
    <tr>
        <td>paused</td>
        <td>bool值,股票是否停牌;</td>
        <td>停牌时open/close/low/high/pre_close；都等于停牌前的收盘价, volume=money=0</td>
    </tr>
    <tr>
        <td>open_interest</td>
        <td>期权持仓量</td>
        <td>  </td>
    </tr>
</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只期权的多个属性, 同时也满足对比多只期权的一个属性的需求, 我们在security参数是<strong>一只期权和多只期权时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<p><strong>获取一支期权</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获得锌期权的2021年03月02日 23:30:00-2021年03月02日 23:35:00的分钟数据</span>
df = get_price(<span class="hljs-string">'ZN2106P23800.XSGE'</span>,start_date=<span class="hljs-string">'2021-03-02 23:30:00'</span>, end_date=<span class="hljs-string">'2021-03-02 23:35:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 返回[pandas.DataFrame]对象, 行索引是[datetime.datetime]对象, 列索引是行情字段名字</span>
print(df[:<span class="hljs-number">5</span>])
                       open   close    high     low  volume  money
<span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>     <span class="hljs-number">0.0</span>    <span class="hljs-number">0.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">31</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>     <span class="hljs-number">0.0</span>    <span class="hljs-number">0.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">32</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>     <span class="hljs-number">0.0</span>    <span class="hljs-number">0.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">33</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>     <span class="hljs-number">0.0</span>    <span class="hljs-number">0.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">34</span>:<span class="hljs-number">00</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>  <span class="hljs-number">2813.0</span>     <span class="hljs-number">0.0</span>    <span class="hljs-number">0.0</span>
</code></pre><p></p>
<p><strong>获取多只期权</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得两只锌期权在2018-08-01 2021-02-25 10:00:00至2021-02-25 10:05:00的分钟数据,返回[pandas.Panel]对象</span>
panel = get_price([<span class="hljs-string">'ZN2106P23600.XSGE'</span>,<span class="hljs-string">'ZN2106P23800.XSGE'</span>],start_date=<span class="hljs-string">'2021-02-25 10:00:00'</span>, end_date=<span class="hljs-string">'2021-02-25 10:05:00'</span>, frequency=<span class="hljs-string">'1m'</span>)
<span class="hljs-comment"># 获取开盘价的[pandas.DataFrame],行索引是[datetime.datetime]对象, 列索引是期权代号</span>
df=panel[<span class="hljs-string">'open'</span>]
print(df)
                     ZN2106P23600.XSGE  ZN2106P23800.XSGE
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">01</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">03</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">04</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
<span class="hljs-number">2021</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">10</span>:<span class="hljs-number">05</span>:<span class="hljs-number">00</span>             <span class="hljs-number">2561.0</span>             <span class="hljs-number">2723.0</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id=" get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1813.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流股票软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 期权代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流股票软件类似，期货的bar各平台也许稍微有差异，我们与文华接近；<br>
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', 'open_interest'（期货持仓量），factor(复权因子)。</li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘的时间</li>
<li>fq_ref_date：复权基准日期，为None时为不复权数据。<ul>
<li>如果用户输入 fq_ref_date = None, 则获取到的是不复权的数据 </li>
<li>如果用户想获取后复权的数据，可以将fq_ref_date 指定为一个很早的日期，比如 datetime.date(2000, 1, 1)</li>
<li>定点复权，以某一天价格点位为参照物，进行的前复权或后复权。设置为datetime.datetime.now()即返回前复权数据 ; </li></ul></li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回期权的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取'10001313.XSHG'指定时间周期为5m的期权行情数据</span>
df=get_bars(<span class="hljs-string">'10001313.XSHG'</span>,<span class="hljs-number">10</span>,<span class="hljs-string">'5m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],end_dt=<span class="hljs-string">'2018-12-21 15:00:00'</span>)
print(df)
                 date    open    high     low   close
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">10</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0021</span>
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">15</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0023</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0019</span>
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0022</span>
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0020</span>
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0020</span>
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">35</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0023</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0022</span>
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">40</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0020</span>
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">45</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>
<span class="hljs-number">8</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">50</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>
<span class="hljs-number">9</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0017</span>  <span class="hljs-number">0.0018</span>
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取'10001312.XSHG','10001313.XSHG'指定时间周期为5m的期权行情数据</span>
df=get_bars([<span class="hljs-string">'10001312.XSHG'</span>,<span class="hljs-string">'10001313.XSHG'</span>],<span class="hljs-number">4</span>,<span class="hljs-string">'5m'</span>,fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],end_dt=<span class="hljs-string">'2018-12-21 15:00:00'</span>)
print(df)

                               date    open    high     low   close
<span class="hljs-number">10001312.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span> <span class="hljs-number">14</span>:<span class="hljs-number">45</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>
              <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span> <span class="hljs-number">14</span>:<span class="hljs-number">50</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>
              <span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>
              <span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>  <span class="hljs-number">0.0001</span>
<span class="hljs-number">10001313.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">40</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0022</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0020</span>
              <span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">45</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0021</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>
              <span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">50</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0020</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>
              <span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">0.0018</span>  <span class="hljs-number">0.0019</span>  <span class="hljs-number">0.0017</span>  <span class="hljs-number">0.0018</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据 </label>
      <article style="display: block; height: 1459.36px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。当日的集合竞价数据于下午15点更新。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>上证ETF期权（2017年至今）</strong></li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<pre><code class="hljs angelscript">#获取<span class="hljs-number">50</span>ETF期权<span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>至<span class="hljs-number">2017</span><span class="hljs-number">-08</span><span class="hljs-number">-21</span>期间的集合竞价数据
df=get_call_auction(<span class="hljs-string">'510050.XSHG'</span>,<span class="hljs-string">'2017-08-21'</span>,<span class="hljs-string">'2017-08-21'</span>)[:<span class="hljs-number">5</span>]
print(df)
          code                time  current      volume       money  a1_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">510050.</span>XSHG <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>     <span class="hljs-number">2.29</span>   <span class="hljs-number">4172900.0</span>   <span class="hljs-number">9560114.0</span>  <span class="hljs-number">2.29</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">510050.</span>XSHG <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-03</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>     <span class="hljs-number">2.25</span>    <span class="hljs-number">988300.0</span>   <span class="hljs-number">2228617.0</span>  <span class="hljs-number">2.25</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">510050.</span>XSHG <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>     <span class="hljs-number">2.25</span>   <span class="hljs-number">5466622.0</span>  <span class="hljs-number">12288966.0</span>  <span class="hljs-number">2.25</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">510050.</span>XSHG <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>     <span class="hljs-number">2.32</span>  <span class="hljs-number">17443923.0</span>  <span class="hljs-number">40469901.0</span>  <span class="hljs-number">2.32</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">510050.</span>XSHG <span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00</span>     <span class="hljs-number">2.31</span>    <span class="hljs-number">957500.0</span>   <span class="hljs-number">2208953.0</span>  <span class="hljs-number">2.31</span>   

       a1_v  a2_p       a2_v  a3_p    ...      b1_p       b1_v  b2_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">21000.0</span>  <span class="hljs-number">2.29</span>    <span class="hljs-number">93500.0</span>  <span class="hljs-number">2.29</span>    ...      <span class="hljs-number">2.29</span>   <span class="hljs-number">860400.0</span>  <span class="hljs-number">2.29</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">560700.0</span>  <span class="hljs-number">2.26</span>    <span class="hljs-number">28700.0</span>  <span class="hljs-number">2.26</span>    ...      <span class="hljs-number">2.25</span>   <span class="hljs-number">121400.0</span>  <span class="hljs-number">2.25</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">974600.0</span>  <span class="hljs-number">2.25</span>  <span class="hljs-number">1399990.0</span>  <span class="hljs-number">2.25</span>    ...      <span class="hljs-number">2.25</span>   <span class="hljs-number">383478.0</span>  <span class="hljs-number">2.25</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">240500.0</span>  <span class="hljs-number">2.32</span>    <span class="hljs-number">53800.0</span>  <span class="hljs-number">2.32</span>    ...      <span class="hljs-number">2.32</span>  <span class="hljs-number">5882077.0</span>  <span class="hljs-number">2.32</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">656500.0</span>  <span class="hljs-number">2.31</span>   <span class="hljs-number">278300.0</span>  <span class="hljs-number">2.31</span>    ...      <span class="hljs-number">2.31</span>    <span class="hljs-number">10500.0</span>  <span class="hljs-number">2.31</span>   

        b2_v  b3_p       b3_v  b4_p       b4_v  b5_p       b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">2744600.0</span>  <span class="hljs-number">2.29</span>  <span class="hljs-number">1279500.0</span>  <span class="hljs-number">2.29</span>  <span class="hljs-number">1698900.0</span>  <span class="hljs-number">2.29</span>   <span class="hljs-number">115900.0</span>  
<span class="hljs-number">1</span>   <span class="hljs-number">675600.0</span>  <span class="hljs-number">2.25</span>   <span class="hljs-number">266100.0</span>  <span class="hljs-number">2.25</span>   <span class="hljs-number">372200.0</span>  <span class="hljs-number">2.25</span>   <span class="hljs-number">204800.0</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">216800.0</span>  <span class="hljs-number">2.25</span>   <span class="hljs-number">536600.0</span>  <span class="hljs-number">2.25</span>   <span class="hljs-number">679500.0</span>  <span class="hljs-number">2.24</span>    <span class="hljs-number">50500.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">6451500.0</span>  <span class="hljs-number">2.32</span>  <span class="hljs-number">3491800.0</span>  <span class="hljs-number">2.32</span>  <span class="hljs-number">2439900.0</span>  <span class="hljs-number">2.32</span>  <span class="hljs-number">1939100.0</span>  
<span class="hljs-number">4</span>    <span class="hljs-number">64500.0</span>  <span class="hljs-number">2.30</span>    <span class="hljs-number">24400.0</span>  <span class="hljs-number">2.30</span>     <span class="hljs-number">3200.0</span>  <span class="hljs-number">2.30</span>    <span class="hljs-number">74300.0</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">25</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>tick数据 / 上证ETF期权：2017-01-01至今，股指期权：2019-12-24至今，商品期权：2019-12-02至今</label>
      <article style="display: block; height: 2153.2px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields,df)
</code></pre>
<p><strong>期权部分</strong>， 支持期权tick数据，每0.5s一次快照。其中上交所ETF期权从2017-01-01开始，提供买卖五档；商品期权从2019-12-02开始，提供买卖一档。 </p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: 期权代码；如security='10001979.XSHG' #上交所ETF期权，上海证券交易所；security='CU2001C42000.XSGE'#铜期权，上海期货交易所； security='SR003C5600.XZCE' #白糖期权，郑州商品交易所； security='M2005-P-2400.XDCE' #豆粕期权，大连商品交易所；</li>
<li>start_dt: 开始日期</li>
<li>end_dt: 结束日期</li>
<li>count: 取出指定时间区间内前多少条的tick数据。</li>
<li>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</li>
<li>skip: 默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</li>
<li>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</li>
</ul>
<p><strong>期权tick返回结果：</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（张）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额（元）</td>
<td>float</td>
</tr>
<tr>
<td>position</td>
<td>持仓量（张）</td>
<td>float</td>
</tr>
<tr>
<td>a1_p</td>
<td>一档卖价</td>
<td>float</td>
</tr>
<tr>
<td>a1_v</td>
<td>一档卖量</td>
<td>float</td>
</tr>
<tr>
<td>…</td>
<td></td>
<td></td>
</tr>
<tr>
<td>a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p</td>
<td>一档买价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v</td>
<td>一档买量</td>
<td>float</td>
</tr>
<tr>
<td>…</td>
<td></td>
<td></td>
</tr>
<tr>
<td>b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
<tr>
<td>b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>期权tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取上交所ETF期权（'10001313.XSHG')2018-12-20 10:00:00往前8个时间单位</span>
df=get_ticks(<span class="hljs-string">'10001313.XSHG'</span>,end_dt=<span class="hljs-string">'2018-12-20 10:00:00'</span>,count=<span class="hljs-number">8</span>)
print(df)
                     time  current    high    low   volume      money  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.740</span>   <span class="hljs-number">0.0041</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11754.0</span>  <span class="hljs-number">662475.03</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">39.240</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11774.0</span>  <span class="hljs-number">663332.00</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">42.740</span>   <span class="hljs-number">0.0043</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11784.0</span>  <span class="hljs-number">663770.69</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">45.240</span>   <span class="hljs-number">0.0043</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11798.0</span>  <span class="hljs-number">664384.85</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">46.240</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11808.0</span>  <span class="hljs-number">664813.33</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">51.712</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11812.0</span>  <span class="hljs-number">664984.72</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">55.232</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11822.0</span>  <span class="hljs-number">665413.21</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">55.732</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11839.0</span>  <span class="hljs-number">666141.63</span>   

   position    a1_p  a1_v    a2_p  ...     b1_p  b1_v    b2_p  b2_v    b3_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">93502.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">37.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0041</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">93510.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">37.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">31.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">93520.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">55.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">22.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">40.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">46.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">6</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">36.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">0.0040</span>   
<span class="hljs-number">7</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">19.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">0.0040</span>   

   b3_v    b4_p  b4_v    b5_p  b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">94.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">72.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">40.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">50.0</span>  <span class="hljs-number">0.0039</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">50.0</span>  <span class="hljs-number">0.0039</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">27</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>




</div>
</section>
<h3 id="期权交易统计数据">期权交易统计数据</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="OPT_TRADE_RANK_STK"></span>OPT_TRADE_RANK_STK</label>
      <label>沪深ETF期权交易和持仓排名统计 / 上市至今，下一交易日盘前8:05更新</label>
      <article style="display: block; height: 2064.67px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_TRADE_RANK_STK).filter(opt.OPT_TRADE_RANK_STK.underlying_symbol==underlying_symbol).limit(n))
</code></pre>
<p>描述：统计沪深ETF期权每日最活跃三个合约的交易排名和持仓量最大三个合约的持仓排名情况</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_TRADE_RANK_STK)</strong>：表示从opt.OPT_TRADE_RANK_STK这张表中查询沪深ETF期权交易和持仓排名统计数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_TRADE_RANK_STK</strong>：收录了沪深ETF期权交易和持仓排名统计数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td><strong>名称</strong></td>
        <td><strong>类型</strong></td>
        <td><strong>描述</strong></td>
        <td><strong>示例</strong></td>
    </tr>
    <tr>
        <td>underlying_symbol</td>
        <td>str</td>
        <td>标的代码</td>
        <td>510050.XSHG</td>
    </tr>
    <tr>
        <td>underlying_name</td>
        <td>str</td>
        <td>标的简称</td>
        <td>华夏上证50ETF</td>
    </tr>
    <tr>
        <td>underlying_exchange</td>
        <td>str</td>
        <td>证券市场编码：XSHG-上海证券交易所；</td>
        <td>XSHG</td>
    </tr>
    <tr>
        <td>date</td>
        <td>str</td>
        <td>交易日期</td>
        <td>2018-10-25</td>
    </tr>
    <tr>
        <td>rank</td>
        <td>int</td>
        <td>排名</td>
        <td>1</td>
    </tr>
    <tr>
        <td>volume</td>
        <td>int</td>
        <td>数量(张）</td>
        <td>184891</td>
    </tr>
    <tr>
        <td>option_agency</td>
        <td>str</td>
        <td>期权经营机构</td>
        <td>华泰证券</td>
    </tr>
    <tr>
        <td>rank_type</td>
        <td>str</td>
        <td><p>排名统计类型</p><p>601001：最活跃三个合约的认购交易排名；</p><p>601002：最活跃三个合约的认沽交易排名；</p><p>601003：持仓最大3个合约的认购持仓量排名；</p><p>601004：持仓最大3个合约的认沽持仓量排名</p></td>
        <td>601001</td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(opt.OPT_TRADE_RANK_STK.underlying_symbol==underlying_symbol)</strong>：指定筛选条件，通过opt.OPT_TRADE_RANK_STK.underlying_symbol==underlying_symbol可以指定你想要查询的标的代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询最活跃三个合约的认购交易排名（601001）</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(opt.OPT_TRADE_RANK_STK).filter(opt.OPT_TRADE_RANK_STK.rank_type==<span class="hljs-number">601001</span>).order_by(opt.OPT_TRADE_RANK_STK.date.desc()).limit(<span class="hljs-number">10</span>)
df=opt.run_query(q)
print(df)

      id underlying_symbol underlying_name underlying_exchange        date  \
<span class="hljs-number">0</span>  <span class="hljs-number">41627</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">41671</span>       <span class="hljs-number">510300.</span>XSHG    华泰柏瑞沪深<span class="hljs-number">300</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">41628</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">41629</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">41630</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">41631</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">41647</span>       <span class="hljs-number">159919.</span>XSHE      嘉实沪深<span class="hljs-number">300</span>ETF                XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">41648</span>       <span class="hljs-number">159919.</span>XSHE      嘉实沪深<span class="hljs-number">300</span>ETF                XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">41649</span>       <span class="hljs-number">159919.</span>XSHE      嘉实沪深<span class="hljs-number">300</span>ETF                XSHE  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">41670</span>       <span class="hljs-number">510300.</span>XSHG    华泰柏瑞沪深<span class="hljs-number">300</span>ETF                XSHG  <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>   

   rank  volume option_agency rank_type  
<span class="hljs-number">0</span>     <span class="hljs-number">2</span>  <span class="hljs-number">389167</span>          广发证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">1</span>     <span class="hljs-number">3</span>  <span class="hljs-number">171957</span>          南华期货    <span class="hljs-number">601001</span>  
<span class="hljs-number">2</span>     <span class="hljs-number">4</span>  <span class="hljs-number">136430</span>          中信证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">3</span>     <span class="hljs-number">5</span>  <span class="hljs-number">115294</span>          招商证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">4</span>     <span class="hljs-number">1</span>  <span class="hljs-number">405170</span>          华泰证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">5</span>     <span class="hljs-number">3</span>  <span class="hljs-number">152924</span>          南华期货    <span class="hljs-number">601001</span>  
<span class="hljs-number">6</span>     <span class="hljs-number">2</span>   <span class="hljs-number">44316</span>          广发证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">7</span>     <span class="hljs-number">3</span>   <span class="hljs-number">27527</span>          中信证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">8</span>     <span class="hljs-number">5</span>   <span class="hljs-number">21805</span>          招商证券    <span class="hljs-number">601001</span>  
<span class="hljs-number">9</span>     <span class="hljs-number">1</span>  <span class="hljs-number">375776</span>          华泰证券    <span class="hljs-number">601001</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="OPT_EXERCISE_INFO"></span>OPT_EXERCISE_INFO</label>
      <label>期权行权交收信息 / 上市至今，每日10:45更新</label>
      <article style="display: block; height: 1687.45px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_EXERCISE_INFO).filter(opt.OPT_EXERCISE_INFO.underlying_symbol==underlying_symbol).limit(n))
</code></pre>
<p>描述：统计上证50ETF期权在各个行权日的交收情况，一定程度上也代表了用户对当前市场的风险偏好</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_EXERCISE_INFO)</strong>：表示从opt.OPT_EXERCISE_INFO这张表中查询期权行权交收信息数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_EXERCISE_INFO</strong>：收录了期权行权交收信息数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>underlying_symbol</td>
<td>str</td>
<td>标的代码</td>
<td>510050.XSHG</td>
</tr>
<tr>
<td>underlying_name</td>
<td>str</td>
<td>标的名称</td>
<td></td>
</tr>
<tr>
<td>exercise_date</td>
<td>str</td>
<td>行权日</td>
<td>2018-10-24</td>
</tr>
<tr>
<td>constract_type</td>
<td>str</td>
<td>合约类型，CO-认购期权，PO-认沽期权</td>
<td>CO</td>
</tr>
<tr>
<td>exercise_number</td>
<td>int</td>
<td>行权数量</td>
<td>12520</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(opt.OPT_EXERCISE_INFO.underlying_symbol==underlying_symbol)</strong>：指定筛选条件，通过opt.OPT_EXERCISE_INFO.underlying_symbol==underlying_symbol可以指定你想要查询的标的代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询华夏上证50ETF("510050.XSHG")最新的期权行权交收信息数据。</span>
q=query(opt.OPT_EXERCISE_INFO).filter(opt.OPT_EXERCISE_INFO.underlying_symbol==<span class="hljs-string">'510050.XSHG'</span>).order_by(opt.OPT_EXERCISE_INFO.exercise_date.desc()).limit(<span class="hljs-number">10</span>)
df=opt.run_query(q)
print(df)

      id underlying_symbol underlying_name exercise_date contract_type  exercise_number
<span class="hljs-number">0</span>   <span class="hljs-number">86</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>            PO            <span class="hljs-number">14419</span>
<span class="hljs-number">1</span>   <span class="hljs-number">85</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>            CO            <span class="hljs-number">17330</span>
<span class="hljs-number">2</span>   <span class="hljs-number">84</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-24</span>            PO            <span class="hljs-number">21933</span>
<span class="hljs-number">3</span>   <span class="hljs-number">83</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-24</span>            CO            <span class="hljs-number">12520</span>
<span class="hljs-number">4</span>   <span class="hljs-number">82</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span>            PO             <span class="hljs-number">9550</span>
<span class="hljs-number">5</span>   <span class="hljs-number">81</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-26</span>            CO            <span class="hljs-number">20286</span>
<span class="hljs-number">6</span>   <span class="hljs-number">80</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-22</span>            PO            <span class="hljs-number">10228</span>
<span class="hljs-number">7</span>   <span class="hljs-number">79</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-22</span>            CO            <span class="hljs-number">10208</span>
<span class="hljs-number">8</span>   <span class="hljs-number">78</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-25</span>            PO             <span class="hljs-number">5754</span>
<span class="hljs-number">9</span>   <span class="hljs-number">77</span>       <span class="hljs-number">510050.</span>XSHG           <span class="hljs-number">50</span>ETF    <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-25</span>            CO            <span class="hljs-number">19632</span>
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="OPT_RISK_INDICATOR"></span>OPT_RISK_INDICATOR</label>
      <label>期权风险指标数据 / 上市至今，下一交易日盘前8:05更新</label>
      <article style="display: block; height: 2060.7px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> opt
opt.run_query(query(opt.OPT_RISK_INDICATOR).filter(opt.OPT_RISK_INDICATOR.code==code).limit(n))
</code></pre>
<p>描述：统计各期权合约每日的风险指标，帮助用户更科学的衡量期权合约的价值变动</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(opt.OPT_RISK_INDICATOR)</strong>：表示从opt.OPT_RISK_INDICATOR这张表中查询期权风险指标数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：<a href="http://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></li>
<li><strong>opt.OPT_RISK_INDICATOR</strong>：收录了期权风险指标数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段设计</strong></p>
<table>
    <tbody><tr>
        <td><strong>名称</strong></td>
        <td><strong>类型</strong></td>
        <td><strong>描述</strong></td>
        <td><strong>示例</strong></td>
        <td><strong>备注</strong></td>
    </tr>
    <tr>
        <td>code</td>
        <td>str</td>
        <td>合约代码</td>
        <td><p>10001313.XSHG；CU1901C46000.XSGE；</p><p>SR903C4700.XZCE；M1707-C-2400.XDCE</p></td>
        <td>合约代码使用大写字母</td>
    </tr>
    <tr>
        <td>exchange_code</td>
        <td>str</td>
        <td>证券市场编码</td>
        <td>XSHG</td>
        <td></td>
    </tr>
    <tr>
        <td>date</td>
        <td>str</td>
        <td>交易日期</td>
        <td>2018-10-19</td>
        <td></td>
    </tr>
    <tr>
        <td>delta</td>
        <td>float</td>
        <td>DELTA</td>
        <td>0.906</td>
        <td><strong>Delta=期权价格变化/期货变化</strong></td>
    </tr>
    <tr>
        <td>theta</td>
        <td>float</td>
        <td>THETA</td>
        <td>-0.249</td>
        <td><strong>Theta＝期权价格的变化／距离到期日时间的变化</strong></td>
    </tr>
    <tr>
        <td>gamma</td>
        <td>float</td>
        <td>GAMMA</td>
        <td>0.669</td>
        <td><strong>Gamma=delta的变化／期货价格的变化</strong></td>
    </tr>
    <tr>
        <td>vega</td>
        <td>float</td>
        <td>VEGA</td>
        <td>0.138</td>
        <td><strong>Vega=期权价格变化/波动率的变化</strong></td>
    </tr>
    <tr>
        <td>rho</td>
        <td>float</td>
        <td>RHO</td>
        <td>0.213</td>
        <td><strong>Rho=期权价格的变化／无风险利率的变化</strong></td>
    </tr>
</tbody></table>
<ul>
<li><strong>filter(opt.OPT_RISK_INDICATOR.code==code)</strong>：指定筛选条件，通过opt.OPT_RISK_INDICATOR.code==code可以指定你想要查询的合约代码；除此之外，还可以对表中其他字段指定筛选条件；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询上证50ETF期权（'10001313.XSHG')最新的期权风险指标数据。</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
q=query(opt.OPT_RISK_INDICATOR).filter(opt.OPT_RISK_INDICATOR.code==<span class="hljs-string">'10001313.XSHG'</span>).order_by(opt.OPT_RISK_INDICATOR.date.desc()).limit(<span class="hljs-number">10</span>)
df=opt.run_query(q)
print(df)

       id           code exchange_code        date  delta  theta  gamma  \
<span class="hljs-number">0</span>  <span class="hljs-number">320797</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-05</span>  <span class="hljs-number">0.609</span> <span class="hljs-number">-0.488</span>  <span class="hljs-number">2.875</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">83541</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>  <span class="hljs-number">0.638</span> <span class="hljs-number">-0.471</span>  <span class="hljs-number">2.730</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">83540</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>  <span class="hljs-number">0.610</span> <span class="hljs-number">-0.490</span>  <span class="hljs-number">2.607</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">83539</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-30</span>  <span class="hljs-number">0.467</span> <span class="hljs-number">-0.519</span>  <span class="hljs-number">2.278</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">83538</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-29</span>  <span class="hljs-number">0.419</span> <span class="hljs-number">-0.484</span>  <span class="hljs-number">2.266</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">83537</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-28</span>  <span class="hljs-number">0.447</span> <span class="hljs-number">-0.466</span>  <span class="hljs-number">2.341</span>   
<span class="hljs-number">6</span>   <span class="hljs-number">83536</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-27</span>  <span class="hljs-number">0.391</span> <span class="hljs-number">-0.449</span>  <span class="hljs-number">2.198</span>   
<span class="hljs-number">7</span>   <span class="hljs-number">83535</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-26</span>  <span class="hljs-number">0.422</span> <span class="hljs-number">-0.470</span>  <span class="hljs-number">2.108</span>   
<span class="hljs-number">8</span>   <span class="hljs-number">83534</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-23</span>  <span class="hljs-number">0.418</span> <span class="hljs-number">-0.468</span>  <span class="hljs-number">1.917</span>   
<span class="hljs-number">9</span>   <span class="hljs-number">83533</span>  <span class="hljs-number">10001313.</span>XSHG          XSHG  <span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-22</span>  <span class="hljs-number">0.497</span> <span class="hljs-number">-0.477</span>  <span class="hljs-number">1.929</span>   

    vega    rho  
<span class="hljs-number">0</span>  <span class="hljs-number">0.228</span>  <span class="hljs-number">0.083</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">0.229</span>  <span class="hljs-number">0.091</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">0.239</span>  <span class="hljs-number">0.090</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">0.263</span>  <span class="hljs-number">0.078</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">0.261</span>  <span class="hljs-number">0.072</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">0.270</span>  <span class="hljs-number">0.080</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">0.264</span>  <span class="hljs-number">0.072</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">0.275</span>  <span class="hljs-number">0.080</span>  
<span class="hljs-number">8</span>  <span class="hljs-number">0.287</span>  <span class="hljs-number">0.087</span>  
<span class="hljs-number">9</span>  <span class="hljs-number">0.302</span>  <span class="hljs-number">0.108</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>
</div>
</section>
<h3 id="期权列表">期权列表</h3>
<p><span id="alg_frame"></span>
</p><section>
  
<div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body"><p></p>
<div class="group">
      <label><span id="期权列表"></span>期权列表</label>
      <label>金融期权、商品期权</label>
      <article style="display: block; height: 131.969px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><a href="https://www.joinquant.com/help/api/help#Option:%E6%9C%9F%E6%9D%83%E5%88%97%E8%A1%A8"><strong>金融期权</strong></a>：1. 上海证券交易所:50ETF期权、 沪深300ETF
2.中国金融期货交易所: 沪深300股指期权、 <strong>中证1000股指期权</strong></p>
<p><a href="https://www.joinquant.com/help/api/help#Option:%E6%9C%9F%E6%9D%83%E5%88%97%E8%A1%A8"><strong>商品期权</strong></a>：上海期货交易所、郑州商品交易所、大连商品交易所</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<h2 id="债券">债券</h2>

<h3 id="债券概况">债券概况</h3>
<ul>
<li><strong>更新时间：上市至今，每日19：00、22:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="债券使用说明"></span>债券使用说明</label>
      <label>债券使用说明</label>
      <article style="display: block; height: 918.352px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_BASIC_INFO).filter(bond.BOND_BASIC_INFO.code == <span class="hljs-string">'131801'</span>).limit(n))
</code></pre>
<p>获取债券基本信息数据、债券票面利率数据和国债逆回购日行情数据</p>
<p><strong>参数：</strong></p>
<ul>
<li><p><strong>query(bond.BOND_BASIC_INFO)</strong>：表示从bond.BOND_BASIC_INFO 这张表中查询债券基本信息数据，其中bond是库名，BOND_BASIC_INFO是表名。bond库中的表都可以使用run_query方法调用，表名如下所示：</p>
<table>
<thead>
<tr>
<th><strong>表名</strong></th>
<th><strong>描述</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>BOND_BASIC_INFO</td>
<td>债券基本信息数据</td>
</tr>
<tr>
<td>BOND_COUPON</td>
<td>债券票面利率数据</td>
</tr>
<tr>
<td>REPO_DAILY_PRICE</td>
<td>国债逆回购日行情数据</td>
</tr>
</tbody>
</table>
<p>在查询表数据时还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2，多个字段用逗号分隔进行提取；query函数的更多用法详见：
<strong><a href="https://www.joinquant.com/view/community/detail/16411">query简易教程</a></strong></p></li>
<li><p><strong>filter(bond.BOND_BASIC_INFO.code == '131801')</strong>：指定筛选条件，通过bond.BOND_BASIC_INFO.code == '131801' 可以指定债券代码来获取债券基本信息数据；除此之外，还可以对表中其他字段指定筛选条件，如filter(bond.BOND_BASIC_INFO.exchange=='上交所')，表示交易市场在上交所的所有债券基本信息数据；多个筛选条件用英文逗号分隔。</p></li>
<li><p><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</p></li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li><strong>为了防止返回数据量过大, 我们每次最多返回5000行</strong></li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="BOND_BASIC_INFO"></span>BOND_BASIC_INFO</label>
      <label>债券基本信息 </label>
      <article style="display: block; height: 5823.77px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_BASIC_INFO ).limit(n))
</code></pre>
<p><strong>数据字典：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码(不加后缀）</td>
</tr>
<tr>
<td>short_name</td>
<td>str</td>
<td>债券简称</td>
</tr>
<tr>
<td>short_name_spelling</td>
<td>str</td>
<td>债券简称拼音</td>
</tr>
<tr>
<td>full_name</td>
<td>str</td>
<td>债券全称</td>
</tr>
<tr>
<td>list_status_id</td>
<td>int</td>
<td>上市状态编码，见下表上市状态编码对照表</td>
</tr>
<tr>
<td>list_status</td>
<td>str</td>
<td>上市状态</td>
</tr>
<tr>
<td>issuer</td>
<td>str</td>
<td>发行人</td>
</tr>
<tr>
<td>company_code</td>
<td>str</td>
<td>发行人股票代码</td>
</tr>
<tr>
<td>exchange_code</td>
<td>int</td>
<td>交易市场编码，见下表交易市场编码</td>
</tr>
<tr>
<td>exchange</td>
<td>str</td>
<td>交易市场</td>
</tr>
<tr>
<td>currency_id</td>
<td>str</td>
<td>货币代码。CNY-人民币</td>
</tr>
<tr>
<td>coupon_type_id</td>
<td>int</td>
<td>计息方式编码，见下表计息方式编码</td>
</tr>
<tr>
<td>coupon_type</td>
<td>str</td>
<td>计息方式</td>
</tr>
<tr>
<td>coupon_frequency</td>
<td>int</td>
<td>付息频率，单位：月/次。按年付息是12月/次；半年付息是6月/次</td>
</tr>
<tr>
<td>payment_type_id</td>
<td>int</td>
<td>兑付方式编码，见下表兑付方式编码表</td>
</tr>
<tr>
<td>payment_type</td>
<td>str</td>
<td>兑付方式</td>
</tr>
<tr>
<td>par</td>
<td>float</td>
<td>债券面值(元)</td>
</tr>
<tr>
<td>repayment_period</td>
<td>int</td>
<td>偿还期限(月）</td>
</tr>
<tr>
<td>bond_type_id</td>
<td>int</td>
<td>债券分类编码。</td>
</tr>
<tr>
<td>bond_type</td>
<td>str</td>
<td>债券分类</td>
</tr>
<tr>
<td>bond_form_id</td>
<td>int</td>
<td>债券形式编码，见下表债券形式编码表</td>
</tr>
<tr>
<td>bond_form</td>
<td>str</td>
<td>债券形式</td>
</tr>
<tr>
<td>list_date</td>
<td>date</td>
<td>上市日期</td>
</tr>
<tr>
<td>delist_Date</td>
<td>date</td>
<td>退市日期</td>
</tr>
<tr>
<td>interest_begin_date</td>
<td>date</td>
<td>起息日</td>
</tr>
<tr>
<td>maturity_date</td>
<td>date</td>
<td>到期日</td>
</tr>
<tr>
<td>interest_date</td>
<td>str</td>
<td>付息日</td>
</tr>
<tr>
<td>last_cash_date</td>
<td>date</td>
<td>最终兑付日</td>
</tr>
<tr>
<td>cash_comment</td>
<td>str</td>
<td>兑付说明</td>
</tr>
</tbody>
</table>
<p><strong>编码对照表:</strong></p>
<table>
<thead>
<tr>
<th>上市状态编码</th>
<th>上市状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>301001</td>
<td>正常上市</td>
</tr>
<tr>
<td>301002</td>
<td>ST</td>
</tr>
<tr>
<td>301003</td>
<td>*ST</td>
</tr>
<tr>
<td>301004</td>
<td>暂停上市</td>
</tr>
<tr>
<td>301006</td>
<td>终止上市</td>
</tr>
<tr>
<td>301007</td>
<td>已发行未上市</td>
</tr>
<tr>
<td>301008</td>
<td>预披露</td>
</tr>
<tr>
<td>301009</td>
<td>未过会</td>
</tr>
<tr>
<td>301010</td>
<td>发行失败</td>
</tr>
<tr>
<td>301011</td>
<td>暂缓发行</td>
</tr>
<tr>
<td>301099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>交易市场编码</strong></th>
<th><strong>交易市场</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>705001</td>
<td>上交所</td>
</tr>
<tr>
<td>705002</td>
<td>深交所主板</td>
</tr>
<tr>
<td>705003</td>
<td>深交所中小板</td>
</tr>
<tr>
<td>705004</td>
<td>深交所创业板</td>
</tr>
<tr>
<td>705005</td>
<td>上交所综合业务平台</td>
</tr>
<tr>
<td>705006</td>
<td>深交所综合协议交易平台</td>
</tr>
<tr>
<td>705007</td>
<td>银行间债券市场</td>
</tr>
<tr>
<td>705008</td>
<td>商业银行柜台市场</td>
</tr>
<tr>
<td>705009</td>
<td>港交所创业板</td>
</tr>
<tr>
<td>705010</td>
<td>新加坡证券交易所</td>
</tr>
<tr>
<td>705011</td>
<td>拟上市</td>
</tr>
<tr>
<td>705012</td>
<td>产权交易市场</td>
</tr>
<tr>
<td>705013</td>
<td>美国NASDAQ证券交易所</td>
</tr>
<tr>
<td>705014</td>
<td>港交所主板</td>
</tr>
<tr>
<td>705015</td>
<td>股份报价系统</td>
</tr>
<tr>
<td>705016</td>
<td>代办转让</td>
</tr>
<tr>
<td>705017</td>
<td>上交所CDR</td>
</tr>
<tr>
<td>705018</td>
<td>深交所存托凭证</td>
</tr>
<tr>
<td>705099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>计息方式编码</th>
<th>计息方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>701001</td>
<td>利随本清</td>
</tr>
<tr>
<td>701002</td>
<td>固定利率附息</td>
</tr>
<tr>
<td>701003</td>
<td>递进利率</td>
</tr>
<tr>
<td>701004</td>
<td>浮动利率</td>
</tr>
<tr>
<td>701005</td>
<td>贴现</td>
</tr>
<tr>
<td>701006</td>
<td>未公布</td>
</tr>
<tr>
<td>701007</td>
<td>无利率</td>
</tr>
<tr>
<td>701008</td>
<td>累进利率</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>兑付方式编码</th>
<th>兑付方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>702001</td>
<td>到期一次付息</td>
</tr>
<tr>
<td>702002</td>
<td>按年付息</td>
</tr>
<tr>
<td>702003</td>
<td>按半年付息</td>
</tr>
<tr>
<td>702004</td>
<td>按季付息</td>
</tr>
<tr>
<td>702005</td>
<td>按月付息</td>
</tr>
<tr>
<td>702006</td>
<td>未公布</td>
</tr>
<tr>
<td>702099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>债券分类编码</th>
<th>债券分类</th>
</tr>
</thead>
<tbody>
<tr>
<td>703001</td>
<td>短期融资券</td>
</tr>
<tr>
<td>703002</td>
<td>质押式回购</td>
</tr>
<tr>
<td>703003</td>
<td>私募债</td>
</tr>
<tr>
<td>703004</td>
<td>企业债</td>
</tr>
<tr>
<td>703005</td>
<td>次级债</td>
</tr>
<tr>
<td>703006</td>
<td>一般金融债</td>
</tr>
<tr>
<td>703007</td>
<td>中期票据</td>
</tr>
<tr>
<td>703008</td>
<td>资产支持证券</td>
</tr>
<tr>
<td>703009</td>
<td>小微企业扶持债</td>
</tr>
<tr>
<td>703010</td>
<td>地方政府债</td>
</tr>
<tr>
<td>703011</td>
<td>公司债</td>
</tr>
<tr>
<td>703012</td>
<td>可交换私募债</td>
</tr>
<tr>
<td>703013</td>
<td>可转债</td>
</tr>
<tr>
<td>703014</td>
<td>集合债券</td>
</tr>
<tr>
<td>703015</td>
<td>国际机构债券</td>
</tr>
<tr>
<td>703016</td>
<td>政府支持机构债券</td>
</tr>
<tr>
<td>703017</td>
<td>集合票据</td>
</tr>
<tr>
<td>703018</td>
<td>外国主权政府人民币债券</td>
</tr>
<tr>
<td>703019</td>
<td>央行票据</td>
</tr>
<tr>
<td>703020</td>
<td>政策性金融债</td>
</tr>
<tr>
<td>703021</td>
<td>国债</td>
</tr>
<tr>
<td>703022</td>
<td>非银行金融债</td>
</tr>
<tr>
<td>703023</td>
<td>可分离可转债</td>
</tr>
<tr>
<td>703024</td>
<td>国库定期存款</td>
</tr>
<tr>
<td>703025</td>
<td>可交换债</td>
</tr>
<tr>
<td>703026</td>
<td>特种金融债</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>债券形式编码</th>
<th>债券形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>704001</td>
<td>记账式</td>
</tr>
<tr>
<td>704002</td>
<td>实物式</td>
</tr>
<tr>
<td>704003</td>
<td>储蓄电子式</td>
</tr>
<tr>
<td>704004</td>
<td>凭证式</td>
</tr>
<tr>
<td>704005</td>
<td>未公布</td>
</tr>
</tbody>
</table>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 查询2019年4月14日的债券基本信息</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *

df = bond.run_query(query(bond.BOND_BASIC_INFO).filter(bond.BOND_BASIC_INFO.exchange == <span class="hljs-string">'上交所'</span>).limit(<span class="hljs-number">5</span>))
print(df)

<span class="hljs-comment"># 输出</span>

   id    code short_name                            full_name  list_status_id  \
<span class="hljs-number">0</span>   <span class="hljs-number">2</span>  <span class="hljs-number">131800</span>      <span class="hljs-number">16</span>东莞次  中国中投证券-东莞证券融出资金债权<span class="hljs-number">1</span>号资产支持专项计划次级资产支持证券          <span class="hljs-number">301006</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">3</span>  <span class="hljs-number">131801</span>     花呗<span class="hljs-number">01</span>A1         德邦花呗第一期消费贷款资产支持专项计划优先级资产支持证券          <span class="hljs-number">301006</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">4</span>  <span class="hljs-number">131802</span>     花呗<span class="hljs-number">01</span>A2        德邦花呗第一期消费贷款资产支持专项计划次优先级资产支持证券          <span class="hljs-number">301006</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">5</span>  <span class="hljs-number">131803</span>      花呗<span class="hljs-number">01</span>B          德邦花呗第一期消费贷款资产支持专项计划次级资产支持证券          <span class="hljs-number">301006</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">6</span>  <span class="hljs-number">131805</span>       海尔优B             海尔保理一期资产支持专项计划优先B级资产支持证券          <span class="hljs-number">301006</span>   

  list_status           issuer company_code  exchange_code exchange  \
<span class="hljs-number">0</span>        终止上市       东莞证券股份有限公司   S0001.XSHG         <span class="hljs-number">705001</span>      上交所   
<span class="hljs-number">1</span>        终止上市  重庆市阿里小微小额贷款有限公司         <span class="hljs-keyword">None</span>         <span class="hljs-number">705001</span>      上交所   
<span class="hljs-number">2</span>        终止上市  重庆市阿里小微小额贷款有限公司         <span class="hljs-keyword">None</span>         <span class="hljs-number">705001</span>      上交所   
<span class="hljs-number">3</span>        终止上市  重庆市阿里小微小额贷款有限公司         <span class="hljs-keyword">None</span>         <span class="hljs-number">705001</span>      上交所   
<span class="hljs-number">4</span>        终止上市       东吴证券股份有限公司  <span class="hljs-number">601555.</span>XSHG         <span class="hljs-number">705001</span>      上交所   

      ...      bond_type  bond_form_id bond_form   list_date  delist_Date  \
<span class="hljs-number">0</span>     ...         资产支持证券        <span class="hljs-number">704001</span>       记账式  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-25</span>   <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-18</span>   
<span class="hljs-number">1</span>     ...         资产支持证券        <span class="hljs-number">704001</span>       记账式  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>   <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-13</span>   
<span class="hljs-number">2</span>     ...         资产支持证券        <span class="hljs-number">704001</span>       记账式  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>   <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-13</span>   
<span class="hljs-number">3</span>     ...         资产支持证券        <span class="hljs-number">704001</span>       记账式  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>   <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-13</span>   
<span class="hljs-number">4</span>     ...         资产支持证券        <span class="hljs-number">704001</span>       记账式  <span class="hljs-number">2016</span><span class="hljs-number">-07</span><span class="hljs-number">-07</span>   <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span>   

  interest_begin_date  maturity_date  interest_date  last_cash_date  \
<span class="hljs-number">0</span>          <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-17</span>     <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-18</span>           <span class="hljs-keyword">None</span>      <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-18</span>   
<span class="hljs-number">1</span>          <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-07</span>     <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>           <span class="hljs-keyword">None</span>      <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>   
<span class="hljs-number">2</span>          <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-07</span>     <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>           <span class="hljs-keyword">None</span>      <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>   
<span class="hljs-number">3</span>          <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-07</span>     <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>           <span class="hljs-keyword">None</span>      <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-15</span>   
<span class="hljs-number">4</span>          <span class="hljs-number">2016</span><span class="hljs-number">-06</span><span class="hljs-number">-08</span>     <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-06</span>           <span class="hljs-keyword">None</span>      <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-06</span>   

  cash_comment  
<span class="hljs-number">0</span>         <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>         <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>         <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>         <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>         <span class="hljs-keyword">None</span>  

[<span class="hljs-number">5</span> rows x <span class="hljs-number">29</span> columns]
</code></pre></article>
<span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="BOND_COUPON"></span>BOND_COUPON</label>
      <label>债券票面利率 </label>
      <article style="display: block; height: 2519.75px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_COUPON).limit(n))
</code></pre>
<p><strong>数据字典：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码（不加后缀）</td>
</tr>
<tr>
<td>short_name</td>
<td>str</td>
<td>债券简称</td>
</tr>
<tr>
<td>pub_date</td>
<td>date</td>
<td>信息发布日期</td>
</tr>
<tr>
<td>coupon_type_id</td>
<td>int</td>
<td>计息方式编码，见下表计息方式编码</td>
</tr>
<tr>
<td>exchange_code</td>
<td>int</td>
<td>证券市场编码(新增字段)</td>
</tr>
<tr>
<td>exchange</td>
<td>str</td>
<td>证券市场(新增字段)</td>
</tr>
<tr>
<td>coupon_type</td>
<td>str</td>
<td>计息方式</td>
</tr>
<tr>
<td>coupon</td>
<td>float(5)</td>
<td>票面年利率(%)</td>
</tr>
<tr>
<td>coupon_start_date</td>
<td>date</td>
<td>票面利率起始适用日期</td>
</tr>
<tr>
<td>coupon_end_date</td>
<td>date</td>
<td>票面利率终止适用日期</td>
</tr>
<tr>
<td>reference_rate</td>
<td>float</td>
<td>浮息债参考利率(%)</td>
</tr>
<tr>
<td>reference_rate_comment</td>
<td>str</td>
<td>浮息债参考利率说明</td>
</tr>
<tr>
<td>margin_rate</td>
<td>float</td>
<td>浮息债利差(%)-(等于票面利率减参考利率）</td>
</tr>
<tr>
<td>coupon_upper_limit</td>
<td>float</td>
<td>利率上限</td>
</tr>
<tr>
<td>coupon_lower_limit</td>
<td>float</td>
<td>利率下限</td>
</tr>
</tbody>
</table>
<p><strong>编码对照表：</strong></p>
<table>
<thead>
<tr>
<th>计息方式编码</th>
<th>计息方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>701001</td>
<td>利随本清</td>
</tr>
<tr>
<td>701002</td>
<td>固定利率附息</td>
</tr>
<tr>
<td>701003</td>
<td>递进利率</td>
</tr>
<tr>
<td>701004</td>
<td>浮动利率</td>
</tr>
<tr>
<td>701005</td>
<td>贴现</td>
</tr>
<tr>
<td>701006</td>
<td>未公布</td>
</tr>
<tr>
<td>701007</td>
<td>无利率</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_COUPON))
print(df[:<span class="hljs-number">4</span>])

   id    code short_name    pub_date  exchange_code exchange  coupon_type_id  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">123082</span>     <span class="hljs-number">15</span>国君C1  <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-28</span>         <span class="hljs-number">705001</span>      上交所          <span class="hljs-number">701002</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>  <span class="hljs-number">155788</span>     <span class="hljs-number">19</span>中航G2  <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-25</span>         <span class="hljs-number">705001</span>      上交所          <span class="hljs-number">701002</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>  <span class="hljs-number">125496</span>      <span class="hljs-number">14</span>蓉家投  <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-12</span>         <span class="hljs-number">705001</span>      上交所          <span class="hljs-number">701002</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>  <span class="hljs-number">125496</span>      <span class="hljs-number">14</span>蓉家投  <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-12</span>         <span class="hljs-number">705001</span>      上交所          <span class="hljs-number">701002</span>   

  coupon_type  coupon coupon_start_date coupon_end_date  reference_rate  \
<span class="hljs-number">0</span>      固定利率附息    <span class="hljs-number">5.70</span>        <span class="hljs-number">2015</span><span class="hljs-number">-04</span><span class="hljs-number">-28</span>      <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-27</span>             NaN   
<span class="hljs-number">1</span>      固定利率附息    <span class="hljs-number">4.19</span>        <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span>      <span class="hljs-number">2022</span><span class="hljs-number">-10</span><span class="hljs-number">-27</span>             NaN   
<span class="hljs-number">2</span>      固定利率附息   <span class="hljs-number">10.00</span>        <span class="hljs-number">2017</span><span class="hljs-number">-02</span><span class="hljs-number">-12</span>      <span class="hljs-number">2018</span><span class="hljs-number">-02</span><span class="hljs-number">-11</span>             NaN   
<span class="hljs-number">3</span>      固定利率附息   <span class="hljs-number">10.00</span>        <span class="hljs-number">2016</span><span class="hljs-number">-02</span><span class="hljs-number">-12</span>      <span class="hljs-number">2017</span><span class="hljs-number">-02</span><span class="hljs-number">-11</span>             NaN   

  reference_rate_comment  margin_rate coupon_upper_limit coupon_lower_limit  
<span class="hljs-number">0</span>                   <span class="hljs-keyword">None</span>          NaN               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>                   <span class="hljs-keyword">None</span>          NaN               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>                   <span class="hljs-keyword">None</span>          NaN               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>                   <span class="hljs-keyword">None</span>          NaN               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
</code></pre><p></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取15建元2A3的债券票面利率</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_COUPON).filter(bond.BOND_COUPON.code==<span class="hljs-string">'1589355'</span>))
print(df[:<span class="hljs-number">4</span>])

     id     code short_name    pub_date  exchange_code exchange  \
<span class="hljs-number">0</span>  <span class="hljs-number">1954</span>  <span class="hljs-number">1589355</span>    <span class="hljs-number">15</span>建元<span class="hljs-number">2</span>A3  <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-23</span>         <span class="hljs-number">705007</span>  银行间债券市场   
<span class="hljs-number">1</span>  <span class="hljs-number">1953</span>  <span class="hljs-number">1589355</span>    <span class="hljs-number">15</span>建元<span class="hljs-number">2</span>A3  <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-19</span>         <span class="hljs-number">705007</span>  银行间债券市场   
<span class="hljs-number">2</span>  <span class="hljs-number">1952</span>  <span class="hljs-number">1589355</span>    <span class="hljs-number">15</span>建元<span class="hljs-number">2</span>A3  <span class="hljs-number">2016</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>         <span class="hljs-number">705007</span>  银行间债券市场   
<span class="hljs-number">3</span>  <span class="hljs-number">1951</span>  <span class="hljs-number">1589355</span>    <span class="hljs-number">15</span>建元<span class="hljs-number">2</span>A3  <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span>         <span class="hljs-number">705007</span>  银行间债券市场   

   coupon_type_id coupon_type  coupon coupon_start_date coupon_end_date  \
<span class="hljs-number">0</span>          <span class="hljs-number">701004</span>        浮动利率     <span class="hljs-number">4.6</span>        <span class="hljs-number">2015</span><span class="hljs-number">-12</span><span class="hljs-number">-24</span>      <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-25</span>   
<span class="hljs-number">1</span>          <span class="hljs-number">701004</span>        浮动利率     <span class="hljs-number">4.6</span>        <span class="hljs-number">2016</span><span class="hljs-number">-01</span><span class="hljs-number">-26</span>      <span class="hljs-number">2016</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span>   
<span class="hljs-number">2</span>          <span class="hljs-number">701004</span>        浮动利率     <span class="hljs-number">4.6</span>        <span class="hljs-number">2016</span><span class="hljs-number">-02</span><span class="hljs-number">-26</span>      <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span>   
<span class="hljs-number">3</span>          <span class="hljs-number">701004</span>        浮动利率     <span class="hljs-number">4.6</span>        <span class="hljs-number">2016</span><span class="hljs-number">-03</span><span class="hljs-number">-26</span>      <span class="hljs-number">2016</span><span class="hljs-number">-04</span><span class="hljs-number">-25</span>   

   reference_rate                             reference_rate_comment  \
<span class="hljs-number">0</span>             <span class="hljs-number">4.9</span>  票面利率：“优先档资产支持证券的票面利率”根据簿记建档结果确定。“受托机构”于“交割日”后次...   
<span class="hljs-number">1</span>             <span class="hljs-number">4.9</span>  票面利率：“优先档资产支持证券的票面利率”根据簿记建档结果确定。“受托机构”于“交割日”后次...   
<span class="hljs-number">2</span>             <span class="hljs-number">4.9</span>  票面利率：“优先档资产支持证券的票面利率”根据簿记建档结果确定。“受托机构”于“交割日”后次...   
<span class="hljs-number">3</span>             <span class="hljs-number">4.9</span>  票面利率：“优先档资产支持证券的票面利率”根据簿记建档结果确定。“受托机构”于“交割日”后次...   

   margin_rate coupon_upper_limit coupon_lower_limit  
<span class="hljs-number">0</span>         <span class="hljs-number">-0.3</span>               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>         <span class="hljs-number">-0.3</span>               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>         <span class="hljs-number">-0.3</span>               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>         <span class="hljs-number">-0.3</span>               <span class="hljs-keyword">None</span>               <span class="hljs-keyword">None</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="BOND_INTEREST_PAYMENT"></span>BOND_INTEREST_PAYMENT</label>
      <label>付息事件 </label>
      <article style="display: block; height: 2563.02px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_INTEREST_PAYMENT ).limit(n))
</code></pre>
<p><strong>表结构：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码(不加后缀）</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>债券简称</td>
</tr>
<tr>
<td>pub_date</td>
<td>date</td>
<td>公告日期</td>
</tr>
<tr>
<td>exchange_code</td>
<td>int</td>
<td>证券市场编码(新增字段)</td>
</tr>
<tr>
<td>exchange</td>
<td>str</td>
<td>证券市场(新增字段)</td>
</tr>
<tr>
<td>event_type</td>
<td>str</td>
<td>事件类型</td>
</tr>
<tr>
<td>interest_start_date</td>
<td>date</td>
<td>年度计息起始日</td>
</tr>
<tr>
<td>coupon</td>
<td>float</td>
<td>票面利率（%）</td>
</tr>
<tr>
<td>interest_end_date</td>
<td>date</td>
<td>年度计息终止日</td>
</tr>
<tr>
<td>autual_interest</td>
<td>float</td>
<td>实际付息利率（%）</td>
</tr>
<tr>
<td>interest_per_unit</td>
<td>float</td>
<td>每手付息数（单位：元，每1000元付息金额）</td>
</tr>
<tr>
<td>register_date</td>
<td>date</td>
<td>债权登记日</td>
</tr>
<tr>
<td>dividend_date</td>
<td>date</td>
<td>除息日</td>
</tr>
<tr>
<td>interest_pay_start_date</td>
<td>date</td>
<td>付息起始日（债务人实际付息开始日期）</td>
</tr>
<tr>
<td>interest_pay_end_date</td>
<td>date</td>
<td>付息终止日（债务人实际付息截止日期）</td>
</tr>
<tr>
<td>payment_date</td>
<td>date</td>
<td>兑付日（债券到期兑付）</td>
</tr>
<tr>
<td>payment_per_unit</td>
<td>float</td>
<td>每百元面值的到期兑付资金（元）</td>
</tr>
<tr>
<td>tax_rate</td>
<td>float</td>
<td>代扣所得税率（%）</td>
</tr>
<tr>
<td>tax_channel</td>
<td>str</td>
<td>扣税渠道</td>
</tr>
</tbody>
</table>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_INTEREST_PAYMENT ))
print(df[:<span class="hljs-number">4</span>])

  id       code          name    pub_date  exchange_code exchange event_type  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">011698473</span>   <span class="hljs-number">16</span>粤广业SCP004  <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-09</span>          <span class="hljs-number">12004</span>  银行间债券市场         兑付   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>  <span class="hljs-number">011698480</span>  <span class="hljs-number">16</span>海运集装SCP001  <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         兑付   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>  <span class="hljs-number">011698631</span>    <span class="hljs-number">16</span>重汽SCP008  <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-05</span>          <span class="hljs-number">12004</span>  银行间债券市场         兑付   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>  <span class="hljs-number">011698478</span>   <span class="hljs-number">16</span>中电股SCP009  <span class="hljs-number">2016</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span>          <span class="hljs-number">12004</span>  银行间债券市场         兑付   

  interest_start_date  coupon interest_end_date  autual_interest  \
<span class="hljs-number">0</span>                <span class="hljs-keyword">None</span>    <span class="hljs-number">2.99</span>              <span class="hljs-keyword">None</span>         <span class="hljs-number">2.211781</span>   
<span class="hljs-number">1</span>                <span class="hljs-keyword">None</span>    <span class="hljs-number">3.00</span>              <span class="hljs-keyword">None</span>         <span class="hljs-number">0.737705</span>   
<span class="hljs-number">2</span>                <span class="hljs-keyword">None</span>    <span class="hljs-number">3.10</span>              <span class="hljs-keyword">None</span>         <span class="hljs-number">2.259178</span>   
<span class="hljs-number">3</span>                <span class="hljs-keyword">None</span>    <span class="hljs-number">2.30</span>              <span class="hljs-keyword">None</span>         <span class="hljs-number">0.377049</span>   

   interest_per_unit register_date dividend_date interest_pay_start_date  \
<span class="hljs-number">0</span>           <span class="hljs-number">22.11781</span>    <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-16</span>          <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">1</span>            <span class="hljs-number">7.37705</span>    <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span>          <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">2</span>           <span class="hljs-number">22.59178</span>    <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>          <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   
<span class="hljs-number">3</span>            <span class="hljs-number">3.77049</span>    <span class="hljs-number">2016</span><span class="hljs-number">-11</span><span class="hljs-number">-18</span>          <span class="hljs-keyword">None</span>                    <span class="hljs-keyword">None</span>   

  interest_pay_end_date payment_date  payment_per_unit  tax_rate tax_channel  
<span class="hljs-number">0</span>                  <span class="hljs-keyword">None</span>   <span class="hljs-number">2017</span><span class="hljs-number">-06</span><span class="hljs-number">-19</span>        <span class="hljs-number">102.211781</span>       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>                  <span class="hljs-keyword">None</span>   <span class="hljs-number">2016</span><span class="hljs-number">-12</span><span class="hljs-number">-21</span>        <span class="hljs-number">100.737705</span>       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>                  <span class="hljs-keyword">None</span>   <span class="hljs-number">2017</span><span class="hljs-number">-07</span><span class="hljs-number">-13</span>        <span class="hljs-number">102.259178</span>       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>                  <span class="hljs-keyword">None</span>   <span class="hljs-number">2016</span><span class="hljs-number">-11</span><span class="hljs-number">-21</span>        <span class="hljs-number">100.377049</span>       NaN        <span class="hljs-keyword">None</span>  
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.BOND_INTEREST_PAYMENT ).filter(bond.BOND_INTEREST_PAYMENT.pub_date==<span class="hljs-string">'2019-11-13'</span>))
print(df[:<span class="hljs-number">5</span>])
     id       code        name    pub_date  exchange_code exchange event_type  \
<span class="hljs-number">0</span>  <span class="hljs-number">7684</span>  <span class="hljs-number">101574010</span>  <span class="hljs-number">15</span>京粮MTN001  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         付息   
<span class="hljs-number">1</span>  <span class="hljs-number">8635</span>    <span class="hljs-number">1555048</span>     <span class="hljs-number">15</span>福建债<span class="hljs-number">48</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         付息   
<span class="hljs-number">2</span>  <span class="hljs-number">8668</span>    <span class="hljs-number">1555047</span>     <span class="hljs-number">15</span>福建债<span class="hljs-number">47</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         付息   
<span class="hljs-number">3</span>  <span class="hljs-number">8684</span>    <span class="hljs-number">1555046</span>     <span class="hljs-number">15</span>福建债<span class="hljs-number">46</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         付息   
<span class="hljs-number">4</span>  <span class="hljs-number">8726</span>    <span class="hljs-number">1555044</span>     <span class="hljs-number">15</span>福建债<span class="hljs-number">44</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-13</span>          <span class="hljs-number">12004</span>  银行间债券市场         付息   

  interest_start_date  coupon interest_end_date  autual_interest  \
<span class="hljs-number">0</span>          <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-14</span>    <span class="hljs-number">4.38</span>        <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-13</span>             <span class="hljs-number">4.38</span>   
<span class="hljs-number">1</span>          <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-04</span>    <span class="hljs-number">3.30</span>        <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>             <span class="hljs-number">1.65</span>   
<span class="hljs-number">2</span>          <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>    <span class="hljs-number">3.32</span>        <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>             <span class="hljs-number">3.32</span>   
<span class="hljs-number">3</span>          <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>    <span class="hljs-number">3.15</span>        <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>             <span class="hljs-number">3.15</span>   
<span class="hljs-number">4</span>          <span class="hljs-number">2019</span><span class="hljs-number">-06</span><span class="hljs-number">-04</span>    <span class="hljs-number">3.30</span>        <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>             <span class="hljs-number">1.65</span>   

   interest_per_unit register_date dividend_date interest_pay_start_date  \
<span class="hljs-number">0</span>               <span class="hljs-number">43.8</span>    <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-13</span>          <span class="hljs-keyword">None</span>              <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-16</span>   
<span class="hljs-number">1</span>               <span class="hljs-number">16.5</span>    <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>          <span class="hljs-keyword">None</span>              <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>   
<span class="hljs-number">2</span>               <span class="hljs-number">33.2</span>    <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>          <span class="hljs-keyword">None</span>              <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>   
<span class="hljs-number">3</span>               <span class="hljs-number">31.5</span>    <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>          <span class="hljs-keyword">None</span>              <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>   
<span class="hljs-number">4</span>               <span class="hljs-number">16.5</span>    <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span>          <span class="hljs-keyword">None</span>              <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span>   

  interest_pay_end_date payment_date  payment_per_unit  tax_rate tax_channel  
<span class="hljs-number">0</span>                  <span class="hljs-keyword">None</span>         <span class="hljs-keyword">None</span>               NaN       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>                  <span class="hljs-keyword">None</span>         <span class="hljs-keyword">None</span>               NaN       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>                  <span class="hljs-keyword">None</span>         <span class="hljs-keyword">None</span>               NaN       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>                  <span class="hljs-keyword">None</span>         <span class="hljs-keyword">None</span>               NaN       NaN        <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>                  <span class="hljs-keyword">None</span>         <span class="hljs-keyword">None</span>               NaN       NaN        <span class="hljs-keyword">None</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h3 id="国债逆回购日行情">国债逆回购日行情</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="REPO_DAILY_PRICE"></span>REPO_DAILY_PRICE</label>
      <label>国债逆回购日行情 / 上市至今，每日19：00、22:00更新</label>
      <article style="display: block; height: 1147.18px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.REPO_DAILY_PRICE).limit(n))
</code></pre>
<p><strong>数据字典：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>date</td>
<td>交易日期</td>
</tr>
<tr>
<td>code</td>
<td>varchar(12)</td>
<td>回购代码，如 '204001.XSHG'</td>
</tr>
<tr>
<td>name</td>
<td>varchar(20)</td>
<td>回购简称，如 'GC001'</td>
</tr>
<tr>
<td>exchange_code</td>
<td>varchar(12)</td>
<td>证券市场编码。XSHG-上海证券交易所；XSHE-深圳证券交易所</td>
</tr>
<tr>
<td>pre_close</td>
<td>decimal(10,4)</td>
<td>前收盘利率(%)</td>
</tr>
<tr>
<td>open</td>
<td>decimal(10,4)</td>
<td>开盘利率(%)</td>
</tr>
<tr>
<td>high</td>
<td>decimal(10,4)</td>
<td>最高利率(%)</td>
</tr>
<tr>
<td>low</td>
<td>decimal(10,4)</td>
<td>最低利率(%)</td>
</tr>
<tr>
<td>close</td>
<td>decimal(10,4)</td>
<td>收盘利率(%)</td>
</tr>
<tr>
<td>volume</td>
<td>bigint</td>
<td>成交量（手）</td>
</tr>
<tr>
<td>money</td>
<td>decimal（20,2）</td>
<td>成交额（元）</td>
</tr>
<tr>
<td>deal_number</td>
<td>int</td>
<td>成交笔数（笔）</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.REPO_DAILY_PRICE))
print(df.sort_values(by=<span class="hljs-string">'deal_number'</span>,ascending=<span class="hljs-keyword">False</span>)[:<span class="hljs-number">5</span>])

        id        date         code   name exchange_code  pre_close  open  \
<span class="hljs-number">2842</span>  <span class="hljs-number">2843</span>  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span>  <span class="hljs-number">204001.</span>XSHG  GC001          XSHG       <span class="hljs-number">8.87</span>   <span class="hljs-number">9.5</span>   
<span class="hljs-number">2709</span>  <span class="hljs-number">2710</span>  <span class="hljs-number">2017</span><span class="hljs-number">-10</span><span class="hljs-number">-09</span>  <span class="hljs-number">204001.</span>XSHG  GC001          XSHG      <span class="hljs-number">16.63</span>   <span class="hljs-number">5.0</span>   
<span class="hljs-number">2769</span>  <span class="hljs-number">2770</span>  <span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>  <span class="hljs-number">204001.</span>XSHG  GC001          XSHG      <span class="hljs-number">14.53</span>   <span class="hljs-number">3.9</span>   
<span class="hljs-number">2843</span>  <span class="hljs-number">2844</span>  <span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-25</span>  <span class="hljs-number">204001.</span>XSHG  GC001          XSHG       <span class="hljs-number">8.93</span>   <span class="hljs-number">6.0</span>   
<span class="hljs-number">2767</span>  <span class="hljs-number">2768</span>  <span class="hljs-number">2017</span><span class="hljs-number">-12</span><span class="hljs-number">-28</span>  <span class="hljs-number">204001.</span>XSHG  GC001          XSHG      <span class="hljs-number">12.57</span>  <span class="hljs-number">13.0</span>   

       high     low   close     volume         money  deal_number  
<span class="hljs-number">2842</span>  <span class="hljs-number">12.20</span>   <span class="hljs-number">6.500</span>   <span class="hljs-number">8.930</span>  <span class="hljs-number">915840200</span>  <span class="hljs-number">9.158402e+11</span>     <span class="hljs-number">728989.0</span>  
<span class="hljs-number">2709</span>  <span class="hljs-number">12.00</span>   <span class="hljs-number">5.000</span>   <span class="hljs-number">8.745</span>  <span class="hljs-number">961308900</span>  <span class="hljs-number">9.613089e+11</span>     <span class="hljs-number">723141.0</span>  
<span class="hljs-number">2769</span>  <span class="hljs-number">10.10</span>   <span class="hljs-number">3.900</span>   <span class="hljs-number">6.010</span>  <span class="hljs-number">828761600</span>  <span class="hljs-number">8.287616e+11</span>     <span class="hljs-number">703459.0</span>  
<span class="hljs-number">2843</span>  <span class="hljs-number">10.01</span>   <span class="hljs-number">5.555</span>   <span class="hljs-number">8.795</span>  <span class="hljs-number">875500800</span>  <span class="hljs-number">8.755008e+11</span>     <span class="hljs-number">696009.0</span>  
<span class="hljs-number">2767</span>  <span class="hljs-number">24.00</span>  <span class="hljs-number">13.000</span>  <span class="hljs-number">17.695</span>  <span class="hljs-number">703348000</span>  <span class="hljs-number">7.033480e+11</span>     <span class="hljs-number">669847.0</span>  
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="可转债概况">可转债概况</h3>
<ul>
<li><strong>更新时间：2019至今，8:00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">

<div class="group">
      <label><span id="normalize_code"></span>normalize_code</label>
      <label>将可转债代码转化成聚宽标准格式</label>
      <article style="display: block; height: 349.336px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">normalize_code(code)
</code></pre>
<p>将其他形式的可转债代码转换为jqdatasdk函数可用的可转债代码形式。
<strong>适用可转债代码,支持传入单只可转债或一个可转债list</strong></p>
<p><strong>以可转债为例</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment">#输入</span>
normalize_code([<span class="hljs-string">'110043'</span>, <span class="hljs-string">'SH110043'</span>, <span class="hljs-string">'110043SH'</span>, <span class="hljs-string">'110043.sh'</span>, <span class="hljs-string">'110043.XSHG'</span>])
<span class="hljs-comment">#输出</span>
[<span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110043.XSHG'</span>]
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label>get_security_info<span id="get_security_info"></span> </label>
      <label>获取单支可转债信息</label>
      <article style="display: block; height: 755.453px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>调用方法</strong></p>
<pre><code class="python language-python hljs">get_security_info(code)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>code: 证券代码</li>
</ul>
<p><strong>返回值</strong></p>
<ul>
<li>一个对象, 有如下属性:</li>
</ul>
<ol>
<li>display_name # 中文名称</li>
<li>name # 缩写简称</li>
<li>start_date # 上市日期, [datetime.date] 类型</li>
<li>end_date # 退市日期， [datetime.date] 类型, 如果没有退市则为2200-01-01</li>
<li>type # 类型，conbond</li>
</ol>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取110043.XSHG的中文名称</span>
display_name = get_security_info(<span class="hljs-string">'110043.XSHG'</span>).display_name
print(display_name)
&gt;&gt;&gt;无锡转债

<span class="hljs-comment"># 获取128145.XSHE的上市时间</span>
start_date = get_security_info(<span class="hljs-string">'128145.XSHE'</span>).start_date
print(start_date)
&gt;&gt;&gt;<span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-16</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_all_securities"></span>get_all_securities</label>
      <label>获取所有可转债信息</label>
      <article style="display: block; height: 1362.94px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_securities(types=[], date=<span class="hljs-keyword">None</span>)
</code></pre>
<p>获取平台支持的所有股票、基金、指数、期货、期权、可转债信息</p>
<p><strong>参数</strong></p>
<ul>
<li>types: list: 用来过滤securities的类型, list元素可选: 'stock', 'fund', 'index', 'futures', 'options', 'etf', 'lof', 'fja', 'fjb', 'open_fund', 'bond_fund', 'stock_fund', 'QDII_fund', 'money_market_fund', 'mixture_fund'。<strong>types为空时返回所有股票, 不包括基金,指数和期货</strong></li>
<li>date: 日期, 一个字符串或者 [datetime.datetime]/[datetime.date] 对象, 用于获取某日期还在上市的可转债信息. 默认值为 None, 表示获取所有日期的可转债信息</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li>[pandas.DataFrame]</li>
<li>display_name: 中文名称</li>
<li>name: 缩写简称</li>
<li>start_date: 上市日期</li>
<li>end_date: 退市日期，如果没有退市则为2200-01-01</li>
<li>type: 类型 : stock(股票)，index(指数)，etf(ETF基金)，options(期权)，conbond(可转债)，fja（分级A），fjb（分级B），fjm（分级母基金），mmf（场内交易的货币基金）open_fund（开放式基金）, bond_fund（债券基金）, stock_fund（股票型基金）, QDII_fund（QDII 基金）, money_market_fund（场外交易的货币基金）, mixture_fund（混合型基金）, options(期权)</li>
</ul>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得所有可转债列表</span>
df=get_all_securities(<span class="hljs-string">"conbond"</span>)
print(df[:<span class="hljs-number">5</span>])

            display_name  name start_date   end_date     type
<span class="hljs-number">110001.</span>XSHG         邯钢转债  HGZZ <span class="hljs-number">2003</span><span class="hljs-number">-12</span><span class="hljs-number">-11</span> <span class="hljs-number">2007</span><span class="hljs-number">-03</span><span class="hljs-number">-16</span>  conbond
<span class="hljs-number">110002.</span>XSHG         南山转债  NSZZ <span class="hljs-number">2008</span><span class="hljs-number">-05</span><span class="hljs-number">-13</span> <span class="hljs-number">2009</span><span class="hljs-number">-09</span><span class="hljs-number">-24</span>  conbond
<span class="hljs-number">110003.</span>XSHG         新钢转债  XGZZ <span class="hljs-number">2008</span><span class="hljs-number">-09</span><span class="hljs-number">-05</span> <span class="hljs-number">2013</span><span class="hljs-number">-08</span><span class="hljs-number">-27</span>  conbond
<span class="hljs-number">110004.</span>XSHG         厦工转债  SGZZ <span class="hljs-number">2009</span><span class="hljs-number">-09</span><span class="hljs-number">-11</span> <span class="hljs-number">2010</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span>  conbond
<span class="hljs-number">110005.</span>XSHG         西洋转债  XYZZ <span class="hljs-number">2009</span><span class="hljs-number">-09</span><span class="hljs-number">-21</span> <span class="hljs-number">2010</span><span class="hljs-number">-05</span><span class="hljs-number">-19</span>  conbond
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得2023年02月01日还在上市的所有股票列表</span>
df=get_all_securities(<span class="hljs-string">"conbond"</span>,date=<span class="hljs-string">'2023-02-01'</span>)
print(df.tail(<span class="hljs-number">5</span>))

            display_name  name start_date   end_date     type
<span class="hljs-number">128141.</span>XSHE         旺能转债  WNZZ <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-18</span> <span class="hljs-number">2026</span><span class="hljs-number">-12</span><span class="hljs-number">-17</span>  conbond
<span class="hljs-number">128142.</span>XSHE         新乳转债  XRZZ <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-19</span> <span class="hljs-number">2026</span><span class="hljs-number">-12</span><span class="hljs-number">-18</span>  conbond
<span class="hljs-number">128143.</span>XSHE         锋龙转债  FLZZ <span class="hljs-number">2021</span><span class="hljs-number">-01</span><span class="hljs-number">-29</span> <span class="hljs-number">2027</span><span class="hljs-number">-01</span><span class="hljs-number">-08</span>  conbond
<span class="hljs-number">128144.</span>XSHE         利民转债  LMZZ <span class="hljs-number">2021</span><span class="hljs-number">-03</span><span class="hljs-number">-24</span> <span class="hljs-number">2027</span><span class="hljs-number">-03</span><span class="hljs-number">-01</span>  conbond
<span class="hljs-number">128145.</span>XSHE         日丰转债  RFZZ <span class="hljs-number">2021</span><span class="hljs-number">-04</span><span class="hljs-number">-16</span> <span class="hljs-number">2023</span><span class="hljs-number">-03</span><span class="hljs-number">-02</span>  conbond
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#将所有可转债列表转换成数组</span>
conbond= list(get_all_securities([<span class="hljs-string">'conbond'</span>]).index)
conbond[:<span class="hljs-number">5</span>]
&gt;&gt;&gt;[<span class="hljs-string">'110001.XSHG'</span>, <span class="hljs-string">'110002.XSHG'</span>, <span class="hljs-string">'110003.XSHG'</span>, <span class="hljs-string">'110004.XSHG'</span>, <span class="hljs-string">'110005.XSHG'</span>]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>







</div>
</section>
<h3 id="可转债统计数据">可转债统计数据</h3>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>表名</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="CONBOND_BASIC_INFO"></span>CONBOND_BASIC_INFO</label>
      <label>可转债基本资料 / 上市至今，每日19：00、22:00更新</label>
      <article style="display: block; height: 5445.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_BASIC_INFO).limit(n))
</code></pre>
<p><strong>表结构：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">名称</th>
<th style="text-align:left;">类型</th>
<th style="text-align:left;">描述</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">code</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">债券代码</td>
</tr>
<tr>
<td style="text-align:left;">short_name</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">债券简称</td>
</tr>
<tr>
<td style="text-align:left;">full_name</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">债券全称</td>
</tr>
<tr>
<td style="text-align:left;">list_status_id</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">上市状态编码，见下表上市状态编码对照表</td>
</tr>
<tr>
<td style="text-align:left;">list_status</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">上市状态</td>
</tr>
<tr>
<td style="text-align:left;">issuer</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">发行人</td>
</tr>
<tr>
<td style="text-align:left;">company_code</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">发行人股票代码（带后缀）；正股代码</td>
</tr>
<tr>
<td style="text-align:left;">issue_start_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">发行起始日</td>
</tr>
<tr>
<td style="text-align:left;">issue_end_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">发行终止日</td>
</tr>
<tr>
<td style="text-align:left;">plan_raise_fund</td>
<td style="text-align:left;">decimal(20,4)</td>
<td style="text-align:left;">计划发行总量（万元）</td>
</tr>
<tr>
<td style="text-align:left;">actual_raise_fund</td>
<td style="text-align:left;">decimal(20,4)</td>
<td style="text-align:left;">实际发行总量（万元）</td>
</tr>
<tr>
<td style="text-align:left;">issue_par</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">发行面值</td>
</tr>
<tr>
<td style="text-align:left;">issue_price</td>
<td style="text-align:left;">decimal(10,3)</td>
<td style="text-align:left;">发行价格</td>
</tr>
<tr>
<td style="text-align:left;">is_guarantee</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">是否有担保(1-是，0-否）</td>
</tr>
<tr>
<td style="text-align:left;">fund_raising_purposes</td>
<td style="text-align:left;">varchar(200)</td>
<td style="text-align:left;">募资用途说明</td>
</tr>
<tr>
<td style="text-align:left;">list_date  list_declare_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">上市公告日期</td>
</tr>
<tr>
<td style="text-align:left;">convert_price_reason</td>
<td style="text-align:left;">varchar(300)</td>
<td style="text-align:left;">初始转股价确定方式</td>
</tr>
<tr>
<td style="text-align:left;">convert_price</td>
<td style="text-align:left;">decimal(10,3)</td>
<td style="text-align:left;">初始转股价格</td>
</tr>
<tr>
<td style="text-align:left;">convert_start_date</td>
<td style="text-align:left;">start_date</td>
<td style="text-align:left;">转股开始日期</td>
</tr>
<tr>
<td style="text-align:left;">convert_end_date</td>
<td style="text-align:left;">end_date</td>
<td style="text-align:left;">转股终止日期</td>
</tr>
<tr>
<td style="text-align:left;">convert_code</td>
<td style="text-align:left;">varchar(10)</td>
<td style="text-align:left;">转股代码（不带后缀）</td>
</tr>
<tr>
<td style="text-align:left;">coupon</td>
<td style="text-align:left;">decimal(10,3)</td>
<td style="text-align:left;">初始票面利率</td>
</tr>
<tr>
<td style="text-align:left;">exchange_code</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">交易市场编码，见下表交易市场编码</td>
</tr>
<tr>
<td style="text-align:left;">exchange</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">交易市场</td>
</tr>
<tr>
<td style="text-align:left;">currency_id</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">货币代码。CNY-人民币</td>
</tr>
<tr>
<td style="text-align:left;">coupon_type_id</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">计息方式编码，见下表计息方式编码</td>
</tr>
<tr>
<td style="text-align:left;">coupon_type</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">计息方式</td>
</tr>
<tr>
<td style="text-align:left;">coupon_frequency</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">付息频率，单位：月/次。按年付息是12月/次；半年付息是6月/次</td>
</tr>
<tr>
<td style="text-align:left;">payment_type_id</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">兑付方式编码，见下表兑付方式编码表</td>
</tr>
<tr>
<td style="text-align:left;">payment_type</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">兑付方式</td>
</tr>
<tr>
<td style="text-align:left;">par</td>
<td style="text-align:left;">float</td>
<td style="text-align:left;">债券面值(元)</td>
</tr>
<tr>
<td style="text-align:left;">repayment_period</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">偿还期限(月）</td>
</tr>
<tr>
<td style="text-align:left;">bond_type_id</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">债券分类编码，见下表债券分类编码</td>
</tr>
<tr>
<td style="text-align:left;">bond_type</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">债券分类</td>
</tr>
<tr>
<td style="text-align:left;">bond_form_id</td>
<td style="text-align:left;">int</td>
<td style="text-align:left;">债券形式编码，见下表债券形式编码表</td>
</tr>
<tr>
<td style="text-align:left;">bond_form</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">债券形式</td>
</tr>
<tr>
<td style="text-align:left;">list_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">上市日期</td>
</tr>
<tr>
<td style="text-align:left;">delist_Date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">退市日期</td>
</tr>
<tr>
<td style="text-align:left;">interest_begin_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">起息日</td>
</tr>
<tr>
<td style="text-align:left;">maturity_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">到期日</td>
</tr>
<tr>
<td style="text-align:left;">interest_date</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">付息日</td>
</tr>
<tr>
<td style="text-align:left;">last_cash_date</td>
<td style="text-align:left;">date</td>
<td style="text-align:left;">最终兑付日</td>
</tr>
<tr>
<td style="text-align:left;">cash_comment</td>
<td style="text-align:left;">str</td>
<td style="text-align:left;">兑付说明</td>
</tr>
</tbody>
</table>
<p><strong>编码对照表：</strong></p>
<table>
<thead>
<tr>
<th>上市状态编码</th>
<th>上市状态</th>
</tr>
</thead>
<tbody>
<tr>
<td>301001</td>
<td>正常上市</td>
</tr>
<tr>
<td>301006</td>
<td>终止上市</td>
</tr>
<tr>
<td>301099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th><strong>交易市场编码</strong></th>
<th><strong>交易市场</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>705001</td>
<td>上交所</td>
</tr>
<tr>
<td>705002</td>
<td>深交所主板</td>
</tr>
<tr>
<td>705003</td>
<td>深交所中小板</td>
</tr>
<tr>
<td>705004</td>
<td>深交所创业板</td>
</tr>
<tr>
<td>705005</td>
<td>上交所综合业务平台</td>
</tr>
<tr>
<td>705006</td>
<td>深交所综合协议交易平台</td>
</tr>
<tr>
<td>705007</td>
<td>银行间债券市场</td>
</tr>
<tr>
<td>705008</td>
<td>商业银行柜台市场</td>
</tr>
<tr>
<td>705009</td>
<td>港交所创业板</td>
</tr>
<tr>
<td>705010</td>
<td>新加坡证券交易所</td>
</tr>
<tr>
<td>705011</td>
<td>拟上市</td>
</tr>
<tr>
<td>705012</td>
<td>产权交易市场</td>
</tr>
<tr>
<td>705013</td>
<td>美国NASDAQ证券交易所</td>
</tr>
<tr>
<td>705014</td>
<td>港交所主板</td>
</tr>
<tr>
<td>705015</td>
<td>股份报价系统</td>
</tr>
<tr>
<td>705016</td>
<td>代办转让</td>
</tr>
<tr>
<td>705017</td>
<td>上交所CDR</td>
</tr>
<tr>
<td>705018</td>
<td>深交所存托凭证</td>
</tr>
<tr>
<td>705099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>计息方式编码</th>
<th>计息方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>701001</td>
<td>利随本清</td>
</tr>
<tr>
<td>701002</td>
<td>固定利率附息</td>
</tr>
<tr>
<td>701003</td>
<td>递进利率</td>
</tr>
<tr>
<td>701004</td>
<td>浮动利率</td>
</tr>
<tr>
<td>701005</td>
<td>贴现</td>
</tr>
<tr>
<td>701006</td>
<td>未公布</td>
</tr>
<tr>
<td>701007</td>
<td>无利率</td>
</tr>
<tr>
<td>701008</td>
<td>累进利率</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>兑付方式编码</th>
<th>兑付方式</th>
</tr>
</thead>
<tbody>
<tr>
<td>702001</td>
<td>到期一次付息</td>
</tr>
<tr>
<td>702002</td>
<td>按年付息</td>
</tr>
<tr>
<td>702003</td>
<td>按半年付息</td>
</tr>
<tr>
<td>702004</td>
<td>按季付息</td>
</tr>
<tr>
<td>702005</td>
<td>按月付息</td>
</tr>
<tr>
<td>702006</td>
<td>未公布</td>
</tr>
<tr>
<td>702099</td>
<td>其他</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>债券分类编码</th>
<th>债券分类</th>
</tr>
</thead>
<tbody>
<tr>
<td>703001</td>
<td>短期融资券</td>
</tr>
<tr>
<td>703002</td>
<td>质押式回购</td>
</tr>
<tr>
<td>703003</td>
<td>私募债</td>
</tr>
<tr>
<td>703004</td>
<td>企业债</td>
</tr>
<tr>
<td>703005</td>
<td>次级债</td>
</tr>
<tr>
<td>703006</td>
<td>一般金融债</td>
</tr>
<tr>
<td>703007</td>
<td>中期票据</td>
</tr>
<tr>
<td>703008</td>
<td>资产支持证券</td>
</tr>
<tr>
<td>703009</td>
<td>小微企业扶持债</td>
</tr>
<tr>
<td>703010</td>
<td>地方政府债</td>
</tr>
<tr>
<td>703011</td>
<td>公司债</td>
</tr>
<tr>
<td>703012</td>
<td>可交换私募债</td>
</tr>
<tr>
<td>703013</td>
<td>可转债</td>
</tr>
<tr>
<td>703014</td>
<td>集合债券</td>
</tr>
<tr>
<td>703015</td>
<td>国际机构债券</td>
</tr>
<tr>
<td>703016</td>
<td>政府支持机构债券</td>
</tr>
<tr>
<td>703017</td>
<td>集合票据</td>
</tr>
<tr>
<td>703018</td>
<td>外国主权政府人民币债券</td>
</tr>
<tr>
<td>703019</td>
<td>央行票据</td>
</tr>
<tr>
<td>703020</td>
<td>政策性金融债</td>
</tr>
<tr>
<td>703021</td>
<td>国债</td>
</tr>
<tr>
<td>703022</td>
<td>非银行金融债</td>
</tr>
<tr>
<td>703023</td>
<td>可分离可转债</td>
</tr>
<tr>
<td>703024</td>
<td>国库定期存款</td>
</tr>
<tr>
<td>703025</td>
<td>可交换债</td>
</tr>
<tr>
<td>703026</td>
<td>特种金融债</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>债券形式编码</th>
<th>债券形式</th>
</tr>
</thead>
<tbody>
<tr>
<td>704001</td>
<td>记账式</td>
</tr>
<tr>
<td>704002</td>
<td>实物式</td>
</tr>
<tr>
<td>704003</td>
<td>储蓄电子式</td>
</tr>
<tr>
<td>704004</td>
<td>凭证式</td>
</tr>
<tr>
<td>704005</td>
<td>未公布</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_BASIC_INFO)
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获得鞍钢转债的基本资料</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_BASIC_INFO).filter(bond.CONBOND_BASIC_INFO.company_code==<span class="hljs-string">'000898.XSHE'</span>))
print(df)

<span class="hljs-comment"># 输出</span>
   id    code short_name           full_name  list_status_id list_status  \
<span class="hljs-number">0</span>   <span class="hljs-number">3</span>  <span class="hljs-number">125898</span>       鞍钢转债  鞍钢新轧钢股份有限公司可转换公司债券          <span class="hljs-number">301006</span>        终止上市   

     issuer company_code issue_start_date issue_end_date     ...       \
<span class="hljs-number">0</span>  鞍钢股份有限公司  <span class="hljs-number">000898.</span>XSHE       <span class="hljs-number">2000</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>     <span class="hljs-number">2000</span><span class="hljs-number">-03</span><span class="hljs-number">-22</span>     ...        

   bond_type  bond_form_id  bond_form   list_date  delist_Date  \
<span class="hljs-number">0</span>        可转债        <span class="hljs-number">704001</span>        记账式  <span class="hljs-number">2000</span><span class="hljs-number">-04</span><span class="hljs-number">-17</span>   <span class="hljs-number">2005</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>   

  interest_begin_date maturity_date interest_date  last_cash_date cash_comment  
<span class="hljs-number">0</span>          <span class="hljs-number">2000</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>    <span class="hljs-number">2005</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>   存续期内每年<span class="hljs-number">3</span>月<span class="hljs-number">14</span>日      <span class="hljs-number">2005</span><span class="hljs-number">-03</span><span class="hljs-number">-14</span>         <span class="hljs-keyword">None</span>  

[<span class="hljs-number">1</span> rows x <span class="hljs-number">44</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label><span id="CONBOND_CONVERT_PRICE_ADJUST"></span>CONBOND_CONVERT_PRICE_ADJUST</label>
      <label>可转债转股价格调整 / 上市至今，每日19：00、22:00更新</label>
      <article style="display: block; height: 927.586px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_CONVERT_PRICE_ADJUST).limit(n))
</code></pre>
<p><strong>表结构：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>债券名称</td>
</tr>
<tr>
<td>pub_date</td>
<td>date</td>
<td>公告日期</td>
</tr>
<tr>
<td>adjust_date</td>
<td>date</td>
<td>调整生效日期</td>
</tr>
<tr>
<td>new_convert_price</td>
<td>float</td>
<td>调整后转股价格</td>
</tr>
<tr>
<td>adjust_reason</td>
<td>str</td>
<td>调整原因</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_CONVERT_PRICE_ADJUST))
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得公告日期2019-11-07可转债的价格调整信息</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_CONVERT_PRICE_ADJUST).filter(bond.CONBOND_CONVERT_PRICE_ADJUST.pub_date==<span class="hljs-string">'2019-11-07'</span>))
print(df)

<span class="hljs-comment"># 输出</span>
  id    code                            name    pub_date adjust_date  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">117135</span>  <span class="hljs-number">2019</span>年海亮集团有限公司非公开发行可交换公司债券(第二期)  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-07</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-12</span>   

   new_convert_price adjust_reason  
<span class="hljs-number">0</span>              <span class="hljs-number">10.08</span>         修正转股价  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>








<div class="group">
      <label><span id="CONBOND_DAILY_CONVERT"></span>CONBOND_DAILY_CONVERT</label>
      <label>可转债每日转股统计 / 2000-7-12至今，下一交易日 8:30、12：30更新</label>
      <article style="display: block; height: 2056.12px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_DAILY_CONVERT).limit(n))
</code></pre>
<p><strong>表结构：</strong></p>
<p><strong>表结构：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>date</td>
<td>交易日期（以YYYY-MM-DD表示）</td>
</tr>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>债券简称</td>
</tr>
<tr>
<td>exchange_code</td>
<td>str</td>
<td>证券市场编码（XSHG-上海证券交易所；XSHE-深圳证券交易所）</td>
</tr>
<tr>
<td>issue_number</td>
<td>int</td>
<td>发行总量（单位：张）</td>
</tr>
<tr>
<td>convert_price</td>
<td>float</td>
<td>转股价格</td>
</tr>
<tr>
<td>daily_convert_number</td>
<td>int</td>
<td>当日转股数量（深交所披露为债券转换量 单位：张，上交所披露为股票转换量 单位 :股）</td>
</tr>
<tr>
<td>acc_convert_number</td>
<td>int</td>
<td>累计转股数量（深交所披露为债券转换量 单位：张，上交所披露为股票转换量 单位 :股）</td>
</tr>
<tr>
<td>acc_convert_ratio</td>
<td>float</td>
<td>累计转股比例（单位：% ， 因上交所只披露转股股数，因此计算剩余转股张数时公式应为 : 发行总量 *(1 -累计转股比例)  ）</td>
</tr>
<tr>
<td>convert_premium</td>
<td>float</td>
<td>转股溢价，从2018-09-13开始计算（每张可转债转股后可以获得的收益，单位：元。<strong>转股溢价=可转债收盘价-（100/转股价格）*正股收盘价</strong>）</td>
</tr>
<tr>
<td>convert_premium_rate</td>
<td>float</td>
<td>转股溢价率</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<p>获得所有转债的每日转股统计数据</p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_DAILY_CONVERT))
print(df[:<span class="hljs-number">4</span>])

   id        date    code  name exchange_code  issue_number  convert_price  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">2000</span><span class="hljs-number">-07</span><span class="hljs-number">-12</span>  <span class="hljs-number">100001</span>  南化转债          XSHG       <span class="hljs-number">1500000</span>           <span class="hljs-number">4.56</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>  <span class="hljs-number">2000</span><span class="hljs-number">-07</span><span class="hljs-number">-13</span>  <span class="hljs-number">100001</span>  南化转债          XSHG       <span class="hljs-number">1500000</span>           <span class="hljs-number">4.56</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>  <span class="hljs-number">2000</span><span class="hljs-number">-07</span><span class="hljs-number">-14</span>  <span class="hljs-number">100001</span>  南化转债          XSHG       <span class="hljs-number">1500000</span>           <span class="hljs-number">4.56</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>  <span class="hljs-number">2000</span><span class="hljs-number">-07</span><span class="hljs-number">-17</span>  <span class="hljs-number">100001</span>  南化转债          XSHG       <span class="hljs-number">1500000</span>           <span class="hljs-number">4.56</span>   

   daily_convert_number  acc_convert_number  acc_convert_ratio  \
<span class="hljs-number">0</span>            <span class="hljs-number">13805949.0</span>          <span class="hljs-number">13805949.0</span>              <span class="hljs-number">41.97</span>   
<span class="hljs-number">1</span>             <span class="hljs-number">2939919.0</span>          <span class="hljs-number">16745868.0</span>              <span class="hljs-number">50.91</span>   
<span class="hljs-number">2</span>             <span class="hljs-number">2161867.0</span>          <span class="hljs-number">18907735.0</span>              <span class="hljs-number">57.48</span>   
<span class="hljs-number">3</span>             <span class="hljs-number">4074006.0</span>          <span class="hljs-number">22981741.0</span>              <span class="hljs-number">69.86</span>   

   convert_premium  convert_premium_rate  
<span class="hljs-number">0</span>              NaN                   NaN  
<span class="hljs-number">1</span>              NaN                   NaN  
<span class="hljs-number">2</span>              NaN                   NaN  
<span class="hljs-number">3</span>              NaN                   NaN  
</code></pre>
<p>获得某只转债的每日转股统计数据</p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获得招行转债的每日转股统计数据</span>
df=bond.run_query(query(bond.CONBOND_DAILY_CONVERT).filter(bond.CONBOND_DAILY_CONVERT.code==<span class="hljs-string">"110036"</span>))
print(df[:<span class="hljs-number">5</span>])

     id        date    code  name exchange_code  issue_number  convert_price  \
<span class="hljs-number">0</span>  <span class="hljs-number">2990</span>  <span class="hljs-number">2005</span><span class="hljs-number">-05</span><span class="hljs-number">-10</span>  <span class="hljs-number">110036</span>  招行转债          XSHG      <span class="hljs-number">65000000</span>           <span class="hljs-number">9.34</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2994</span>  <span class="hljs-number">2005</span><span class="hljs-number">-05</span><span class="hljs-number">-11</span>  <span class="hljs-number">110036</span>  招行转债          XSHG      <span class="hljs-number">65000000</span>           <span class="hljs-number">9.34</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">3000</span>  <span class="hljs-number">2005</span><span class="hljs-number">-05</span><span class="hljs-number">-13</span>  <span class="hljs-number">110036</span>  招行转债          XSHG      <span class="hljs-number">65000000</span>           <span class="hljs-number">9.34</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">3012</span>  <span class="hljs-number">2005</span><span class="hljs-number">-05</span><span class="hljs-number">-18</span>  <span class="hljs-number">110036</span>  招行转债          XSHG      <span class="hljs-number">65000000</span>           <span class="hljs-number">9.34</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">3017</span>  <span class="hljs-number">2005</span><span class="hljs-number">-05</span><span class="hljs-number">-23</span>  <span class="hljs-number">110036</span>  招行转债          XSHG      <span class="hljs-number">65000000</span>           <span class="hljs-number">9.34</span>   

   daily_convert_number  acc_convert_number  acc_convert_ratio  \
<span class="hljs-number">0</span>                <span class="hljs-number">1498.0</span>              <span class="hljs-number">1498.0</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">1</span>                <span class="hljs-number">2996.0</span>              <span class="hljs-number">4494.0</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">2</span>                 <span class="hljs-number">214.0</span>              <span class="hljs-number">4708.0</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">3</span>                 <span class="hljs-number">428.0</span>              <span class="hljs-number">5136.0</span>                <span class="hljs-number">0.0</span>   
<span class="hljs-number">4</span>                 <span class="hljs-number">321.0</span>              <span class="hljs-number">5457.0</span>                <span class="hljs-number">0.0</span>   

   convert_premium convert_premium_rate  
<span class="hljs-number">0</span>           <span class="hljs-number">5.8107</span>                 <span class="hljs-keyword">None</span>  
<span class="hljs-number">1</span>           <span class="hljs-number">6.9325</span>                 <span class="hljs-keyword">None</span>  
<span class="hljs-number">2</span>           <span class="hljs-number">9.4599</span>                 <span class="hljs-keyword">None</span>  
<span class="hljs-number">3</span>           <span class="hljs-number">9.4957</span>                 <span class="hljs-keyword">None</span>  
<span class="hljs-number">4</span>          <span class="hljs-number">12.3748</span>                 <span class="hljs-keyword">None</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>可转债（1天/分钟）行情数据 / 2019年至今，盘后15点更新</label>
      <article style="display: block; height: 2329.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>获取一支或者多只可转债</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的可转账标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li><strong>end_date:当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取 。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
</ul>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权、可转债</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close'], </p>
       </td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如果您的环境pandas大于0.25 ，将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p>fields内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的可转债数量</td>
        <td>单位股</td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>

    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：可转债是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>（2）分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>

</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只可转债的多个属性, 同时也满足对比多只可转债的一个属性的需求, 我们在security参数是<strong>一只可转债和多只可转债时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<pre><code class="python language-python hljs">df=get_price(<span class="hljs-string">'110043.XSHG'</span>,count=<span class="hljs-number">5</span>,end_date=<span class="hljs-string">'2023-01-31 10:56:00'</span>,frequency=<span class="hljs-string">'1m'</span>, 
                   fields=[<span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>,<span class="hljs-string">'high_limit'</span>,<span class="hljs-string">'low_limit'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],panel = <span class="hljs-keyword">False</span>)
print(df)
                        open    close     high      low  high_limit  \
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">52</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.566</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.566</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">53</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.580</span>  <span class="hljs-number">118.580</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.580</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">54</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.560</span>  <span class="hljs-number">118.530</span>  <span class="hljs-number">118.560</span>  <span class="hljs-number">118.518</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.502</span>  <span class="hljs-number">118.461</span>  <span class="hljs-number">118.502</span>  <span class="hljs-number">118.436</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">56</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.440</span>  <span class="hljs-number">118.438</span>  <span class="hljs-number">118.440</span>  <span class="hljs-number">118.369</span>     <span class="hljs-number">141.676</span>   

                     low_limit    volume     money  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">52</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">840000.0</span>  <span class="hljs-number">996206.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">53</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">393000.0</span>  <span class="hljs-number">466096.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">54</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>   <span class="hljs-number">43000.0</span>   <span class="hljs-number">50981.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>   <span class="hljs-number">30000.0</span>   <span class="hljs-number">35534.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">56</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">141000.0</span>  <span class="hljs-number">166987.0</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1643.16px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流行情软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 可转债代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流行情软件划分相似
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', </li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘的时间</li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回股票的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<ul>
<li><p>获取一只可转债</p><pre><code class="python language-python hljs">df = get_bars(<span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>, <span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,
              end_dt=<span class="hljs-string">'2019-12-05'</span>)
print(df)

                 date    open   close    high     low     volume      money
<span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.80</span>  <span class="hljs-number">103.87</span>  <span class="hljs-number">103.96</span>  <span class="hljs-number">103.75</span>  <span class="hljs-number">1175000.0</span>  <span class="hljs-number">1220479.0</span>
<span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.76</span>  <span class="hljs-number">103.63</span>  <span class="hljs-number">103.80</span>  <span class="hljs-number">103.60</span>  <span class="hljs-number">1072000.0</span>  <span class="hljs-number">1111412.0</span>
<span class="hljs-number">2</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.60</span>  <span class="hljs-number">103.88</span>  <span class="hljs-number">103.89</span>  <span class="hljs-number">103.56</span>  <span class="hljs-number">8357000.0</span>  <span class="hljs-number">8672659.0</span>
<span class="hljs-number">3</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.88</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.89</span>  <span class="hljs-number">103.68</span>  <span class="hljs-number">1714000.0</span>  <span class="hljs-number">1778679.0</span>
<span class="hljs-number">4</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.61</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.48</span>  <span class="hljs-number">9007000.0</span>  <span class="hljs-number">9333398.0</span> 
</code></pre><p></p></li>
<li><p>获取多只可转债</p><pre><code class="python language-python hljs">df=get_bars([<span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110044.XSHG'</span>],<span class="hljs-number">2</span>,<span class="hljs-string">'5m'</span>,
            fields=[<span class="hljs-string">'date'</span>, <span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],end_dt=<span class="hljs-string">'2019-12-21 15:00:00'</span>)
print(df)

                             date    open   close    high     low    volume  \
<span class="hljs-number">110043.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">106.98</span>  <span class="hljs-number">106.95</span>  <span class="hljs-number">107.06</span>  <span class="hljs-number">106.95</span>   <span class="hljs-number">29000.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">106.93</span>  <span class="hljs-number">106.94</span>  <span class="hljs-number">106.95</span>  <span class="hljs-number">106.92</span>  <span class="hljs-number">397000.0</span>   
<span class="hljs-number">110044.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">147.02</span>  <span class="hljs-number">146.67</span>  <span class="hljs-number">147.07</span>  <span class="hljs-number">146.67</span>  <span class="hljs-number">555000.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">146.71</span>  <span class="hljs-number">147.30</span>  <span class="hljs-number">147.32</span>  <span class="hljs-number">146.71</span>  <span class="hljs-number">100000.0</span>   

                  money  
<span class="hljs-number">110043.</span>XSHG <span class="hljs-number">0</span>   <span class="hljs-number">31018.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">424483.0</span>  
<span class="hljs-number">110044.</span>XSHG <span class="hljs-number">0</span>  <span class="hljs-number">815715.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">147199.0</span>  
</code></pre><p></p></li>
</ul></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="get_call_auction"></span>get_call_auction</label>
      <label>获取集合竞价数据 / 2010年至今</label>
      <article style="display: block; height: 1620.58px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_call_auction(security, start_date, end_date, fields=<span class="hljs-keyword">None</span>)
</code></pre>
<p>支持股票（2010年至今）、场内基金（2019年至今）、指数（2017年至今）和上证ETF期权（2017年至今）的集合竞价数据。当日的集合竞价数据下午15点更新。为了防止返回数据量过大, 我们每次最多返回5000行。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: <strong>股票（2010年至今）</strong></li>
<li>start_date: 开始日期，YYYY-MM-DD格式</li>
<li>end_date: 结束日期，YYYY-MM-DD格式</li>
<li>fields: 选择要获取的行情数据字段，参数为list格式，默认为None，返回全部字段。</li>
</ul>
<p><strong>返回值：</strong></p>
<p>返回指定时间区间标的集合竞价tick数据，返回字段结果如下：</p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价（不复权）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>示例:</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># start_dt和count只能有一个不为None值</span>
d = get_ticks(<span class="hljs-string">"110043.XSHG"</span>,start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-string">"2023-02-03 10:43:00"</span>, count=<span class="hljs-number">5</span>)
print(d)

<span class="hljs-comment">#输出</span>
                     time  current     high     low   volume      money  \
<span class="hljs-number">0</span> <span class="hljs-number">2023</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">10</span>:<span class="hljs-number">42</span>:<span class="hljs-number">30.408</span>  <span class="hljs-number">116.680</span>  <span class="hljs-number">117.687</span>  <span class="hljs-number">116.43</span>  <span class="hljs-number">66290.0</span>  <span class="hljs-number">7740472.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2023</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">10</span>:<span class="hljs-number">42</span>:<span class="hljs-number">36.412</span>  <span class="hljs-number">116.680</span>  <span class="hljs-number">117.687</span>  <span class="hljs-number">116.43</span>  <span class="hljs-number">66330.0</span>  <span class="hljs-number">7745139.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2023</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">10</span>:<span class="hljs-number">42</span>:<span class="hljs-number">39.416</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">117.687</span>  <span class="hljs-number">116.43</span>  <span class="hljs-number">66340.0</span>  <span class="hljs-number">7746306.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2023</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">10</span>:<span class="hljs-number">42</span>:<span class="hljs-number">45.408</span>  <span class="hljs-number">116.696</span>  <span class="hljs-number">117.687</span>  <span class="hljs-number">116.43</span>  <span class="hljs-number">66500.0</span>  <span class="hljs-number">7764977.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2023</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">10</span>:<span class="hljs-number">42</span>:<span class="hljs-number">48.408</span>  <span class="hljs-number">116.705</span>  <span class="hljs-number">117.687</span>  <span class="hljs-number">116.43</span>  <span class="hljs-number">66510.0</span>  <span class="hljs-number">7766144.0</span>   

      a1_p  a1_v     a2_p  a2_v     a3_p  a3_v     a4_p    a4_v     a5_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">116.680</span>  <span class="hljs-number">30.0</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.705</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.739</span>    <span class="hljs-number">20.0</span>  <span class="hljs-number">116.740</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">116.705</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.739</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">116.740</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.744</span>  <span class="hljs-number">1960.0</span>  <span class="hljs-number">116.750</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">116.696</span>  <span class="hljs-number">60.0</span>  <span class="hljs-number">116.705</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.739</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">116.740</span>    <span class="hljs-number">10.0</span>  <span class="hljs-number">116.744</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">116.705</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.739</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">116.740</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.744</span>  <span class="hljs-number">1960.0</span>  <span class="hljs-number">116.750</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">116.706</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.739</span>  <span class="hljs-number">20.0</span>  <span class="hljs-number">116.740</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.744</span>  <span class="hljs-number">1960.0</span>  <span class="hljs-number">116.750</span>   

     a5_v     b1_p   b1_v     b2_p   b2_v     b3_p  b3_v    b4_p  b4_v  \
<span class="hljs-number">0</span>    <span class="hljs-number">10.0</span>  <span class="hljs-number">116.662</span>  <span class="hljs-number">110.0</span>  <span class="hljs-number">116.658</span>   <span class="hljs-number">10.0</span>  <span class="hljs-number">116.640</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.61</span>  <span class="hljs-number">10.0</span>   
<span class="hljs-number">1</span>    <span class="hljs-number">10.0</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">160.0</span>  <span class="hljs-number">116.662</span>  <span class="hljs-number">260.0</span>  <span class="hljs-number">116.658</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.64</span>  <span class="hljs-number">10.0</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">1960.0</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">300.0</span>  <span class="hljs-number">116.662</span>  <span class="hljs-number">110.0</span>  <span class="hljs-number">116.658</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.64</span>  <span class="hljs-number">10.0</span>   
<span class="hljs-number">3</span>    <span class="hljs-number">10.0</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">200.0</span>  <span class="hljs-number">116.662</span>  <span class="hljs-number">110.0</span>  <span class="hljs-number">116.658</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.64</span>  <span class="hljs-number">10.0</span>   
<span class="hljs-number">4</span>    <span class="hljs-number">10.0</span>  <span class="hljs-number">116.695</span>  <span class="hljs-number">200.0</span>  <span class="hljs-number">116.662</span>  <span class="hljs-number">110.0</span>  <span class="hljs-number">116.658</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">116.64</span>  <span class="hljs-number">10.0</span>   

     b5_p   b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">116.60</span>  <span class="hljs-number">310.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">116.61</span>   <span class="hljs-number">10.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">116.61</span>   <span class="hljs-number">10.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">116.61</span>   <span class="hljs-number">10.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">116.61</span>   <span class="hljs-number">10.0</span> 
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>可转债tick数据/2019年起</label>
      <article style="display: block; height: 2357.27px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip=<span class="hljs-keyword">True</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>可转债部分， 支持 2019-01-01 至今的tick数据，提供买五卖五数据。（每3秒一次快照）</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 可转债,不支持传入多个标的</p></li>
<li><p>start_dt: 开始日期</p></li>
<li><p>end_dt: 结束日期</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>
<li><p><strong>股票tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（股）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>a1_v~a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p~a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v~b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p~b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>可转债tick数据示例</strong>：</p>
<h1 id="start_dtcountnone">start_dt和count只能有一个不为None值</h1>
<p>d = get_ticks("110043.XSHG",start_dt=None, end_dt="2023-02-03 10:43:00", count=5)
print(d)</p>
<h1 id="">输出</h1>
<pre><code class="hljs pgsql">                 <span class="hljs-type">time</span>  <span class="hljs-keyword">current</span>     high     low   volume      <span class="hljs-type">money</span>  \
</code></pre>
<p>0 2023-02-03 10:42:30.408  116.680  117.687  116.43  66290.0  7740472.0<br>
1 2023-02-03 10:42:36.412  116.680  117.687  116.43  66330.0  7745139.0<br>
2 2023-02-03 10:42:39.416  116.695  117.687  116.43  66340.0  7746306.0<br>
3 2023-02-03 10:42:45.408  116.696  117.687  116.43  66500.0  7764977.0<br>
4 2023-02-03 10:42:48.408  116.705  117.687  116.43  66510.0  7766144.0   </p>
<pre><code class="hljs properties">  <span class="hljs-attr">a1_p</span>  <span class="hljs-string">a1_v     a2_p  a2_v     a3_p  a3_v     a4_p    a4_v     a5_p  \
</span></code></pre>
<p>0  116.680  30.0  116.695  10.0  116.705  10.0  116.739    20.0  116.740<br>
1  116.705  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750<br>
2  116.696  60.0  116.705  10.0  116.739  20.0  116.740    10.0  116.744<br>
3  116.705  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750<br>
4  116.706  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750   </p>
<pre><code class="hljs armasm"> a5_v     <span class="hljs-keyword">b1_p </span>  <span class="hljs-keyword">b1_v </span>    <span class="hljs-keyword">b2_p </span>  <span class="hljs-keyword">b2_v </span>    <span class="hljs-keyword">b3_p </span> <span class="hljs-keyword">b3_v </span>   <span class="hljs-keyword">b4_p </span> <span class="hljs-keyword">b4_v </span> \
</code></pre>
<p>0    10.0  116.662  110.0  116.658   10.0  116.640  10.0  116.61  10.0<br>
1    10.0  116.695  160.0  116.662  260.0  116.658  10.0  116.64  10.0<br>
2  1960.0  116.695  300.0  116.662  110.0  116.658  10.0  116.64  10.0<br>
3    10.0  116.695  200.0  116.662  110.0  116.658  10.0  116.64  10.0<br>
4    10.0  116.695  200.0  116.662  110.0  116.658  10.0  116.64  10.0   </p>
<pre><code class="hljs armasm"> <span class="hljs-keyword">b5_p </span>  <span class="hljs-keyword">b5_v </span> 
</code></pre>
<p>0  116.60  310.0<br>
1  116.61   10.0<br>
2  116.61   10.0<br>
3  116.61   10.0<br>
4  116.61   10.0 </p>
<p>```</p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>




</div>
</section>
<h3 id="可转债行情数据">可转债行情数据</h3>
<ul>
<li><strong>更新时间：2019至今，盘后15：00更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">


<div class="group">
      <label><span id="CONBOND_DAILY_PRICE"></span>CONBOND_DAILY_PRICE</label>
      <label>可转债日行情（查表） / 2018-09-13至今，每日19：00、22:00更新</label>
      <article style="display: block; height: 1712.31px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_DAILY_PRICE).limit(n))
</code></pre>
<p><strong>表结构：</strong></p>
<table>
<thead>
<tr>
<th>名称</th>
<th>类型</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>date</td>
<td>date</td>
<td>交易日期（以YYYY-MM-DD表示）</td>
</tr>
<tr>
<td>code</td>
<td>str</td>
<td>债券代码</td>
</tr>
<tr>
<td>name</td>
<td>str</td>
<td>债券简称</td>
</tr>
<tr>
<td>exchange_code</td>
<td>str</td>
<td>证券市场编码（XSHG-上交所；XSHE-深交所）</td>
</tr>
<tr>
<td>pre_close</td>
<td>float</td>
<td>昨收价</td>
</tr>
<tr>
<td>open</td>
<td>float</td>
<td>开盘价，以人民币计</td>
</tr>
<tr>
<td>high</td>
<td>float</td>
<td>最高价，以人民币计</td>
</tr>
<tr>
<td>low</td>
<td>float</td>
<td>最低价，以人民币计</td>
</tr>
<tr>
<td>close</td>
<td>float</td>
<td>收盘价，以人民币计</td>
</tr>
<tr>
<td>volume</td>
<td>float</td>
<td>成交量（手），1手为10张债券</td>
</tr>
<tr>
<td>money</td>
<td>float</td>
<td>成交额，以人民币计</td>
</tr>
<tr>
<td>deal_number</td>
<td>int</td>
<td>成交笔数</td>
</tr>
<tr>
<td>change_pct</td>
<td>float</td>
<td>涨跌幅，单位：%</td>
</tr>
</tbody>
</table>
<p><strong>示例</strong></p>
<p>获取所有在债券的转债日行情</p><pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_DAILY_PRICE))
print(df[:<span class="hljs-number">4</span>])

   id        date    code  name exchange_code  pre_close    open    high  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>  <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-13</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">101.94</span>  <span class="hljs-number">101.92</span>  <span class="hljs-number">101.98</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>  <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-14</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">101.90</span>  <span class="hljs-number">101.89</span>  <span class="hljs-number">101.91</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>  <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-17</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">101.90</span>  <span class="hljs-number">101.91</span>  <span class="hljs-number">101.93</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>  <span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-18</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">101.92</span>  <span class="hljs-number">101.91</span>  <span class="hljs-number">101.94</span>   

      low   close  volume      money  deal_number  change_pct  
<span class="hljs-number">0</span>  <span class="hljs-number">101.90</span>  <span class="hljs-number">101.90</span>    <span class="hljs-number">5146</span>  <span class="hljs-number">5244323.0</span>         <span class="hljs-number">90.0</span>     <span class="hljs-number">-0.0392</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">101.88</span>  <span class="hljs-number">101.90</span>    <span class="hljs-number">4348</span>  <span class="hljs-number">4430498.0</span>         <span class="hljs-number">58.0</span>      <span class="hljs-number">0.0000</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">101.89</span>  <span class="hljs-number">101.92</span>    <span class="hljs-number">2087</span>  <span class="hljs-number">2126837.0</span>         <span class="hljs-number">71.0</span>      <span class="hljs-number">0.0196</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">101.89</span>  <span class="hljs-number">101.91</span>    <span class="hljs-number">1736</span>  <span class="hljs-number">1769120.0</span>         <span class="hljs-number">70.0</span>     <span class="hljs-number">-0.0098</span>  
</code></pre><p></p>
<p>获取转债的日行情</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取格力转债的日行情</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=bond.run_query(query(bond.CONBOND_DAILY_PRICE).filter(bond.CONBOND_DAILY_PRICE.code==<span class="hljs-string">"110030"</span>))
print(df[:<span class="hljs-number">5</span>])

      id        date    code  name exchange_code  pre_close    open    high  \
<span class="hljs-number">0</span>  <span class="hljs-number">66071</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-13</span>  <span class="hljs-number">110030</span>  N格力转          XSHG     <span class="hljs-number">100.00</span>  <span class="hljs-number">138.00</span>  <span class="hljs-number">142.80</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">66072</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-14</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">138.26</span>  <span class="hljs-number">138.58</span>  <span class="hljs-number">142.03</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">66073</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-15</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">139.81</span>  <span class="hljs-number">139.20</span>  <span class="hljs-number">141.20</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">66074</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-16</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">139.84</span>  <span class="hljs-number">139.99</span>  <span class="hljs-number">145.60</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">66075</span>  <span class="hljs-number">2015</span><span class="hljs-number">-01</span><span class="hljs-number">-19</span>  <span class="hljs-number">110030</span>  格力转债          XSHG     <span class="hljs-number">143.35</span>  <span class="hljs-number">141.04</span>  <span class="hljs-number">141.05</span>   

      low   close  volume        money  deal_number  change_pct  
<span class="hljs-number">0</span>  <span class="hljs-number">137.00</span>  <span class="hljs-number">138.26</span>  <span class="hljs-number">119222</span>  <span class="hljs-number">165203875.0</span>       <span class="hljs-number">1199.0</span>     <span class="hljs-number">38.2600</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">137.11</span>  <span class="hljs-number">139.81</span>  <span class="hljs-number">274244</span>  <span class="hljs-number">384512317.0</span>       <span class="hljs-number">5109.0</span>      <span class="hljs-number">1.1211</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">138.81</span>  <span class="hljs-number">139.84</span>   <span class="hljs-number">77315</span>  <span class="hljs-number">108056549.0</span>       <span class="hljs-number">2334.0</span>      <span class="hljs-number">0.0215</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">139.99</span>  <span class="hljs-number">143.35</span>   <span class="hljs-number">88171</span>  <span class="hljs-number">125987816.0</span>       <span class="hljs-number">2276.0</span>      <span class="hljs-number">2.5100</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">139.00</span>  <span class="hljs-number">139.46</span>   <span class="hljs-number">73077</span>  <span class="hljs-number">102210898.0</span>       <span class="hljs-number">1044.0</span>     <span class="hljs-number">-2.7136</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_price"></span>get_price</label>
      <label>可转债（1天/分钟）行情数据 / 2019年至今，盘后15点更新</label>
      <article style="display: block; height: 2329.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><ul>
<li>获取一支或者多只可转债</li>
<li>frequency为非一天或者一分钟，请使用get_bars;</li>
<li>取多支标的的数据时，不要获取交易时段不同的标的（例如：不同交易时间的可转账标的），否则会报错；</li>
<li>这里在使用时注意 end_date 的设置，不要引入未来的数据；</li>
<li>标识时间为09:32:00的1分钟k线，其数据时间为09:31:00至09:31:59；</li>
<li><strong>end_date:当天 09:00 ~ 15:00 的行情在 15:00 之后可以获取 。</strong>注意：当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</li>
<li>get_price指定frequency为 非1m/1d时，fields选择'high_limit','low_limit'会报错</li>
</ul>
<pre><code class="python language-python hljs">get_price(security, start_date=<span class="hljs-keyword">None</span>, end_date=<span class="hljs-keyword">None</span>, frequency=<span class="hljs-string">'daily'</span>, fields=<span class="hljs-keyword">None</span>, skip_paused=<span class="hljs-keyword">False</span>, fq=<span class="hljs-string">'pre'</span>, count=<span class="hljs-keyword">None</span>)
</code></pre>
<p><strong>参数</strong></p>
<table>
    <tbody><tr>
        <td width="118"><strong>参数名称</strong></td>
        <td width="410"><strong>参数说明</strong></td>
        <td width="600"><strong>注释</strong></td>
    </tr>
    <tr>
        <td>security</td>
        <td>标的</td>
        <td>可获取种类：股票、期货、基金、指数、期权、可转债</td>
    </tr>
    <tr>
        <td>start_date</td>
        <td>开始时间，不可与count同时使用。当'count'和'start_date'为None时, 默认值是 '2015-01-01 00:00:00'</td>
        <td>当指定frequency为minute时，如果只传入日期，则日内时间为当日的 00:00:00</td>
    </tr>
    <tr>
        <td>end_date</td>
        <td>结束时间，如无指定，默认为'2015-12-31 00:00:00'。当end_date指定为当天尚未结束的交易时间时，会自动填充为上一个交易日的盘后时间</td>
        <td><p>当指定frequency为minute时, 如果只传入日期, 则日内时间为当日的 00:00:00，
        </p>
        <p>所以返回的数据不包括 end_date这天。</p></td>
    </tr>
    <tr>
        <td>count</td>
        <td>表示获取 end_date 之前几个 frequency 的数据，与start_date不可同时使用。</td>
        <td>返回的结果集的行数, 即表示获取 end_date 之前count个 frequency 的数据</td>
    </tr>
    <tr>
        <td>frequency</td>
        <td>单位时间长度，即指定获取的时间频级为分钟级（minute）或日级（daily）,也可以指定为 '3m','10d' 等</td>
        <td><p>daily'(同'1d')， 'minute'(同'1m')，</p>
        <p><a href="https://www.joinquant.com/view/community/detail/cea095760a0583ce965964912580077e?type=1">点击查看get_price和get_bars的合成逻辑。</a>如需5分钟,1小时等标准bar请使用get_bars</p></td>
    </tr>
    <tr>
        <td>fields</td>
        <td>所获取数据的字段名称，即表头。默认是None(返回标准字段['open','close','high','low','volume','money'])</td>
        <td><p>可选择填入以下字段，字段说明可查阅下面fields表</p>
          <p>['open','close','low','high','volume','money','factor',</p>
        <p>'high_limit','low_limit','avg','pre_close'], </p>
       </td>
    </tr>
    <tr>
        <td>panel</td>
        <td>指定返回的数据格式为panel</td>
        <td><p>默认为True；指定panel=False时返回dataframe格式；</p>
        <p>如果您的环境pandas大于0.25 ，将强制返回dataframe详见案例</p></td>
    </tr>
</tbody></table>
<p>fields内各字段属性</p>
<table>
    <tbody><tr>
        <td><strong>字段名称</strong></td>
        <td><strong>中文名称</strong></td>
        <td><strong>注释</strong></td>
    </tr>
    <tr>
        <td>open</td>
        <td>时间段开始时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>close</td>
        <td>时间段结束时价格</td>
        <td></td>
    </tr>
    <tr>
        <td>low</td>
        <td>时间段中的最低价</td>
        <td></td>
    </tr>
    <tr>
        <td>high</td>
        <td>时间段中的最高价</td>
        <td></td>
    </tr>
    <tr>
        <td>volume</td>
        <td>时间段中的成交的可转债数量</td>
        <td>单位股</td>
    </tr>
    <tr>
        <td>money</td>
        <td>时间段中的成交的金额</td>
        <td></td>
    </tr>

    <tr>
        <td>high_limit</td>
        <td>时间段中的涨停价</td>
        <td></td>
    </tr>
    <tr>
        <td>low_limit</td>
        <td>时间段中的跌停价</td>
        <td></td>
    </tr>
    <tr>
        <td>avg</td>
        <td>时间段中的平均价</td>
        <td><p>(1)天级别：可转债是成交额除以成交量；期货是直接从CTP行情获取的，计算方法为成交额除以成交量再除以合约乘数；</p>
        <p>（2）分钟级别：用该分钟所有tick的现价乘以该tick的成交量加起来之后，再除以该分钟的成交量。</p></td>
    </tr>

</tbody></table>
<p><strong>返回</strong></p>
<ul>
<li>请注意, 为了方便比较一只可转债的多个属性, 同时也满足对比多只可转债的一个属性的需求, 我们在security参数是<strong>一只可转债和多只可转债时返回的结构完全不一样 (默认panel=True时)</strong></li>
</ul>
<p><strong>代码示例</strong></p>
<pre><code class="python language-python hljs">df=get_price(<span class="hljs-string">'110043.XSHG'</span>,count=<span class="hljs-number">5</span>,end_date=<span class="hljs-string">'2023-01-31 10:56:00'</span>,frequency=<span class="hljs-string">'1m'</span>, 
                   fields=[<span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>,<span class="hljs-string">'high_limit'</span>,<span class="hljs-string">'low_limit'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],panel = <span class="hljs-keyword">False</span>)
print(df)
                        open    close     high      low  high_limit  \
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">52</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.566</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.566</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">53</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.580</span>  <span class="hljs-number">118.580</span>  <span class="hljs-number">118.600</span>  <span class="hljs-number">118.580</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">54</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.560</span>  <span class="hljs-number">118.530</span>  <span class="hljs-number">118.560</span>  <span class="hljs-number">118.518</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.502</span>  <span class="hljs-number">118.461</span>  <span class="hljs-number">118.502</span>  <span class="hljs-number">118.436</span>     <span class="hljs-number">141.676</span>   
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">56</span>:<span class="hljs-number">00</span>  <span class="hljs-number">118.440</span>  <span class="hljs-number">118.438</span>  <span class="hljs-number">118.440</span>  <span class="hljs-number">118.369</span>     <span class="hljs-number">141.676</span>   

                     low_limit    volume     money  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">52</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">840000.0</span>  <span class="hljs-number">996206.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">53</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">393000.0</span>  <span class="hljs-number">466096.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">54</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>   <span class="hljs-number">43000.0</span>   <span class="hljs-number">50981.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>   <span class="hljs-number">30000.0</span>   <span class="hljs-number">35534.0</span>  
<span class="hljs-number">2023</span><span class="hljs-number">-01</span><span class="hljs-number">-31</span> <span class="hljs-number">10</span>:<span class="hljs-number">56</span>:<span class="hljs-number">00</span>      <span class="hljs-number">94.45</span>  <span class="hljs-number">141000.0</span>  <span class="hljs-number">166987.0</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="get_bars"></span>get_bars</label>
      <label>时间周期的行情数据（支持时间周期：'1m','5m', '15m', '30m', '60m', '120m', '1w', '1M'）</label>
      <article style="display: block; height: 1643.16px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_bars(security, count, unit=<span class="hljs-string">'1d'</span>,
         fields=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'open'</span>,<span class="hljs-string">'high'</span>,<span class="hljs-string">'low'</span>,<span class="hljs-string">'close'</span>],
         include_now=<span class="hljs-keyword">False</span>, end_dt=<span class="hljs-keyword">None</span>, fq_ref_date=<span class="hljs-keyword">None</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p>获取各种时间周期的bar数据，bar的分割方式与主流行情软件相同， 同时还支持返回当前时刻所在 bar 的数据。</p>
<p><strong>参数</strong></p>
<ul>
<li>security: 可转债代码，支持单个及多个标的</li>
<li>count: 大于0的整数，表示获取bar的个数。如果行情数据的bar不足count个，返回的长度则小于count个数。</li>
<li>unit: bar的时间单位<br>
当unit为'1m', '5m', '15m', '30m', '60m', '120m', '1d', '1w'(一周), '1M'（一月）标准bar时，bar的分割方式与主流行情软件划分相似
当unit为非上述标准bar时('xm', 例如'3m')，只支持分钟级别的,x需要小于240，以每天的开盘为起始点，每x分钟为一条bar；</li>
<li>fields: 获取数据的字段， 支持如下值：'date', 'open', 'close', 'high', 'low', 'volume', 'money', </li>
<li>include_now: 取值True 或者False。 表示是否包含end_dt所在的bar, 比如end_dt指定为9:38:00，unit参数为5m， 如果 include_now=True,则返回的最后一条bar为9:35:00-9:38:00这个 bar，否则返回的最后一条bar为09:30:00-09:35:00的bar。</li>
<li>end_dt：查询的截止时间，默认最新的时间。注意:当end_dt指定为当天尚未结束的交易时间时，会自动填充为上一个交易日收盘的时间</li>
<li>df：默认为True，指定返回数据为dataframe结构；当df=False的时候，传入单个标的时，返回一个np.ndarray，多个标的返回一个字典，key是code，value是np.array</li>
</ul>
<p><strong>返回</strong></p>
<p>返回一个pandas.dataframe对象，可以按任意周期返回股票的开盘价、收盘价、最高价、最低价，同时也可以利用date数据查看所返回的数据是什么时刻的。</p>
<p><strong>示例</strong></p>
<ul>
<li><p>获取一只可转债</p><pre><code class="python language-python hljs">df = get_bars(<span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-number">5</span>, unit=<span class="hljs-string">'120m'</span>,fields=[<span class="hljs-string">'date'</span>, <span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],include_now=<span class="hljs-keyword">False</span>,
              end_dt=<span class="hljs-string">'2019-12-05'</span>)
print(df)

                 date    open   close    high     low     volume      money
<span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.80</span>  <span class="hljs-number">103.87</span>  <span class="hljs-number">103.96</span>  <span class="hljs-number">103.75</span>  <span class="hljs-number">1175000.0</span>  <span class="hljs-number">1220479.0</span>
<span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.76</span>  <span class="hljs-number">103.63</span>  <span class="hljs-number">103.80</span>  <span class="hljs-number">103.60</span>  <span class="hljs-number">1072000.0</span>  <span class="hljs-number">1111412.0</span>
<span class="hljs-number">2</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-03</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.60</span>  <span class="hljs-number">103.88</span>  <span class="hljs-number">103.89</span>  <span class="hljs-number">103.56</span>  <span class="hljs-number">8357000.0</span>  <span class="hljs-number">8672659.0</span>
<span class="hljs-number">3</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.88</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.89</span>  <span class="hljs-number">103.68</span>  <span class="hljs-number">1714000.0</span>  <span class="hljs-number">1778679.0</span>
<span class="hljs-number">4</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-04</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.61</span>  <span class="hljs-number">103.74</span>  <span class="hljs-number">103.48</span>  <span class="hljs-number">9007000.0</span>  <span class="hljs-number">9333398.0</span> 
</code></pre><p></p></li>
<li><p>获取多只可转债</p><pre><code class="python language-python hljs">df=get_bars([<span class="hljs-string">'110043.XSHG'</span>, <span class="hljs-string">'110044.XSHG'</span>],<span class="hljs-number">2</span>,<span class="hljs-string">'5m'</span>,
            fields=[<span class="hljs-string">'date'</span>, <span class="hljs-string">'open'</span>, <span class="hljs-string">'close'</span>, <span class="hljs-string">'high'</span>, <span class="hljs-string">'low'</span>, <span class="hljs-string">'volume'</span>, <span class="hljs-string">'money'</span>],end_dt=<span class="hljs-string">'2019-12-21 15:00:00'</span>)
print(df)

                             date    open   close    high     low    volume  \
<span class="hljs-number">110043.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">106.98</span>  <span class="hljs-number">106.95</span>  <span class="hljs-number">107.06</span>  <span class="hljs-number">106.95</span>   <span class="hljs-number">29000.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">106.93</span>  <span class="hljs-number">106.94</span>  <span class="hljs-number">106.95</span>  <span class="hljs-number">106.92</span>  <span class="hljs-number">397000.0</span>   
<span class="hljs-number">110044.</span>XSHG <span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">14</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00</span>  <span class="hljs-number">147.02</span>  <span class="hljs-number">146.67</span>  <span class="hljs-number">147.07</span>  <span class="hljs-number">146.67</span>  <span class="hljs-number">555000.0</span>   
            <span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>  <span class="hljs-number">146.71</span>  <span class="hljs-number">147.30</span>  <span class="hljs-number">147.32</span>  <span class="hljs-number">146.71</span>  <span class="hljs-number">100000.0</span>   

                  money  
<span class="hljs-number">110043.</span>XSHG <span class="hljs-number">0</span>   <span class="hljs-number">31018.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">424483.0</span>  
<span class="hljs-number">110044.</span>XSHG <span class="hljs-number">0</span>  <span class="hljs-number">815715.0</span>  
            <span class="hljs-number">1</span>  <span class="hljs-number">147199.0</span>  
</code></pre><p></p></li>
</ul></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>




    </div>



<div class="group">
      <label><span id="get_ticks (机构)"></span>get_ticks (机构)</label>
      <label>可转债tick数据/2019年起</label>
      <article style="display: block; height: 2357.27px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip=<span class="hljs-keyword">True</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>可转债部分， 支持 2019-01-01 至今的tick数据，提供买五卖五数据。（每3秒一次快照）</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 可转债,不支持传入多个标的</p></li>
<li><p>start_dt: 开始日期</p></li>
<li><p>end_dt: 结束日期</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据。</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>
<li><p><strong>股票tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（股）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>a1_v~a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p~a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v~b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p~b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>可转债tick数据示例</strong>：</p>
<h1 id="start_dtcountnone">start_dt和count只能有一个不为None值</h1>
<p>d = get_ticks("110043.XSHG",start_dt=None, end_dt="2023-02-03 10:43:00", count=5)
print(d)</p>
<h1 id="">输出</h1>
<pre><code class="hljs pgsql">                 <span class="hljs-type">time</span>  <span class="hljs-keyword">current</span>     high     low   volume      <span class="hljs-type">money</span>  \
</code></pre>
<p>0 2023-02-03 10:42:30.408  116.680  117.687  116.43  66290.0  7740472.0<br>
1 2023-02-03 10:42:36.412  116.680  117.687  116.43  66330.0  7745139.0<br>
2 2023-02-03 10:42:39.416  116.695  117.687  116.43  66340.0  7746306.0<br>
3 2023-02-03 10:42:45.408  116.696  117.687  116.43  66500.0  7764977.0<br>
4 2023-02-03 10:42:48.408  116.705  117.687  116.43  66510.0  7766144.0   </p>
<pre><code class="hljs properties">  <span class="hljs-attr">a1_p</span>  <span class="hljs-string">a1_v     a2_p  a2_v     a3_p  a3_v     a4_p    a4_v     a5_p  \
</span></code></pre>
<p>0  116.680  30.0  116.695  10.0  116.705  10.0  116.739    20.0  116.740<br>
1  116.705  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750<br>
2  116.696  60.0  116.705  10.0  116.739  20.0  116.740    10.0  116.744<br>
3  116.705  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750<br>
4  116.706  10.0  116.739  20.0  116.740  10.0  116.744  1960.0  116.750   </p>
<pre><code class="hljs armasm"> a5_v     <span class="hljs-keyword">b1_p </span>  <span class="hljs-keyword">b1_v </span>    <span class="hljs-keyword">b2_p </span>  <span class="hljs-keyword">b2_v </span>    <span class="hljs-keyword">b3_p </span> <span class="hljs-keyword">b3_v </span>   <span class="hljs-keyword">b4_p </span> <span class="hljs-keyword">b4_v </span> \
</code></pre>
<p>0    10.0  116.662  110.0  116.658   10.0  116.640  10.0  116.61  10.0<br>
1    10.0  116.695  160.0  116.662  260.0  116.658  10.0  116.64  10.0<br>
2  1960.0  116.695  300.0  116.662  110.0  116.658  10.0  116.64  10.0<br>
3    10.0  116.695  200.0  116.662  110.0  116.658  10.0  116.64  10.0<br>
4    10.0  116.695  200.0  116.662  110.0  116.658  10.0  116.64  10.0   </p>
<pre><code class="hljs armasm"> <span class="hljs-keyword">b5_p </span>  <span class="hljs-keyword">b5_v </span> 
</code></pre>
<p>0  116.60  310.0<br>
1  116.61   10.0<br>
2  116.61   10.0<br>
3  116.61   10.0<br>
4  116.61   10.0 </p>
<p>```</p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>




</section></div>
</section>
<h2 id="宏观数据">宏观数据</h2>
<ul>
<li><strong>统计局统计开始至今，交易日盘前8：30之前更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法（跳转链接）</label>
    <label>描述（点击空白处显示具体内容）</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="数据调用方法"></span>数据调用方法</label>
      <label>注意使用jqdatasdk，数据调用应该是from jqdatasdk import *，而不是 from jqdata import *</label>
      <article style="display: block; height: 1693.68px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>数据调用方法</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> macro
macro.run_query(query(macro.table_name).filter(macro.table_name.indicator==value).limit(n))
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li><strong>query(macro.table_name)</strong>：表示从macro.table_name这张表中查询宏观经济数据，table_name是所要查询的宏观经济分类表，如macro.MAC_INDUSTRY_ESTATE_INVEST_MONTH代表房地产开发投资情况表，更多表名点击<a href="https://www.joinquant.com/help/api/help?name=macroData#%E5%86%9C%E4%B8%9A">宏观经济数据分类</a>查看。还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：sqlalchemy.orm.query.Query对象。</li>
<li><strong>filter(macro.table_name.indicator==value)</strong>:指定限制条件，macro.table_name.indicator是具体表的字段名称，如macro.MAC_INDUSTRY_ESTATE_INVEST_MONTH.stat_quarter==12代表取出房地产开发投资情况中统计季度等于第四季度的情况。</li>
<li><strong>limit(n)</strong>:指定返回的数据条数。</li>
</ul>
<p><strong>返回：</strong>
返回一个 dataframe， 每一行对应数据库返回的每一行， 列索引是你所查询的字段</p>
<p>注意</p>
<ol>
<li>为了防止返回数据量过大, 我们每次最多返回5000行</li>
<li>不能进行连表查询，即同时查询多张表内数据</li>
</ol>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 查询分地区农林牧渔业总产值表(季度累计) 的前4条数据</span>
q = query(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_QUARTER
    ).limit(<span class="hljs-number">4</span>)
df = macro.run_query(q)
print(df)

   id stat_quarter area_code area_name      total    farming  forestry  \
<span class="hljs-number">0</span>   <span class="hljs-number">1</span>      <span class="hljs-number">2015</span><span class="hljs-number">-06</span>    <span class="hljs-number">350000</span>       福建省  <span class="hljs-number">1240.1000</span>   <span class="hljs-number">430.4000</span>  <span class="hljs-number">101.2000</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">2</span>      <span class="hljs-number">2014</span><span class="hljs-number">-09</span>    <span class="hljs-number">350000</span>       福建省  <span class="hljs-number">2027.9000</span>   <span class="hljs-number">830.8000</span>  <span class="hljs-number">155.2000</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">3</span>      <span class="hljs-number">2015</span><span class="hljs-number">-03</span>    <span class="hljs-number">350000</span>       福建省   <span class="hljs-number">538.2000</span>   <span class="hljs-number">148.2000</span>   <span class="hljs-number">36.4000</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">4</span>      <span class="hljs-number">2014</span><span class="hljs-number">-12</span>    <span class="hljs-number">350000</span>       福建省  <span class="hljs-number">3522.3053</span>  <span class="hljs-number">1529.5705</span>  <span class="hljs-number">323.2506</span>   

   animal_husbandry    fishery  
<span class="hljs-number">0</span>          <span class="hljs-number">237.7000</span>   <span class="hljs-number">417.6000</span>  
<span class="hljs-number">1</span>          <span class="hljs-number">368.4000</span>   <span class="hljs-number">591.2000</span>  
<span class="hljs-number">2</span>          <span class="hljs-number">127.6000</span>   <span class="hljs-number">197.9000</span>  
<span class="hljs-number">3</span>          <span class="hljs-number">522.8944</span>  <span class="hljs-number">1025.1946</span> 
</code></pre>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 查询2014年的分地区农林牧渔业总产值表(年度)</span>
q = query(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_YEAR
        ).filter(macro.MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_YEAR.stat_year==<span class="hljs-string">'2014'</span>)
df = macro.run_query(q)
print(df[:<span class="hljs-number">4</span>])

    id stat_year area_code area_name      total    farming  forestry  \
<span class="hljs-number">0</span>  <span class="hljs-number">104</span>      <span class="hljs-number">2014</span>    <span class="hljs-number">110000</span>       北京市   <span class="hljs-number">420.0672</span>   <span class="hljs-number">155.1015</span>   <span class="hljs-number">90.6852</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">214</span>      <span class="hljs-number">2014</span>    <span class="hljs-number">120000</span>       天津市   <span class="hljs-number">367.7488</span>   <span class="hljs-number">182.2270</span>    <span class="hljs-number">3.2204</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">264</span>      <span class="hljs-number">2014</span>    <span class="hljs-number">130000</span>       河北省  <span class="hljs-number">5373.7637</span>  <span class="hljs-number">2893.2898</span>  <span class="hljs-number">118.4668</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">164</span>      <span class="hljs-number">2014</span>    <span class="hljs-number">140000</span>       山西省  <span class="hljs-number">1440.5971</span>   <span class="hljs-number">872.5551</span>   <span class="hljs-number">92.4834</span>   

   animal_husbandry   fishery  total_idx  farming_idx  forestry_idx  \
<span class="hljs-number">0</span>          <span class="hljs-number">152.6590</span>   <span class="hljs-number">13.2024</span>    <span class="hljs-number">99.9874</span>      <span class="hljs-number">91.3496</span>      <span class="hljs-number">119.5023</span>   
<span class="hljs-number">1</span>          <span class="hljs-number">102.7424</span>   <span class="hljs-number">68.8678</span>   <span class="hljs-number">102.9743</span>     <span class="hljs-number">103.3167</span>      <span class="hljs-number">103.5446</span>   
<span class="hljs-number">2</span>         <span class="hljs-number">1895.9047</span>  <span class="hljs-number">175.8537</span>   <span class="hljs-number">104.0124</span>     <span class="hljs-number">103.1439</span>      <span class="hljs-number">108.9083</span>   
<span class="hljs-number">3</span>          <span class="hljs-number">384.0043</span>    <span class="hljs-number">7.9749</span>   <span class="hljs-number">104.0256</span>     <span class="hljs-number">103.2592</span>      <span class="hljs-number">102.3852</span>   

   animal_husbandry_idx  fishery_idx  
<span class="hljs-number">0</span>               <span class="hljs-number">99.2970</span>     <span class="hljs-number">105.1272</span>  
<span class="hljs-number">1</span>              <span class="hljs-number">102.8987</span>     <span class="hljs-number">102.1849</span>  
<span class="hljs-number">2</span>              <span class="hljs-number">105.0522</span>     <span class="hljs-number">103.2209</span>  
<span class="hljs-number">3</span>              <span class="hljs-number">105.6783</span>     <span class="hljs-number">109.1235</span>  
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%86%9C%E4%B8%9A">农业</a>
<span id="农业"></span> </label>
      <label>

</label>
      <article style="display: block; height: 149.562px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>分地区农林牧渔业总产值表(季度累计)
表名：MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_QUARTER</p>
<p>分地区农林牧渔业总产值表(年度)
表名：MAC_INDUSTRY_AREA_AGR_OUTPUT_VALUE_YEAR</p>
<p>全国农产品生产价格指数表(季度)
表名：MAC_INDUSTRY_AGR_PRODUCT_IDX_QUARTER</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%9B%BD%E5%86%85%E8%B4%B8%E6%98%93">国内贸易</a>

<span id="国内贸易"></span> </label>
      <label>

</label>
      <article style="display: block; height: 235.938px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>社会消费品销售总额（月度）
表名：MAC_SALE_RETAIL_MONTH</p>
<p>限额以上零售分类表（月度）
表名： MAC_SALE_SCALE_RETAIL_MONTH</p>
<p>分地区消费品零售总额（年度）
表名：MAC_AREA_RETAIL_SALE</p>
<p>亿元以上商品交易市场基本情况（年度）
表名：MAC_SALE_MARKET</p>
<p>分地区亿元以上商品交易市场基本情况（年度）
表名：MAC_AREA_SALE_MARKET</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%B0%B1%E4%B8%9A%E4%B8%8E%E5%B7%A5%E8%B5%84">就业与工资</a><span id="就业与工资"></span> </label>
      <label>

</label>
      <article style="display: block; height: 322.312px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>分地区城镇登记失业率（年度）
表名：MAC_AREA_UNEMPLOY</p>
<p>就业情况基本表(年度)
表名：MAC_EMPLOY_YEAR</p>
<p>分地区城镇单位就业人员情况表(年度)
表名：MAC_AREA_WAGEIDX_YEAR</p>
<p>分地区分行业城镇单位就业人员工资情况表(年度)
表名：MAC_AREA_INDUSTRY_WAGE_YEAR</p>
<p>分行业城镇单位就业人员工资情况表(年度)
表名：MAC_INDUSTRY_WAGE_YEAR</p>
<p>分地区按注册类型分城镇单位就业人员工资情况表(年度)
表名：MAC_AREA_REGISTERED_WAGE_YEAR</p>
<p>分地区按行业分城镇单位就业人员情况表（年度）
表名：MAC_AREA_INDUSTRY_EMPLOY_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E8%B5%84%E6%BA%90%E7%8E%AF%E5%A2%83">资源环境</a><span id="资源环境"></span> </label>
      <label>

</label>
      <article style="display: block; height: 451.875px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>各地区森林资源情况表（年度）
表名：MAC_RESOURCES_AREA_FOREST</p>
<p>生态环境情况信息表（年度）
表名：MAC_RESOURCES_ECOLOGICAL_ENVIRONMENT</p>
<p>水资源情况表（年度）
表名：MAC_RESOURCES_AREA_WATER_RESOURCES</p>
<p>全国水资源量年度信息表（年度）
表名：MAC_RESOURCES_WATER_RESOURCES_YEAR</p>
<p>各地区供水用水情况表（年度）
表名：MAC_RESOURCES_AREA_WATER_SUPPLY_USE</p>
<p>供水用水情况表（年度）
表名：MAC_RESOURCES_WATER_SUPPLY_USE_YEAR</p>
<p>水环境情况信息表（年度）
表名：MAC_RESOURCES_WATER_ENVIRONMENT</p>
<p>各地区废气排放及处理情况表（年度）
表名：MAC_RESOURCES_AREA_WASTE_GAS_EMISSION</p>
<p>自然灾害情况信息表（年度）
表名：MAC_RESOURCES_NATURAL_DISASTER</p>
<p>环境污染治理投资情况信息表（年度）
表名：MAC_RESOURCES_ENVIRONMENT_TREAT_INVEST</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E6%88%BF%E5%9C%B0%E4%BA%A7%E8%A1%8C%E4%B8%9A">房地产行业</a><span id="房地产行业"></span> </label>
      <label>

</label>
      <article style="display: block; height: 261.531px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>房地产开发投资情况表(月度累计)
表名：MAC_INDUSTRY_ESTATE_INVEST_MONTH</p>
<p>分地区房地产开发投资情况表(月度累计)
表名：MAC_INDUSTRY_AREA_ESTATE_INVEST_MONTH</p>
<p>房地产开发投资资金来源情况表(月度累计)
表名：MAC_INDUSTRY_ESTATE_FUND_SOURCE_MONTH</p>
<p>各地区房地产开发规模与开、竣工面积增长情况表(月度累计)
表名：MAC_INDUSTRY_AREA_ESTATE_BUILD_MONTH</p>
<p>70个大中城市房屋销售价格指数(月度)
表名：MAC_INDUSTRY_ESTATE_70CITY_INDEX_MONTH</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E9%87%91%E8%9E%8D%E4%B8%9A">金融业</a><span id="金融业"></span> </label>
      <label>

</label>
      <article style="display: block; height: 538.25px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>人民币外汇牌价(日级)
表名：MAC_RMB_EXCHANGE_RATE</p>
<p>银行间拆借利率表（日级）
表名：MAC_LEND_RATE</p>
<p>金融机构人民币信贷资金平衡表（年度）
表名：MAC_CREDIT_BALANCE_YEAR</p>
<p>货币供应量(月度)
表名：MAC_MONEY_SUPPLY_MONTH</p>
<p>货币供应量(年度)
表名：MAC_MONEY_SUPPLY_YEAR</p>
<p>货币当局资产负债表（年度）
表名：MAC_CURRENCY_STATE_YEAR</p>
<p>其他存款性公司资产负债表（年度）
表名：MAC_OTHER_DEPOSIT</p>
<p>社会融资规模及构成（年度）
表名：MAC_SOCIAL_SCALE_FINANCE</p>
<p>证券市场基本情况（年度）
表名：MAC_STK_MARKET</p>
<p>黄金和外汇储备（月度）
表名：MAC_GOLD_FOREIGN_RESERVE</p>
<p>股票发行量和筹资额（年度）
表名：MAC_STK_ISSUE</p>
<p>股票市场统计表（年度）
表名：MAC_STK_TRADE</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E8%B4%A2%E6%94%BF%E6%94%BF%E7%AD%96">财政政策</a><span id="财政政策"></span> </label>
      <label>

</label>
      <article style="display: block; height: 538.25px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>数据调用方法</strong></p>
<p>国家财政收支总额及增长速度表（年度）
表名：MAC_FISCAL_TOTAL_YEAR</p>
<p>中央财政与地方财政收支及比重表（年度）
表名：MAC_FISCAL_BALANCE_YEAR</p>
<p>中央和地方财政主要收入项目情况表(年度)
表名：MAC_FISCAL_CENTRAL_REVENUE_YEAR</p>
<p>中央和地方财政主要支出项目情况表(年度)
表名：MAC_FISCAL_CENTRAL_EXPENSE_YEAR</p>
<p>各项税收表（年度）
表名：MAC_FISCAL_TAX_YEAR</p>
<p>预算外资金分项目收支表（年度）
表名：MAC_FISCAL_EXTRA_REVENUE_EXPENSE_YEAR</p>
<p>中央财政与地方财政预算外收支表（年度）
表名：MAC_FISCAL_EXTRAL_BALANCE_YEAR</p>
<p>外债余额表（年度）
表名：MAC_FISCAL_EXTERNAL_DEBT_YEAR</p>
<p>外债风险指标表（年度）
表名：MAC_FISCAL_RISK_INDICATOR_YEAR</p>
<p>各地区财政收入表（年度）
表名：MAC_AREA_FISCAL_REVENUE_YEAR</p>
<p>各地区财政支出表（年度）
表名：MAC_AREA_FISCAL_EXPENSE_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%9B%BA%E5%AE%9A%E8%B5%84%E4%BA%A7%E6%8A%95%E8%B5%84">固定资产投资</a><span id="固定资产投资"></span> </label>
      <label>

</label>
      <article style="display: block; height: 235.938px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>固定资产投资情况（月度）
表名：MAC_FIXED_INVESTMENT</p>
<p>分地区固定资产投资情况（月度）
表名：MAC_AREA_FIXED_INVESTMENT</p>
<p>分行业固定资产投资情况（月度）
表名：MAC_INDUSTRY_FIXED_INVEST</p>
<p>按注册类型登记分固定资产投资（月度）
表名：MAC_REGISTERED_FIXED_INVESTMENT</p>
<p>固定资产投资情况表(年度)
表名：MAC_FIXED_INVESTMENT_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%AF%B9%E5%A4%96%E8%B4%B8%E6%98%93">对外贸易</a><span id="对外贸易"></span> </label>
      <label>

</label>
      <article style="display: block; height: 563.844px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>货物进出口总额表（年度）
表名：MAC_TRADE_VALUE_YEAR</p>
<p>海关进出口货物分类金额表（年度）
表名：MAC_TRADE_VALUE_SITC_YEAR</p>
<p>地区按经营单位所在地分货物进出口总额表（年度）
表名：MAC_TRADE_VALUE_LOCATION_YEAR</p>
<p>各地区按境内目的地和货源地分货物进出口总额表（年度）
表名：MAC_TRADE_VALUE_DESTINATION_YEAR</p>
<p>利用外资情况表（月度）
表名：MAC_FOREIGN_CAPITAL_MONTH</p>
<p>利用外资概况表（年度）
表名：MAC_FOREIGN_CAPITAL_YEAR</p>
<p>按行业分对外直接投资情况表（年度）
表名：MAC_INDUSTRY_OFDI_YEAR</p>
<p>分国别对外外直接投资情况表（年度）
表名：MAC_NATION_OFDI</p>
<p>分地区外商投资企业年底注册登记情况表（年度）
表名：MAC_AREA_FOREIGN_REGISTER</p>
<p>按行业分外商投资企业年底注册登记情况表（年度）
表名：MAC_INDUSTRY_FOREIGN_REGISTER</p>
<p>对外经济合作表（年度）
表名：MAC_FOREIGN_COOPERATE_YEAR</p>
<p>按国别对外经济合作表（年度）
表名：MAC_NATION_COOPERATE_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E6%99%AF%E6%B0%94%E6%8C%87%E6%95%B0">景气指数</a><span id="景气指数"></span> </label>
      <label>

</label>

<article style="display: block; height: 365.5px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>宏观经济景气指数（月度）
表名：MAC_ECONOMIC_BOOM_IDX</p>
<p>消费者景气指数（月度）
表名：MAC_CONSUMER_BOOM_IDX</p>
<p>宏观经济景气预警指数（月度）
表名：MAC_BOOM_WARNING_IDX</p>
<p>企业景气及企业家信心指数（季度）
表名：MAC_ENTERPRISE_BOOM_CONFIDENCE_IDX</p>
<p>制造业采购经理指数（月度）
表名：MAC_MANUFACTURING_PMI</p>
<p>非制造业采购经理指数（月度）
表名：MAC_NONMANUFACTURING_PMI</p>
<p>分地区居民消费价格指数（月度）
表名：MAC_AREA_CPI_MONTH</p>
<p>全国居民消费价格指数（月度）
表名：MAC_CPI_MONTH</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%B7%A5%E4%B8%9A">工业</a><span id="工业"></span> </label>
      <label>

</label>
      <article style="display: block; height: 149.562px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>全国工业增长速度（月度）
表名：MAC_INDUSTRY_GROWTH</p>
<p>全国工业分行业增长速度（月度）
表名：MAC_INDUSTRY_CATEGORY_GROWTH</p>
<p>全国工业企业主要经济指标（月度）
表名：MAC_INDUSTRY_INDICATOR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E4%BF%9D%E9%99%A9%E4%B8%9A">保险业</a><span id="保险业"></span> </label>
      <label>

</label>
      <article style="display: block; height: 235.938px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>全国各地区保险业务统计表(年度)
表名：MAC_INSURANCE_AREA_YEAR</p>
<p>保险公司保费金额表(年度)
表名：MAC_INSURANCE_PREMIUM_YEAR</p>
<p>保险公司赔款及给付表(年度)
表名：MAC_INSURANCE_PAYMENT_YEAR</p>
<p>保险公司资产情况（年度）
表名：MAC_INSURANCE_ASSETS_YEAR</p>
<p>保险公司原保费收入和赔付支出情况（年度）
表名：MAC_INSURANCE_REVENUE_EXPENSE_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E5%9B%BD%E6%B0%91%E7%BB%8F%E6%B5%8E">国民经济</a><span id="国民经济"></span> </label>
      <label>

</label>
      <article style="display: block; height: 365.5px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>全国各地区的行政划分（年度）
表名：MAC_AREA_DIV</p>
<p>分地区国内生产总值表(季度)
表名：MAC_AREA_GDP_QUARTER</p>
<p>分地区国内生产总值表(年度)
表名：MAC_AREA_GDP_YEAR</p>
<p>分地区国内生产总值指数表(上年=100，年度)
表名：MAC_AREA_GDP_YEAR_IDX</p>
<p>分地区国内生产总值指数表（年度）
表名：MAC_AREA_GDP_YEAR_IDX_1978</p>
<p>分地区支出法国内生产总值表(年度)
表名：MAC_AREA_GDP_EXPEND_YEAR</p>
<p>分地区收入法国内生产总值表(年度)
表名：MAC_AREA_GDP_INCOME_YEAR</p>
<p>国家统计局发布经济信息的日程表（年度）
表名：MAC_STATS_REPORT_CALENDAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E4%BA%BA%E6%B0%91%E7%94%9F%E6%B4%BB">人民生活</a><span id="人民生活"></span> </label>
      <label>

</label>
      <article style="display: block; height: 434.281px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>各地区居民消费水平表(年度)
表名：MAC_AREA_CONSUME_YEAR</p>
<p>居民人均收入支出表(年度)
表名：MAC_REVENUE_EXPENSE_YEAR</p>
<p>城乡居民家庭人均收入及恩格尔系数(年度)
表名：MAC_ENGEL_COEFFICIENT_YEAR</p>
<p>城乡居民人民币储蓄存款表(年度)
表名：MAC_RESIDENT_SAVING_DEPOSIT_YEAR</p>
<p>分地区城镇居民家庭平均每人全年收入来源表(年度)
表名：MAC_AREA_URBAN_INCOME_YEAR</p>
<p>分地区城镇及农村居民家庭平均每人全年消费性支出表(年度)
表名：MAC_AREA_URBAN_RURAL_EXPENSE_YEAR</p>
<p>农村居民家庭平均每人纯收入(年度)
表名：MAC_RURAL_NET_INCOME_YEAR</p>
<p>各地区按来源分农村居民家庭人均纯收入(年度)
表名：MAC_AREA_RURAL_NET_INCOME_YEAR</p>
<p>分地区农村居民家庭住房情况表(年度)
表名：MAC_AREA_RURAL_HOUSE_YEAR</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><a href="https://www.joinquant.com/help/api/help#macroData:%E4%BA%BA%E5%8F%A3%E4%BF%A1%E6%81%AF">人口信息</a><span id="人口信息"></span> </label>
      <label></label>
<article style="display: block; height: 538.25px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p>人口基本情况表(年度)：
表名：MAC_POPULATION_YEAR</p>
<p>各地区人口平均预期寿命表（年度）
表名：MAC_LIFE_EXPECT</p>
<p>按年龄和性别分人口数表（年度）
表名：MAC_POPULATION_AGE</p>
<p>各地区户数、人口数、性别比和户规模表（年度）
表名：MAC_AREA_HOUSEHOLD_SIZE</p>
<p>户口登记状况（年度）
表名：MAC_AREA_HOUSEHOLD_REGISTER</p>
<p>各地区人口年龄结构和抚养比例表（年度）
表名：MAC_AREA_POP_DEPENDENCY</p>
<p>各地区按性别和婚姻状况分的人口表（年度）
表名：MAC_AREA_POP_MARITAL</p>
<p>各地区按性别和受教育程度分人口情况表（年度）
表名：MAC_AREA_POP_EDUCATION</p>
<p>各地区按性别分的15岁及以上文盲人口表（年度）
表名：MAC_AREA_POP_ILLITERATE</p>
<p>各地区按家庭户规模分的户数表（年度）
表名：MAC_AREA_FAMILY_HOUSEHOLD</p>
<p>育龄妇女分年龄生育状况表（年度）
表名：MAC_POP_FERTILITY_RATE</p>
<p>人口年龄结构和抚养比例表（年度）
表名：MAC_POPULATION_DEPENDENCY</p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>






</div>
</section>
<h2 id="新闻联播文本">新闻联播文本</h2>
<ul>
<li><strong>2009年6月至今，每日21:30前更新</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="CCTV_NEWS"></span>CCTV_NEWS</label>
      <label>新闻联播文本数据</label>
      <article style="display: block; height: 2034.74px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="hljs pgsql"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
finance.run_query(query(finance.CCTV_NEWS).<span class="hljs-keyword">filter</span>(finance.CCTV_NEWS.day==<span class="hljs-string">'2019-02-19'</span>).<span class="hljs-keyword">limit</span>(n))
</code></pre>
<p>获取新闻联播每日播报的新闻文本数据，数据来源：央视新闻联播频道，时间范围：2009-06-26至今。</p>
<p><strong>参数：</strong></p>
<ul>
<li><strong>query(finance.CCTV_NEWS)</strong>：表示从finance.CCTV_NEWS 这张表中查询新闻联播的新闻文本数据，还可以指定所要查询的字段名，格式如下：query(库名.表名.字段名1，库名.表名.字段名2），多个字段用逗号分隔进行提取；query函数的更多用法详见：
<strong><a href="https://docs.sqlalchemy.org/en/rel_1_0/orm/query.html">sqlalchemy.orm.query.Query对象</a></strong></li>
<li><strong>finance.CCTV_NEWS</strong>：收录了新闻联播每日播报的新闻文本数据，表结构和字段信息如下：</li>
</ul>
<p><strong>字段统计</strong></p>
<table>
<thead>
<tr>
<th>字段名称</th>
<th>中文名称</th>
<th>字段类型</th>
<th>非空</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>day</td>
<td>日期</td>
<td>date</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>title</td>
<td>标题</td>
<td>varchar(200)</td>
<td>Y</td>
<td></td>
</tr>
<tr>
<td>content</td>
<td>正文</td>
<td>varchar(5000)</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<ul>
<li><strong>filter(finance.CCTV_NEWS.day=='2019-02-19')</strong>：指定筛选条件，通过finance.CCTV_NEWS.day=='2019-02-19' 可以指定你想要查询的某天的新闻联播的新闻文本数据；除此之外，还可以对表中其他字段指定筛选条件，如finance.CCTV_NEWS.title.like('%%新春%%')，表示标题中包含'新春'的新闻文本数据；多个筛选条件用英文逗号分隔。</li>
<li><strong>limit(n)</strong>：限制返回的数据条数，n指定返回条数。</li>
</ul>
<p><strong>返回结果：</strong></p>
<ul>
<li>返回一个 dataframe，每一行对应数据表中的一条数据， 列索引是您所查询的字段名称</li>
</ul>
<p><strong>注意：</strong></p>
<ol>
<li>为了防止返回数据量过大, 我们每次最多返回5000行</li>
<li>不能进行连表查询，即同时查询多张表的数据</li>
</ol>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#查询day==2019-02-19的新闻联播文本内容</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
df=finance.run_query(query(finance.CCTV_NEWS).filter(finance.CCTV_NEWS.day==<span class="hljs-string">'2019-02-19'</span>).limit(<span class="hljs-number">10</span>))
print(df)

      id         day                               title  \
<span class="hljs-number">0</span>  <span class="hljs-number">77833</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>             【央视快评】推动深度融合 加快建设新型主流媒体   
<span class="hljs-number">1</span>  <span class="hljs-number">77828</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>               【领航新时代】安徽：树作风标杆 谋发展之变   
<span class="hljs-number">2</span>  <span class="hljs-number">77829</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>  中共中央 国务院关于坚持农业农村优先发展 做好“三农”工作的若干意见   
<span class="hljs-number">3</span>  <span class="hljs-number">77830</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>          人民日报社论：决胜全面建成小康社会 推进乡村全面振兴   
<span class="hljs-number">4</span>  <span class="hljs-number">77836</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                              国内联播快讯   
<span class="hljs-number">5</span>  <span class="hljs-number">77838</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                              国际联播快讯   
<span class="hljs-number">6</span>  <span class="hljs-number">77832</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                       守正创新 壮大主流舆论阵地   
<span class="hljs-number">7</span>  <span class="hljs-number">77831</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                   栗战书与伊朗伊斯兰议会议长举行会谈   
<span class="hljs-number">8</span>  <span class="hljs-number">77837</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                        欧盟就对俄新制裁达成共识   
<span class="hljs-number">9</span>  <span class="hljs-number">77834</span>  <span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-19</span>                     赏灯游园庆佳节 欢欢喜喜闹元宵   

                                             content  
<span class="hljs-number">0</span>      本台今天刊播央视快评《推动深度融合 加快建设新型主流媒体》。    \r\n    ...  
<span class="hljs-number">1</span>      <span class="hljs-number">2014</span>年<span class="hljs-number">3</span>月<span class="hljs-number">9</span>日，习近平总书记在参加十二届全国人大二次会议安徽代表团审议时指出：各...  
<span class="hljs-number">2</span>      中共中央、国务院日前发出《关于坚持农业农村优先发展 做好“三农”工作的若干意见》。《...  
<span class="hljs-number">3</span>      明天出版的人民日报将发表社论，题目是《决胜全面建成小康社会 推进乡村全面振兴》。  ...  
<span class="hljs-number">4</span>          \r\n        人民银行：首单银行永续债顺利发行        \r...  
<span class="hljs-number">5</span>          \r\n        叙鲁克班干难民营开人道主义通道        \r\...  
<span class="hljs-number">6</span>      三年前的<span class="hljs-number">2</span>月<span class="hljs-number">19</span>日，习近平总书记考察中央主要新闻媒体，主持召开党的新闻舆论工作座谈会...  
<span class="hljs-number">7</span>      全国人大常委会委员长栗战书<span class="hljs-number">19</span>日在人民大会堂与伊朗伊斯兰议会议长拉里贾尼举行会谈。 ...  
<span class="hljs-number">8</span>      欧盟外交和安全政策高级代表莫盖里尼<span class="hljs-number">18</span>日表示，欧盟国家已经达成共识，将就俄乌刻赤海峡...  
<span class="hljs-number">9</span>      正月十五元宵佳节，人们走出家门游园赏灯闹元宵，感受传统文化的魅力。    \r\n ...  
</code></pre>
<pre><code class="hljs angelscript">#进一步获取新闻正文内容
print(df.iloc[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>])

中共中央、国务院日前发出《关于坚持农业农村优先发展 做好“三农”工作的若干意见》。《意见》指出，今明两年是全面建成小康社会的决胜期，“三农”领域有不少必须完成的硬任务。党中央认为，在经济下行压力加大、外部环境发生深刻变化的复杂形势下，做好“三农”工作具有特殊重要性，必须坚持把解决好“三农”问题作为全党工作重中之重不动摇。    
    《意见》提出，要聚力精准施策，决战决胜脱贫攻坚，不折不扣完成脱贫攻坚任务，咬定既定脱贫目标，落实已有政策部署，到<span class="hljs-number">2020</span>年确保现行标准下农村贫困人口实现脱贫、贫困县全部摘帽、解决区域性整体贫困。要夯实农业基础，保障重要农产品有效供给；要扎实推进乡村建设，加快补齐农村人居环境和公共服务短板；要发展壮大乡村产业，拓宽农民增收渠道；要全面深化农村改革，激发乡村发展活力；要完善乡村治理机制，保持农村社会和谐稳定；要发挥农村党支部战斗堡垒作用，全面加强农村基层组织建设。    
    要加强党对“三农”工作的领导，落实农业农村优先发展总方针，发挥好农民主体作用，让农民更多参与并从中获益。        
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>





</div>
</section>
<h2 id="tick数据机构">tick数据(机构) </h2>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述 / 更新时间及频率</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="股票tick数据"></span>股票tick数据</label>
      <label>2010-01-01起</label>
      <article style="display: block; height: 1969.05px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip=<span class="hljs-keyword">True</span>,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>股票部分， 支持 2010-01-01 至今的tick数据，提供买五卖五数据。盘后15:00更新，24:00校对完成入库</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 股票代码或期货代码,不支持传入多个标的</p></li>
<li><p>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>
<li><p><strong>股票tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（股）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>a1_v~a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p~a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v~b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p~b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>股票tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取平安银行2018-07-02的tick数据，start_dt和count只能有一个不为None值</span>
d = get_ticks(<span class="hljs-string">"000001.XSHE"</span>,start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-string">"2018-07-03"</span>, count=<span class="hljs-number">8</span>)
print(d)

<span class="hljs-comment">#输出</span>
                 time  current  high   low       volume         money  a1_p  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">42</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128332300.0</span>  <span class="hljs-number">1.130823e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">45</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128348600.0</span>  <span class="hljs-number">1.130963e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">48</span>     <span class="hljs-number">8.61</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128380000.0</span>  <span class="hljs-number">1.131233e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">51</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128420300.0</span>  <span class="hljs-number">1.131581e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">54</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128425000.0</span>  <span class="hljs-number">1.131621e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">56</span>:<span class="hljs-number">57</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128485000.0</span>  <span class="hljs-number">1.132138e+09</span>  <span class="hljs-number">8.62</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">14</span>:<span class="hljs-number">57</span>:<span class="hljs-number">00</span>     <span class="hljs-number">8.62</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">128514800.0</span>  <span class="hljs-number">1.132395e+09</span>  <span class="hljs-number">0.00</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">15</span>:<span class="hljs-number">00</span>:<span class="hljs-number">03</span>     <span class="hljs-number">8.61</span>  <span class="hljs-number">9.05</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">131552000.0</span>  <span class="hljs-number">1.158546e+09</span>  <span class="hljs-number">8.61</span>   

        a1_v  a2_p      a2_v    ...     b1_p       b1_v  b2_p      b2_v  b3_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">479000.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>    <span class="hljs-number">13500.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">434200.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">478700.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>     <span class="hljs-number">5500.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">436600.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">478400.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>     <span class="hljs-number">2000.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">512600.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">464600.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>    <span class="hljs-number">23100.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">558200.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">460300.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">651000.0</span>    ...     <span class="hljs-number">8.61</span>   <span class="hljs-number">108800.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">564300.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">386500.0</span>  <span class="hljs-number">8.63</span>  <span class="hljs-number">649000.0</span>    ...     <span class="hljs-number">8.61</span>   <span class="hljs-number">399200.0</span>  <span class="hljs-number">8.60</span>  <span class="hljs-number">682500.0</span>  <span class="hljs-number">8.59</span>   
<span class="hljs-number">6</span>        <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>    ...     <span class="hljs-number">0.00</span>        <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2560700.0</span>  <span class="hljs-number">8.62</span>  <span class="hljs-number">483200.0</span>    ...     <span class="hljs-number">8.60</span>  <span class="hljs-number">1009300.0</span>  <span class="hljs-number">8.59</span>  <span class="hljs-number">201000.0</span>  <span class="hljs-number">8.58</span>   

       b3_v  b4_p      b4_v  b5_p      b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">211300.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">311100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">211300.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">210900.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306100.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">180000.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">209600.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306200.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">179200.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">209500.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">307300.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184200.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">209500.0</span>  <span class="hljs-number">8.58</span>  <span class="hljs-number">306800.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184200.0</span>  
<span class="hljs-number">6</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  <span class="hljs-number">0.00</span>       <span class="hljs-number">0.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">365600.0</span>  <span class="hljs-number">8.57</span>  <span class="hljs-number">184700.0</span>  <span class="hljs-number">8.56</span>  <span class="hljs-number">250900.0</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">26</span> columns]
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="期货tick数据"></span>期货tick数据</label>
      <label>2010-01-01 起</label>
      <article style="display: block; height: 1757.83px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip,df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>期货部分， 支持 2010-01-01 至今的tick数据，提供买一卖一数据。盘后15:00更新，24:00校对完成入库。</strong>如果要获取主力合约的tick数据，可以先使用get_dominant_future(underlying_symbol,dt)获取主力合约对应的标的，然后再用get_ticks()获取该合约的tick数据</p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 期货代码</p></li>
<li><p>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>count: 取出指定时间区间内前多少条的tick数据。</p></li>
<li><p>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p></li>

<li><p><strong>期货tick返回结果：</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（手）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额</td>
<td>float</td>
</tr>
<tr>
<td>position</td>
<td>持仓量</td>
<td>float</td>
</tr>
<tr>
<td>a1_v</td>
<td>一档卖量</td>
<td>float</td>
</tr>
<tr>
<td>a1_p</td>
<td>一档卖价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v</td>
<td>一档买量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p</td>
<td>一档买价</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>期货tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取AU1812期货合约在“2018-07-03”前8个时间单位的tick数据,start_dt和count只能有一个不为None值</span>
df=get_ticks(<span class="hljs-string">'AU1812.XSGE'</span>,end_dt=<span class="hljs-string">'2018-07-03'</span>,count=<span class="hljs-number">8</span>)
print(df)
                     time  current    high    low   volume         money  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">35.500</span>   <span class="hljs-number">272.00</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42922.0</span>  <span class="hljs-number">1.170027e+10</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42942.0</span>  <span class="hljs-number">1.170571e+10</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.500</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42966.0</span>  <span class="hljs-number">1.171224e+10</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">38.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42974.0</span>  <span class="hljs-number">1.171442e+10</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">43.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42978.0</span>  <span class="hljs-number">1.171550e+10</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">45.500</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42986.0</span>  <span class="hljs-number">1.171768e+10</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">46.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42994.0</span>  <span class="hljs-number">1.171986e+10</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-02</span> <span class="hljs-number">23</span>:<span class="hljs-number">59</span>:<span class="hljs-number">59.000</span>   <span class="hljs-number">272.05</span>  <span class="hljs-number">272.95</span>  <span class="hljs-number">272.0</span>  <span class="hljs-number">42998.0</span>  <span class="hljs-number">1.172094e+10</span>   

   position    a1_p  a1_v    b1_p   b1_v  
<span class="hljs-number">0</span>  <span class="hljs-number">361578.0</span>  <span class="hljs-number">272.05</span>  <span class="hljs-number">57.0</span>  <span class="hljs-number">272.00</span>  <span class="hljs-number">281.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">361570.0</span>  <span class="hljs-number">272.05</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">272.00</span>  <span class="hljs-number">289.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">361562.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">96.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">14.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">361554.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">97.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">25.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">361554.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">97.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">24.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">361546.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">95.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">20.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">361538.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">91.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">16.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">361534.0</span>  <span class="hljs-number">272.10</span>  <span class="hljs-number">85.0</span>  <span class="hljs-number">272.05</span>   <span class="hljs-number">17.0</span>  
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="期权tick数据"></span>期权tick数据</label>
      <label>上交所ETF（2017-01-01起），商品期权（2019-12-02起）</label>
      <article style="display: block; height: 2153.2px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields,df)
</code></pre>
<p><strong>期权部分</strong>， 支持期权tick数据，盘后15:00更新，24:00校对完成入库。其中上交所ETF期权从2017-01-01开始，提供买卖五档；商品期权从2019-12-02开始，提供买卖一档。 </p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: 期权代码；如security='10001979.XSHG' #上交所ETF期权，上海证券交易所；security='CU2001C42000.XSGE'#铜期权，上海期货交易所； security='SR003C5600.XZCE' #白糖期权，郑州商品交易所； security='M2005-P-2400.XDCE' #豆粕期权，大连商品交易所；</li>
<li>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>count: 取出指定时间区间内前多少条的tick数据。</li>
<li>fields:  选择要获取的行情数据字段，默认为None，返回结果如下：</li>
<li>skip: 默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</li>
<li>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</li>
</ul>
<p><strong>期权tick返回结果：</strong></p>
<table>
<thead>
<tr>
<th>字段名</th>
<th>说明</th>
<th>字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>时间</td>
<td>datetime</td>
</tr>
<tr>
<td>current</td>
<td>当前价</td>
<td>float</td>
</tr>
<tr>
<td>high</td>
<td>当日最高价</td>
<td>float</td>
</tr>
<tr>
<td>low</td>
<td>当日最低价</td>
<td>float</td>
</tr>
<tr>
<td>volume</td>
<td>累计成交量（张）</td>
<td>float</td>
</tr>
<tr>
<td>money</td>
<td>累计成交额（元）</td>
<td>float</td>
</tr>
<tr>
<td>position</td>
<td>持仓量（张）</td>
<td>float</td>
</tr>
<tr>
<td>a1_p</td>
<td>一档卖价</td>
<td>float</td>
</tr>
<tr>
<td>a1_v</td>
<td>一档卖量</td>
<td>float</td>
</tr>
<tr>
<td>…</td>
<td></td>
<td></td>
</tr>
<tr>
<td>a5_p</td>
<td>五档卖价</td>
<td>float</td>
</tr>
<tr>
<td>a5_v</td>
<td>五档卖量</td>
<td>float</td>
</tr>
<tr>
<td>b1_p</td>
<td>一档买价</td>
<td>float</td>
</tr>
<tr>
<td>b1_v</td>
<td>一档买量</td>
<td>float</td>
</tr>
<tr>
<td>…</td>
<td></td>
<td></td>
</tr>
<tr>
<td>b5_p</td>
<td>五档买价</td>
<td>float</td>
</tr>
<tr>
<td>b5_v</td>
<td>五档买量</td>
<td>float</td>
</tr>
</tbody>
</table>
<p><strong>期权tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 获取上交所ETF期权（'10001313.XSHG')2018-12-20 10:00:00往前8个时间单位</span>
df=get_ticks(<span class="hljs-string">'10001313.XSHG'</span>,end_dt=<span class="hljs-string">'2018-12-20 10:00:00'</span>,count=<span class="hljs-number">8</span>)
print(df)
                     time  current    high    low   volume      money  \
<span class="hljs-number">0</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">37.740</span>   <span class="hljs-number">0.0041</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11754.0</span>  <span class="hljs-number">662475.03</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">39.240</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11774.0</span>  <span class="hljs-number">663332.00</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">42.740</span>   <span class="hljs-number">0.0043</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11784.0</span>  <span class="hljs-number">663770.69</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">45.240</span>   <span class="hljs-number">0.0043</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11798.0</span>  <span class="hljs-number">664384.85</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">46.240</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11808.0</span>  <span class="hljs-number">664813.33</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">51.712</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11812.0</span>  <span class="hljs-number">664984.72</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">55.232</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11822.0</span>  <span class="hljs-number">665413.21</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-20</span> <span class="hljs-number">09</span>:<span class="hljs-number">59</span>:<span class="hljs-number">55.732</span>   <span class="hljs-number">0.0042</span>  <span class="hljs-number">0.0076</span>  <span class="hljs-number">0.004</span>  <span class="hljs-number">11839.0</span>  <span class="hljs-number">666141.63</span>   

   position    a1_p  a1_v    a2_p  ...     b1_p  b1_v    b2_p  b2_v    b3_p  \
<span class="hljs-number">0</span>   <span class="hljs-number">93502.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">37.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0041</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">1</span>   <span class="hljs-number">93510.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">37.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">31.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">2</span>   <span class="hljs-number">93520.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">55.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">10.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">3</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">22.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">4</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">40.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">5</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">46.0</span>  <span class="hljs-number">0.0040</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0039</span>   
<span class="hljs-number">6</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">36.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">0.0040</span>   
<span class="hljs-number">7</span>   <span class="hljs-number">93534.0</span>  <span class="hljs-number">0.0043</span>  <span class="hljs-number">81.0</span>  <span class="hljs-number">0.0044</span>  ...   <span class="hljs-number">0.0042</span>  <span class="hljs-number">19.0</span>  <span class="hljs-number">0.0041</span>  <span class="hljs-number">12.0</span>  <span class="hljs-number">0.0040</span>   

   b3_v    b4_p  b4_v    b5_p  b5_v  
<span class="hljs-number">0</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">1</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">94.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">72.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">42.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">30.0</span>  
<span class="hljs-number">5</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  <span class="hljs-number">0.0037</span>  <span class="hljs-number">40.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">50.0</span>  <span class="hljs-number">0.0039</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">50.0</span>  <span class="hljs-number">0.0039</span>  <span class="hljs-number">62.0</span>  <span class="hljs-number">0.0038</span>  <span class="hljs-number">32.0</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">27</span> columns]
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="场内基金tick数据"></span>场内基金tick数据</label>
      <label>2019-01-01起</label>
      <article style="display: block; height: 1948.58px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt, end_dt, count, fields, skip,df)
</code></pre>
<p><strong>场内基金部分， 支持 2019-01-01 至今的tick数据，提供买五卖五盘口数据。盘后15:00更新，24:00校对完成入库</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li><p>security: 场内基金代码，如'510050.XSHG'</p></li>
<li><p>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</p></li>
<li><p>count: 取出指定时间区间内前N条的tick数据。</p></li>
<li><p>fields: 选择要获取的行情数据字段，默认为None，返回结果如下场内基金tick返回结果。</p></li>
<li><p>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</p></li>
<li><p>df:指定返回的数据格式，默认为True，返回dataframe；df=False时返回一个np.ndarray</p>
<p><strong>场内基金tick返回结果</strong></p></li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">high</td>
<td style="text-align:left;">当日最高价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">low</td>
<td style="text-align:left;">当日最低价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_v~a5_v</td>
<td style="text-align:left;">五档卖量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">a1_p~a5_p</td>
<td style="text-align:left;">五档卖价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_v~b5_v</td>
<td style="text-align:left;">五档买量</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">b1_p~b5_p</td>
<td style="text-align:left;">五档买价</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>获取场内基金tick数据示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取50ETF基金2019-10-15的tick数据</span>
df=get_ticks(<span class="hljs-string">'510050.XSHG'</span>,<span class="hljs-string">'2019-10-16 09:00:00'</span>,<span class="hljs-string">'2019-10-16 15:00:00'</span>)
print(df[:<span class="hljs-number">8</span>])
                     time  current   high    low     volume       money  \
<span class="hljs-number">0</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">25</span>:<span class="hljs-number">00.392</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">2327900.0</span>   <span class="hljs-number">7132686.0</span>   
<span class="hljs-number">1</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">00.552</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">2491600.0</span>   <span class="hljs-number">7634304.0</span>   
<span class="hljs-number">2</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">03.532</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.063</span>  <span class="hljs-number">3177815.0</span>   <span class="hljs-number">9737131.0</span>   
<span class="hljs-number">3</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">06.488</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4283600.0</span>  <span class="hljs-number">13124520.0</span>   
<span class="hljs-number">4</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">08.988</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4346100.0</span>  <span class="hljs-number">13315970.0</span>   
<span class="hljs-number">5</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">11.480</span>    <span class="hljs-number">3.065</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4666100.0</span>  <span class="hljs-number">14296725.0</span>   
<span class="hljs-number">6</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">14.500</span>    <span class="hljs-number">3.064</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4731900.0</span>  <span class="hljs-number">14498336.0</span>   
<span class="hljs-number">7</span> <span class="hljs-number">2019</span><span class="hljs-number">-10</span><span class="hljs-number">-16</span> <span class="hljs-number">09</span>:<span class="hljs-number">30</span>:<span class="hljs-number">17.360</span>    <span class="hljs-number">3.062</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">4856200.0</span>  <span class="hljs-number">14878966.0</span>   

    a1_p       a1_v   a2_p       a2_v    ...      b1_p      b1_v   b2_p  \
<span class="hljs-number">0</span>  <span class="hljs-number">3.064</span>    <span class="hljs-number">80011.0</span>  <span class="hljs-number">3.065</span>   <span class="hljs-number">471300.0</span>    ...     <span class="hljs-number">3.063</span>  <span class="hljs-number">111500.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">3.065</span>   <span class="hljs-number">412211.0</span>  <span class="hljs-number">3.066</span>    <span class="hljs-number">50800.0</span>    ...     <span class="hljs-number">3.064</span>   <span class="hljs-number">20900.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">3.065</span>   <span class="hljs-number">110711.0</span>  <span class="hljs-number">3.066</span>    <span class="hljs-number">44400.0</span>    ...     <span class="hljs-number">3.064</span>  <span class="hljs-number">118700.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">3.063</span>    <span class="hljs-number">45715.0</span>  <span class="hljs-number">3.064</span>    <span class="hljs-number">49200.0</span>    ...     <span class="hljs-number">3.062</span>  <span class="hljs-number">101200.0</span>  <span class="hljs-number">3.061</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">3.064</span>    <span class="hljs-number">44615.0</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">1338211.0</span>    ...     <span class="hljs-number">3.063</span>     <span class="hljs-number">500.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">1062826.0</span>  <span class="hljs-number">3.066</span>  <span class="hljs-number">1544500.0</span>    ...     <span class="hljs-number">3.064</span>   <span class="hljs-number">10000.0</span>  <span class="hljs-number">3.063</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">1445000.0</span>  <span class="hljs-number">3.065</span>  <span class="hljs-number">1662826.0</span>    ...     <span class="hljs-number">3.063</span>    <span class="hljs-number">3100.0</span>  <span class="hljs-number">3.062</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">3.062</span>   <span class="hljs-number">252800.0</span>  <span class="hljs-number">3.064</span>  <span class="hljs-number">2594900.0</span>    ...     <span class="hljs-number">3.061</span>  <span class="hljs-number">121500.0</span>  <span class="hljs-number">3.060</span>   

       b2_v   b3_p      b3_v   b4_p      b4_v   b5_p      b5_v  
<span class="hljs-number">0</span>   <span class="hljs-number">91300.0</span>  <span class="hljs-number">3.061</span>   <span class="hljs-number">50600.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">159200.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">10800.0</span>  
<span class="hljs-number">1</span>   <span class="hljs-number">97100.0</span>  <span class="hljs-number">3.062</span>   <span class="hljs-number">93300.0</span>  <span class="hljs-number">3.061</span>   <span class="hljs-number">55600.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">159200.0</span>  
<span class="hljs-number">2</span>  <span class="hljs-number">546585.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">165500.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">156400.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">402100.0</span>  
<span class="hljs-number">3</span>  <span class="hljs-number">466400.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">473100.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">20100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">219200.0</span>  
<span class="hljs-number">4</span>  <span class="hljs-number">101200.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">399900.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">491100.0</span>  <span class="hljs-number">3.059</span>   <span class="hljs-number">20100.0</span>  
<span class="hljs-number">5</span>     <span class="hljs-number">500.0</span>  <span class="hljs-number">3.062</span>  <span class="hljs-number">111200.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">471500.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">521100.0</span>  
<span class="hljs-number">6</span>  <span class="hljs-number">111200.0</span>  <span class="hljs-number">3.061</span>  <span class="hljs-number">481500.0</span>  <span class="hljs-number">3.060</span>  <span class="hljs-number">521100.0</span>  <span class="hljs-number">3.059</span>  <span class="hljs-number">164100.0</span>  
<span class="hljs-number">7</span>  <span class="hljs-number">522100.0</span>  <span class="hljs-number">3.059</span>  <span class="hljs-number">164100.0</span>  <span class="hljs-number">3.058</span>  <span class="hljs-number">363200.0</span>  <span class="hljs-number">3.057</span>     <span class="hljs-number">400.0</span>  

[<span class="hljs-number">8</span> rows x <span class="hljs-number">26</span> columns]
</code></pre></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>



<div class="group">
      <label><span id="指数tick数据"></span>指数tick数据</label>
      <label>2017-01-01起</label>
      <article style="display: block; height: 1625.12px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_ticks(security, start_dt=<span class="hljs-keyword">None</span>, end_dt=<span class="hljs-keyword">None</span>, count=<span class="hljs-keyword">None</span>, fields=<span class="hljs-keyword">None</span>, skip=<span class="hljs-keyword">True</span>, df=<span class="hljs-keyword">True</span>)
</code></pre>
<p><strong>指数部分， 支持 2017-01-01 至今的tick数据。盘后15:00更新，24:00校对完成入库</strong></p>
<p><strong>购买</strong>：用户如有需要使用tick数据的，可添加<strong>微信号JQData02</strong>申请试用或咨询开通，或发送邮件至jqdatasdk@joinquant.com</p>
<p><strong>参数</strong>：</p>
<ul>
<li>security: 指数代码，如'000001.XSHG'</li>
<li>start_dt: 开始日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>end_dt: 结束日期，格式为'YYYY-MM-DD HH:MM:SS'</li>
<li>count: 取出指定时间区间内前N条的tick数据。</li>
<li>fields: 选择要获取的行情数据字段，默认为None，返回结果如下指数tick返回结果。</li>
<li>skip:默认为True，过滤掉无成交变化的tick数据；当指定skip=False时，返回的tick数据会保留无成交有盘口变化的tick数据</li>
<li>df: 默认为True，传入单个标的返回的是一个dataframe, 当df=False的时候，返回一个np.ndarray</li>
</ul>
<p><strong>指数tick返回结果：</strong></p>
<table>
<thead>
<tr>
<th style="text-align:left;">字段名</th>
<th style="text-align:left;">说明</th>
<th style="text-align:left;">字段类型</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">time</td>
<td style="text-align:left;">时间</td>
<td style="text-align:left;">datetime</td>
</tr>
<tr>
<td style="text-align:left;">current</td>
<td style="text-align:left;">当前价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">high</td>
<td style="text-align:left;">当日最高价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">low</td>
<td style="text-align:left;">当日最低价</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">volume</td>
<td style="text-align:left;">累计成交量（股）</td>
<td style="text-align:left;">float</td>
</tr>
<tr>
<td style="text-align:left;">money</td>
<td style="text-align:left;">累计成交额（元）</td>
<td style="text-align:left;">float</td>
</tr>
</tbody>
</table>
<p><strong>获取指数tick数据示例</strong>：</p><pre><code class="python language-python hljs"><span class="hljs-comment"># 获取上证指数2019-11-19 10:00:00 到 2019-11-19 10:01:00的tick数据</span>
df=get_ticks(<span class="hljs-string">'000001.XSHG'</span>,<span class="hljs-string">'2019-11-19 10:00:00'</span>,<span class="hljs-string">'2019-11-19 10:01:00'</span>)
print(df)
                      time    current       high       low        volume  \
<span class="hljs-number">0</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01.608</span>  <span class="hljs-number">2913.4288</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.795233e+09</span>   
<span class="hljs-number">1</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">06.600</span>  <span class="hljs-number">2913.1890</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.800322e+09</span>   
<span class="hljs-number">2</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.628</span>  <span class="hljs-number">2913.0532</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.807082e+09</span>   
<span class="hljs-number">3</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">16.608</span>  <span class="hljs-number">2913.3964</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.814624e+09</span>   
<span class="hljs-number">4</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">21.620</span>  <span class="hljs-number">2913.2224</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.818837e+09</span>   
<span class="hljs-number">5</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">25.620</span>  <span class="hljs-number">2913.6741</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.824412e+09</span>   
<span class="hljs-number">6</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">31.608</span>  <span class="hljs-number">2912.6091</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.830766e+09</span>   
<span class="hljs-number">7</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">36.588</span>  <span class="hljs-number">2913.6492</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.835326e+09</span>   
<span class="hljs-number">8</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">40.620</span>  <span class="hljs-number">2913.5004</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.840942e+09</span>   
<span class="hljs-number">9</span>  <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">46.580</span>  <span class="hljs-number">2913.7269</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.846658e+09</span>   
<span class="hljs-number">10</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">51.588</span>  <span class="hljs-number">2913.7699</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.850605e+09</span>   
<span class="hljs-number">11</span> <span class="hljs-number">2019</span><span class="hljs-number">-11</span><span class="hljs-number">-19</span> <span class="hljs-number">10</span>:<span class="hljs-number">00</span>:<span class="hljs-number">55.608</span>  <span class="hljs-number">2913.9637</span>  <span class="hljs-number">2914.6199</span>  <span class="hljs-number">2902.855</span>  <span class="hljs-number">2.856479e+09</span>   

           money  
<span class="hljs-number">0</span>   <span class="hljs-number">3.171538e+10</span>  
<span class="hljs-number">1</span>   <span class="hljs-number">3.178079e+10</span>  
<span class="hljs-number">2</span>   <span class="hljs-number">3.185376e+10</span>  
<span class="hljs-number">3</span>   <span class="hljs-number">3.193569e+10</span>  
<span class="hljs-number">4</span>   <span class="hljs-number">3.198723e+10</span>  
<span class="hljs-number">5</span>   <span class="hljs-number">3.204712e+10</span>  
<span class="hljs-number">6</span>   <span class="hljs-number">3.212560e+10</span>  
<span class="hljs-number">7</span>   <span class="hljs-number">3.217697e+10</span>  
<span class="hljs-number">8</span>   <span class="hljs-number">3.224518e+10</span>  
<span class="hljs-number">9</span>   <span class="hljs-number">3.231385e+10</span>  
<span class="hljs-number">10</span>  <span class="hljs-number">3.236239e+10</span>  
<span class="hljs-number">11</span>  <span class="hljs-number">3.242965e+10</span>  
​
</code></pre><p></p></article>



    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h2 id="因子数据（含新接口）">因子数据（含新接口）</h2>

<h3 id="聚宽因子库">聚宽因子库</h3>
<ul>
<li><strong>更新时间：2005年至今，下一自然日5:00、8:00更新</strong></li>
<li><strong>复权方式：后复权</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label>get_factor_values<span id="get_factor_values"></span> </label>
      <label>因子值</label>
      <article style="display: block; height: 1097.73px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs"><span class="hljs-comment"># 导入函数库</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> get_factor_values
<span class="hljs-comment"># 取值函数</span>
get_factor_values(securities, factors, start_date, end_date, count)
</code></pre>
<p><strong>参数</strong></p>
<ul>
<li>securities:股票池，单只股票（字符串）或一个股票列表</li>
<li>factors: 因子名称，单个因子（字符串）或一个因子列表</li>
<li>start_date:开始日期，字符串或 datetime 对象，与 coun t参数二选一</li>
<li>end_date: 结束日期， 字符串或 datetime 对象，可以与 start_date 或 count 配合使用</li>
<li>count: 截止 end_date 之前交易日的数量（含 end_date 当日），与 start_date 参数二选一</li>
</ul>
<p><strong>返回</strong></p>
<ul>
<li><p>一个 dict： key 是因子名称， value 是 pandas.dataframe。</p></li>
<li><p>dataframe 的 index 是日期， column 是股票代码， value 是因子值</p></li>
<li><p>注：1.为保证数据的连续性，所有数据基于后复权计算</p>
<p>​    2.为了防止单次返回数据时间过长，每次调用 api 请求的因子值不能超过 200000 个</p></li>
</ul>
<p><strong>购买</strong>
用户如有需要使用聚宽因子的，请联系我们的运营同事。<strong>个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong></p>
<p><strong>示例</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入函数库</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> get_factor_values

<span class="hljs-comment"># 获取因子Skewness60(个股收益的60日偏度)从 2017-01-01 至 2017-03-04 的因子值</span>
factor_data = get_factor_values(securities=[<span class="hljs-string">'000001.XSHE'</span>], factors=[<span class="hljs-string">'Skewness60'</span>,<span class="hljs-string">'DEGM'</span>,<span class="hljs-string">'quick_ratio'</span>], start_date=<span class="hljs-string">'2017-01-01'</span>, end_date=<span class="hljs-string">'2017-03-04'</span>)
<span class="hljs-comment"># 查看因子值</span>
print(factor_data[<span class="hljs-string">'Skewness60'</span>][:<span class="hljs-number">5</span>])

            <span class="hljs-number">000001.</span>XSHE
<span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-03</span>    <span class="hljs-number">-0.002081</span>
<span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-04</span>     <span class="hljs-number">0.021962</span>
<span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-05</span>    <span class="hljs-number">-0.003263</span>
<span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span>    <span class="hljs-number">-0.007545</span>
<span class="hljs-number">2017</span><span class="hljs-number">-01</span><span class="hljs-number">-09</span>    <span class="hljs-number">-0.007441</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label>get_all_factors<span id="get_all_factors"></span> </label>
      <label>聚宽因子库中所有的因子</label>
      <article style="display: block; height: 528.328px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python hljs">get_all_factors()
</code></pre>
<p>描述：获取聚宽因子库中所有的因子code和因子名称</p>
<p><strong>参数</strong>：无</p>
<p><strong>返回</strong>：pandas.DataFrame，</p>
<ul>
<li>factor:因子code</li>
<li>factor_intro:因子说明 </li>
<li>category:因子分类名称 </li>
<li>category_intro:因子分类说明</li>
</ul>
<p><strong>示例</strong>：</p>
<pre><code class="python language-python hljs"><span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> *
<span class="hljs-comment">#获取聚宽因子库所有因子</span>
df = get_all_factors()
print(df) 
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label>get_factor_effect<span id="get_factor_effect"></span> </label>
      <label>单因子分层回测函数</label>
      <article style="display: block; height: 2266.64px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="Python language-Python hljs">get_factor_effect(security, start_date, end_date, period, factor, group_num=<span class="hljs-number">5</span>)
</code></pre>
<p><strong>单因子分层回测函数</strong>是为了检测单个因子的选股收益效果而设计。指定股票池，根据因子值从小到大将股票池等分成几组，按照一定的调仓周期进行交易，从而得到各个股票组合从开始交易至各个调仓周期结束日期的累计收益，最后从各组股票的收益情况来判断因子的选股效果。</p>
<p><strong>输入参数：</strong></p>
<table>
<thead>
<tr>
<th>参数</th>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>security</td>
<td>指数代码（如传入沪深300指数：000300.XSHG）</td>
<td>指数的成分股作为基础股票池</td>
</tr>
<tr>
<td>start_date</td>
<td>开始交易日期</td>
<td></td>
</tr>
<tr>
<td>end_date</td>
<td>结束交易日期</td>
<td></td>
</tr>
<tr>
<td>period</td>
<td>调仓周期，传入'XD'，'XW'，'XM'，分别代表按X个交易日调仓，按X周调仓，按X月调仓。</td>
<td>D代表交易日，W代表自然周，M代表自然月</td>
</tr>
<tr>
<td>factor</td>
<td>因子库的因子名称，如传入营业收入TTM：'operating_revenue_ttm'</td>
<td></td>
</tr>
<tr>
<td>group_num</td>
<td>股票分组数，默认5组</td>
<td>每次调仓根据股票池中各个股票的因子值，按照从小到大排序，然后等分成group_num个股票组合</td>
</tr>
</tbody>
</table>
<p><strong>返回结果：</strong></p>
<p>返回DataFrame结果：输出从开始日期到各个调仓周期结束日期的累计收益</p>
<p><strong>示例：</strong></p>
<pre><code class="Python language-Python hljs"><span class="hljs-comment">#获取聚宽因子库营业收入TTM因子“operating_revenue_ttm”的分层回测收益</span>
get_factor_effect(<span class="hljs-string">'000300.XSHG'</span>,<span class="hljs-string">'2018-01-01'</span>,<span class="hljs-string">'2019-03-14'</span>,<span class="hljs-string">'1W'</span>,<span class="hljs-string">'operating_revenue_ttm'</span>,<span class="hljs-number">5</span>)
                  <span class="hljs-number">0</span>         <span class="hljs-number">1</span>         <span class="hljs-number">2</span>         <span class="hljs-number">3</span>         <span class="hljs-number">4</span>
<span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-02</span>  <span class="hljs-number">0.000000</span>  <span class="hljs-number">0.000000</span>  <span class="hljs-number">0.000000</span>  <span class="hljs-number">0.000000</span>  <span class="hljs-number">0.000000</span>
<span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-07</span>  <span class="hljs-number">0.016188</span>  <span class="hljs-number">0.022237</span>  <span class="hljs-number">0.022782</span>  <span class="hljs-number">0.034021</span>  <span class="hljs-number">0.019601</span>
<span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-14</span>  <span class="hljs-number">0.016673</span>  <span class="hljs-number">0.027506</span>  <span class="hljs-number">0.023735</span>  <span class="hljs-number">0.038333</span>  <span class="hljs-number">0.028146</span>
<span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-21</span>  <span class="hljs-number">0.010664</span>  <span class="hljs-number">0.021467</span>  <span class="hljs-number">0.019280</span>  <span class="hljs-number">0.047467</span>  <span class="hljs-number">0.051798</span>
<span class="hljs-number">2018</span><span class="hljs-number">-01</span><span class="hljs-number">-28</span>  <span class="hljs-number">0.029561</span>  <span class="hljs-number">0.045975</span>  <span class="hljs-number">0.035523</span>  <span class="hljs-number">0.068780</span>  <span class="hljs-number">0.069267</span>
<span class="hljs-number">2018</span><span class="hljs-number">-02</span><span class="hljs-number">-04</span> <span class="hljs-number">-0.043394</span> <span class="hljs-number">-0.024648</span> <span class="hljs-number">-0.018661</span>  <span class="hljs-number">0.019054</span>  <span class="hljs-number">0.032855</span>
<span class="hljs-number">2018</span><span class="hljs-number">-02</span><span class="hljs-number">-11</span> <span class="hljs-number">-0.089295</span> <span class="hljs-number">-0.074211</span> <span class="hljs-number">-0.077474</span> <span class="hljs-number">-0.052757</span> <span class="hljs-number">-0.039418</span>
<span class="hljs-number">2018</span><span class="hljs-number">-02</span><span class="hljs-number">-18</span> <span class="hljs-number">-0.073470</span> <span class="hljs-number">-0.054493</span> <span class="hljs-number">-0.054195</span> <span class="hljs-number">-0.033000</span> <span class="hljs-number">-0.019903</span>
<span class="hljs-number">2018</span><span class="hljs-number">-02</span><span class="hljs-number">-25</span> <span class="hljs-number">-0.067193</span> <span class="hljs-number">-0.041986</span> <span class="hljs-number">-0.042457</span> <span class="hljs-number">-0.021707</span> <span class="hljs-number">-0.007593</span>
<span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-04</span> <span class="hljs-number">-0.033245</span> <span class="hljs-number">-0.025273</span> <span class="hljs-number">-0.030161</span> <span class="hljs-number">-0.033868</span> <span class="hljs-number">-0.045769</span>
<span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-11</span> <span class="hljs-number">-0.020114</span> <span class="hljs-number">-0.021214</span> <span class="hljs-number">-0.013208</span> <span class="hljs-number">-0.019305</span> <span class="hljs-number">-0.030632</span>
<span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-18</span> <span class="hljs-number">-0.029137</span> <span class="hljs-number">-0.032529</span> <span class="hljs-number">-0.021925</span> <span class="hljs-number">-0.027630</span> <span class="hljs-number">-0.041352</span>
<span class="hljs-number">2018</span><span class="hljs-number">-03</span><span class="hljs-number">-25</span> <span class="hljs-number">-0.064177</span> <span class="hljs-number">-0.064671</span> <span class="hljs-number">-0.058877</span> <span class="hljs-number">-0.061889</span> <span class="hljs-number">-0.085263</span>
<span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-01</span> <span class="hljs-number">-0.003285</span> <span class="hljs-number">-0.028887</span> <span class="hljs-number">-0.033231</span> <span class="hljs-number">-0.046336</span> <span class="hljs-number">-0.076845</span>
<span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-08</span> <span class="hljs-number">-0.006359</span> <span class="hljs-number">-0.031904</span> <span class="hljs-number">-0.038573</span> <span class="hljs-number">-0.051862</span> <span class="hljs-number">-0.088896</span>
<span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-15</span>  <span class="hljs-number">0.004866</span> <span class="hljs-number">-0.021881</span> <span class="hljs-number">-0.025195</span> <span class="hljs-number">-0.035230</span> <span class="hljs-number">-0.070057</span>
<span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-22</span> <span class="hljs-number">-0.006075</span> <span class="hljs-number">-0.032995</span> <span class="hljs-number">-0.042340</span> <span class="hljs-number">-0.050449</span> <span class="hljs-number">-0.088741</span>
<span class="hljs-number">2018</span><span class="hljs-number">-04</span><span class="hljs-number">-29</span> <span class="hljs-number">-0.009586</span> <span class="hljs-number">-0.036259</span> <span class="hljs-number">-0.043901</span> <span class="hljs-number">-0.051380</span> <span class="hljs-number">-0.076490</span>
<span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-06</span> <span class="hljs-number">-0.005316</span> <span class="hljs-number">-0.034041</span> <span class="hljs-number">-0.036198</span> <span class="hljs-number">-0.047776</span> <span class="hljs-number">-0.075190</span>
<span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-13</span>  <span class="hljs-number">0.014917</span> <span class="hljs-number">-0.009112</span> <span class="hljs-number">-0.013855</span> <span class="hljs-number">-0.023397</span> <span class="hljs-number">-0.053566</span>
<span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-20</span>  <span class="hljs-number">0.011802</span> <span class="hljs-number">-0.002750</span> <span class="hljs-number">-0.015573</span> <span class="hljs-number">-0.024692</span> <span class="hljs-number">-0.063800</span>
<span class="hljs-number">2018</span><span class="hljs-number">-05</span><span class="hljs-number">-27</span>  <span class="hljs-number">0.001798</span> <span class="hljs-number">-0.013322</span> <span class="hljs-number">-0.031322</span> <span class="hljs-number">-0.045623</span> <span class="hljs-number">-0.086970</span>
<span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-03</span> <span class="hljs-number">-0.040517</span> <span class="hljs-number">-0.030385</span> <span class="hljs-number">-0.044497</span> <span class="hljs-number">-0.060837</span> <span class="hljs-number">-0.100368</span>
<span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-10</span> <span class="hljs-number">-0.040419</span> <span class="hljs-number">-0.027619</span> <span class="hljs-number">-0.045175</span> <span class="hljs-number">-0.049896</span> <span class="hljs-number">-0.091778</span>
<span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-17</span> <span class="hljs-number">-0.053201</span> <span class="hljs-number">-0.041341</span> <span class="hljs-number">-0.062207</span> <span class="hljs-number">-0.043582</span> <span class="hljs-number">-0.088657</span>
<span class="hljs-number">2018</span><span class="hljs-number">-06</span><span class="hljs-number">-24</span> <span class="hljs-number">-0.112111</span> <span class="hljs-number">-0.097411</span> <span class="hljs-number">-0.112584</span> <span class="hljs-number">-0.076721</span> <span class="hljs-number">-0.122632</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-01</span> <span class="hljs-number">-0.124040</span> <span class="hljs-number">-0.126341</span> <span class="hljs-number">-0.142075</span> <span class="hljs-number">-0.130394</span> <span class="hljs-number">-0.168522</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-08</span> <span class="hljs-number">-0.154623</span> <span class="hljs-number">-0.166611</span> <span class="hljs-number">-0.183293</span> <span class="hljs-number">-0.167979</span> <span class="hljs-number">-0.206130</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-15</span> <span class="hljs-number">-0.131941</span> <span class="hljs-number">-0.135819</span> <span class="hljs-number">-0.152597</span> <span class="hljs-number">-0.142129</span> <span class="hljs-number">-0.179568</span>
<span class="hljs-number">2018</span><span class="hljs-number">-07</span><span class="hljs-number">-22</span> <span class="hljs-number">-0.149347</span> <span class="hljs-number">-0.149766</span> <span class="hljs-number">-0.158073</span> <span class="hljs-number">-0.158747</span> <span class="hljs-number">-0.191595</span>
<span class="hljs-meta">... </span>             ...       ...       ...       ...       ...
<span class="hljs-number">2018</span><span class="hljs-number">-08</span><span class="hljs-number">-26</span> <span class="hljs-number">-0.169002</span> <span class="hljs-number">-0.177045</span> <span class="hljs-number">-0.164723</span> <span class="hljs-number">-0.147438</span> <span class="hljs-number">-0.165472</span>
<span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-02</span> <span class="hljs-number">-0.164746</span> <span class="hljs-number">-0.176812</span> <span class="hljs-number">-0.161130</span> <span class="hljs-number">-0.143572</span> <span class="hljs-number">-0.164895</span>
<span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-09</span> <span class="hljs-number">-0.162940</span> <span class="hljs-number">-0.184331</span> <span class="hljs-number">-0.165968</span> <span class="hljs-number">-0.155226</span> <span class="hljs-number">-0.178692</span>
<span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-16</span> <span class="hljs-number">-0.177941</span> <span class="hljs-number">-0.193842</span> <span class="hljs-number">-0.172332</span> <span class="hljs-number">-0.159286</span> <span class="hljs-number">-0.178187</span>
<span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-23</span> <span class="hljs-number">-0.163193</span> <span class="hljs-number">-0.175474</span> <span class="hljs-number">-0.156346</span> <span class="hljs-number">-0.135481</span> <span class="hljs-number">-0.155490</span>
<span class="hljs-number">2018</span><span class="hljs-number">-09</span><span class="hljs-number">-30</span> <span class="hljs-number">-0.164912</span> <span class="hljs-number">-0.172917</span> <span class="hljs-number">-0.145858</span> <span class="hljs-number">-0.133545</span> <span class="hljs-number">-0.151764</span>
<span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-07</span> <span class="hljs-number">-0.164912</span> <span class="hljs-number">-0.172917</span> <span class="hljs-number">-0.145858</span> <span class="hljs-number">-0.133545</span> <span class="hljs-number">-0.151764</span>
<span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-14</span> <span class="hljs-number">-0.259750</span> <span class="hljs-number">-0.248041</span> <span class="hljs-number">-0.215601</span> <span class="hljs-number">-0.196959</span> <span class="hljs-number">-0.208112</span>
<span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-21</span> <span class="hljs-number">-0.303351</span> <span class="hljs-number">-0.291153</span> <span class="hljs-number">-0.270591</span> <span class="hljs-number">-0.244878</span> <span class="hljs-number">-0.254668</span>
<span class="hljs-number">2018</span><span class="hljs-number">-10</span><span class="hljs-number">-28</span> <span class="hljs-number">-0.264349</span> <span class="hljs-number">-0.272121</span> <span class="hljs-number">-0.256642</span> <span class="hljs-number">-0.227903</span> <span class="hljs-number">-0.238259</span>
<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-04</span> <span class="hljs-number">-0.225268</span> <span class="hljs-number">-0.236059</span> <span class="hljs-number">-0.227813</span> <span class="hljs-number">-0.204811</span> <span class="hljs-number">-0.219570</span>
<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-11</span> <span class="hljs-number">-0.244029</span> <span class="hljs-number">-0.253912</span> <span class="hljs-number">-0.241129</span> <span class="hljs-number">-0.218995</span> <span class="hljs-number">-0.233955</span>
<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-18</span> <span class="hljs-number">-0.189706</span> <span class="hljs-number">-0.223133</span> <span class="hljs-number">-0.209761</span> <span class="hljs-number">-0.195135</span> <span class="hljs-number">-0.214504</span>
<span class="hljs-number">2018</span><span class="hljs-number">-11</span><span class="hljs-number">-25</span> <span class="hljs-number">-0.203514</span> <span class="hljs-number">-0.237002</span> <span class="hljs-number">-0.229146</span> <span class="hljs-number">-0.207192</span> <span class="hljs-number">-0.223062</span>
<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-02</span> <span class="hljs-number">-0.210628</span> <span class="hljs-number">-0.247018</span> <span class="hljs-number">-0.229002</span> <span class="hljs-number">-0.207702</span> <span class="hljs-number">-0.229168</span>
<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-09</span> <span class="hljs-number">-0.240338</span> <span class="hljs-number">-0.252045</span> <span class="hljs-number">-0.242047</span> <span class="hljs-number">-0.220732</span> <span class="hljs-number">-0.244116</span>
<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-16</span> <span class="hljs-number">-0.233411</span> <span class="hljs-number">-0.243337</span> <span class="hljs-number">-0.233622</span> <span class="hljs-number">-0.204193</span> <span class="hljs-number">-0.231376</span>
<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-23</span> <span class="hljs-number">-0.252406</span> <span class="hljs-number">-0.264364</span> <span class="hljs-number">-0.252982</span> <span class="hljs-number">-0.218965</span> <span class="hljs-number">-0.252012</span>
<span class="hljs-number">2018</span><span class="hljs-number">-12</span><span class="hljs-number">-30</span> <span class="hljs-number">-0.265173</span> <span class="hljs-number">-0.275675</span> <span class="hljs-number">-0.258506</span> <span class="hljs-number">-0.224265</span> <span class="hljs-number">-0.260110</span>
<span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-06</span> <span class="hljs-number">-0.284588</span> <span class="hljs-number">-0.298950</span> <span class="hljs-number">-0.286530</span> <span class="hljs-number">-0.239417</span> <span class="hljs-number">-0.274474</span>
<span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-13</span> <span class="hljs-number">-0.283472</span> <span class="hljs-number">-0.298144</span> <span class="hljs-number">-0.272225</span> <span class="hljs-number">-0.232628</span> <span class="hljs-number">-0.271904</span>
<span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-20</span> <span class="hljs-number">-0.287051</span> <span class="hljs-number">-0.300502</span> <span class="hljs-number">-0.266322</span> <span class="hljs-number">-0.230273</span> <span class="hljs-number">-0.265460</span>
<span class="hljs-number">2019</span><span class="hljs-number">-01</span><span class="hljs-number">-27</span> <span class="hljs-number">-0.290530</span> <span class="hljs-number">-0.301049</span> <span class="hljs-number">-0.271329</span> <span class="hljs-number">-0.236393</span> <span class="hljs-number">-0.268858</span>
<span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-03</span> <span class="hljs-number">-0.311722</span> <span class="hljs-number">-0.316899</span> <span class="hljs-number">-0.288474</span> <span class="hljs-number">-0.233212</span> <span class="hljs-number">-0.261969</span>
<span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-10</span> <span class="hljs-number">-0.311722</span> <span class="hljs-number">-0.316899</span> <span class="hljs-number">-0.288474</span> <span class="hljs-number">-0.233212</span> <span class="hljs-number">-0.261969</span>
<span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-17</span> <span class="hljs-number">-0.266305</span> <span class="hljs-number">-0.269386</span> <span class="hljs-number">-0.243151</span> <span class="hljs-number">-0.192969</span> <span class="hljs-number">-0.234676</span>
<span class="hljs-number">2019</span><span class="hljs-number">-02</span><span class="hljs-number">-24</span> <span class="hljs-number">-0.234200</span> <span class="hljs-number">-0.246632</span> <span class="hljs-number">-0.223176</span> <span class="hljs-number">-0.176753</span> <span class="hljs-number">-0.221142</span>
<span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-03</span> <span class="hljs-number">-0.205863</span> <span class="hljs-number">-0.215581</span> <span class="hljs-number">-0.197200</span> <span class="hljs-number">-0.146078</span> <span class="hljs-number">-0.185385</span>
<span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-10</span> <span class="hljs-number">-0.178159</span> <span class="hljs-number">-0.206479</span> <span class="hljs-number">-0.191125</span> <span class="hljs-number">-0.132881</span> <span class="hljs-number">-0.188446</span>
<span class="hljs-number">2019</span><span class="hljs-number">-03</span><span class="hljs-number">-17</span> <span class="hljs-number">-0.170113</span> <span class="hljs-number">-0.198817</span> <span class="hljs-number">-0.188283</span> <span class="hljs-number">-0.121740</span> <span class="hljs-number">-0.177256</span>
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label>因子列表<span id="因子列表"></span> </label>
      <label>因子列表</label>
      <article style="display: block; height: 20413.1px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>说明：</strong>  </p>
<ul>
<li>在单因子分析中可以直接获取因子库中的数据  </li>
<li>同时也可以通过API的形式，在其他模块中获取这些因子  </li>
<li>为保证数据的连续性，所有数据基于<strong>后复权</strong>计算  </li>
<li>涉及到财务数据的因子，使用季报数据进行计算  </li>
<li>为了防止单次返回数据时间过长，每次调用 api 请求的因子值不能超过 200000 个  </li>
<li>频率为天，每天05：00更新前一天数据  </li>
<li>提供股票的因子数据，不支持期货、指数等  </li>
<li>因子库中nan值：缺少依赖数据;财务数据中如果标的未披露相关字段,依赖数据不完整的话会返回nan值,请注意到财务报表披露规则变更,标的报表披露形式(金融类,非金融类等) , 以及标的上市时间等  </li>
<li>有关因子处理：仅风格因子有进行去极值及标准化的处理(风格因子的基础因子为原始因子)</li>
</ul>
<p><strong>基础因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>net_working_capital</td>
<td>净运营资本</td>
<td>流动资产 － 流动负债</td>
</tr>
<tr>
<td>total_operating_revenue_ttm</td>
<td>营业总收入TTM</td>
<td>计算过去12个月的 营业总收入 之和</td>
</tr>
<tr>
<td>operating_profit_ttm</td>
<td>营业利润TTM</td>
<td>计算过去12个月 营业利润 之和</td>
</tr>
<tr>
<td>net_operate_cash_flow_ttm</td>
<td>经营活动现金流量净额TTM</td>
<td>计算过去12个月 经营活动产生的现金流量净值 之和</td>
</tr>
<tr>
<td>operating_revenue_ttm</td>
<td>营业收入TTM</td>
<td>计算过去12个月的 营业收入 之和</td>
</tr>
<tr>
<td>interest_carry_current_liability</td>
<td>带息流动负债</td>
<td>流动负债合计 - 无息流动负债</td>
</tr>
<tr>
<td>sale_expense_ttm</td>
<td>销售费用TTM</td>
<td>计算过去12个月 销售费用 之和</td>
</tr>
<tr>
<td>retained_earnings</td>
<td>留存收益</td>
<td>盈余公积金+未分配利润</td>
</tr>
<tr>
<td>total_operating_cost_ttm</td>
<td>营业总成本TTM</td>
<td>计算过去12个月的 营业总成本 之和</td>
</tr>
<tr>
<td>non_operating_net_profit_ttm</td>
<td>营业外收支净额TTM</td>
<td>营业外收入（TTM） - 营业外支出（TTM）</td>
</tr>
<tr>
<td>net_invest_cash_flow_ttm</td>
<td>投资活动现金流量净额TTM</td>
<td>计算过去12个月 投资活动现金流量净额 之和</td>
</tr>
<tr>
<td>financial_expense_ttm</td>
<td>财务费用TTM</td>
<td>计算过去12个月 财务费用 之和</td>
</tr>
<tr>
<td>administration_expense_ttm</td>
<td>管理费用TTM</td>
<td>计算过去12个月 管理费用 之和</td>
</tr>
<tr>
<td>net_interest_expense</td>
<td>净利息费用</td>
<td>利息支出-利息收入</td>
</tr>
<tr>
<td>value_change_profit_ttm</td>
<td>价值变动净收益TTM</td>
<td>计算过去12个月 价值变动净收益 之和</td>
</tr>
<tr>
<td>total_profit_ttm</td>
<td>利润总额TTM</td>
<td>计算过去12个月 利润总额 之和</td>
</tr>
<tr>
<td>net_finance_cash_flow_ttm</td>
<td>筹资活动现金流量净额TTM</td>
<td>计算过去12个月 筹资活动现金流量净额 之和</td>
</tr>
<tr>
<td>interest_free_current_liability</td>
<td>无息流动负债</td>
<td>应付票据+应付账款+预收账款(用 预售款项 代替)+应交税费+应付利息+其他应付款+其他流动负债</td>
</tr>
<tr>
<td>EBIT</td>
<td>息税前利润</td>
<td>净利润+所得税+财务费用</td>
</tr>
<tr>
<td>net_profit_ttm</td>
<td>净利润TTM</td>
<td>计算过去12个月 净利润 之和</td>
</tr>
<tr>
<td>OperateNetIncome</td>
<td>经营活动净收益</td>
<td>经营活动净收益/利润总额(%) * 利润总额</td>
</tr>
<tr>
<td>EBITDA</td>
<td>息税折旧摊销前利润（报告期）</td>
<td>一般企业：（营业总收入-营业税金及附加）-（营业成本+利息支出+手续费及佣金支出+销售费用+管理费用+研发费用+资产减值损失）+（固定资产折旧、油气资产折耗、生产性生物资产折旧）+无形资产摊销+长期待摊费用摊销;银行业：（营业总收入-营业税金及附加）-（营业成本+管理费用+资产减值损失）+（固定资产折旧、油气资产折耗、生产性生物资产折旧+无形资产摊销+长期待摊费用摊销）+无形资产摊销+长期待摊费用摊销</td>
</tr>
<tr>
<td>asset_impairment_loss_ttm</td>
<td>资产减值损失TTM</td>
<td>计算过去12个月 资产减值损失 之和</td>
</tr>
<tr>
<td>np_parent_company_owners_ttm</td>
<td>归属于母公司股东的净利润TTM</td>
<td>计算过去12个月 归属于母公司股东的净利润 之和</td>
</tr>
<tr>
<td>operating_cost_ttm</td>
<td>营业成本TTM</td>
<td>计算过去12个月的 营业成本 之和</td>
</tr>
<tr>
<td>net_debt</td>
<td>净债务</td>
<td>总债务-期末现金及现金等价物余额</td>
</tr>
<tr>
<td>non_recurring_gain_loss</td>
<td>非经常性损益</td>
<td>归属于母公司股东的净利润-扣除非经常损益后的净利润(元)</td>
</tr>
<tr>
<td>goods_sale_and_service_render_cash_ttm</td>
<td>销售商品提供劳务收到的现金</td>
<td>计算过去12个月 销售商品提供劳务收到的现金 之和</td>
</tr>
<tr>
<td>market_cap</td>
<td>市值</td>
<td>市值</td>
</tr>
<tr>
<td>cash_flow_to_price_ratio</td>
<td>现金流市值比</td>
<td>1 / pcf_ratio (ttm)</td>
</tr>
<tr>
<td>sales_to_price_ratio</td>
<td>营收市值比</td>
<td>1 / ps_ratio (ttm)</td>
</tr>
<tr>
<td>circulating_market_cap</td>
<td>流通市值</td>
<td>流通市值</td>
</tr>
<tr>
<td>operating_assets</td>
<td>经营性资产</td>
<td>总资产 - 金融资产</td>
</tr>
<tr>
<td>financial_assets</td>
<td>金融资产</td>
<td>货币资金 + 交易性金融资产 + 应收票据 + 应收利息 + 应收股利 + 可供出售金融资产 + 持有至到期投资</td>
</tr>
<tr>
<td>operating_liability</td>
<td>经营性负债</td>
<td>总负债 - 金融负债</td>
</tr>
<tr>
<td>financial_liability</td>
<td>金融负债</td>
<td>(流动负债合计-无息流动负债)+(有息非流动负债)=(流动负债合计-应付账款-预收款项-应付职工薪酬-应交税费-其他应付款-一年内的递延收益-其它流动负债)+(长期借款+应付债券)</td>
</tr>
</tbody>
</table>
<p><strong>质量因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>net_profit_to_total_operate_revenue_ttm</td>
<td>净利润与营业总收入之比</td>
<td>净利润与营业总收入之比=净利润（TTM）/营业总收入（TTM）</td>
</tr>
<tr>
<td>cfo_to_ev</td>
<td>经营活动产生的现金流量净额与企业价值之比TTM</td>
<td>经营活动产生的现金流量净额TTM / 企业价值。其中，企业价值=司市值+负债合计-货币资金</td>
</tr>
<tr>
<td>accounts_payable_turnover_days</td>
<td>应付账款周转天数</td>
<td>应付账款周转天数 = 360 / 应付账款周转率</td>
</tr>
<tr>
<td>net_profit_ratio</td>
<td>销售净利率</td>
<td>售净利率=净利润（TTM）/营业收入（TTM）</td>
</tr>
<tr>
<td>net_non_operating_income_to_total_profit</td>
<td>营业外收支利润净额/利润总额</td>
<td>营业外收支利润净额/利润总额</td>
</tr>
<tr>
<td>fixed_asset_ratio</td>
<td>固定资产比率</td>
<td>固定资产比率=(固定资产+工程物资+在建工程)/总资产</td>
</tr>
<tr>
<td>account_receivable_turnover_days</td>
<td>应收账款周转天数</td>
<td>应收账款周转天数=360/应收账款周转率</td>
</tr>
<tr>
<td>DEGM</td>
<td>毛利率增长</td>
<td>毛利率增长=(今年毛利率（TTM）/去年毛利率（TTM）)-1</td>
</tr>
<tr>
<td>sale_expense_to_operating_revenue</td>
<td>营业费用与营业总收入之比</td>
<td>营业费用与营业总收入之比=销售费用（TTM）/营业总收入（TTM）</td>
</tr>
<tr>
<td>operating_tax_to_operating_revenue_ratio_ttm</td>
<td>销售税金率</td>
<td>销售税金率=营业税金及附加（TTM）/营业收入（TTM）</td>
</tr>
<tr>
<td>inventory_turnover_days</td>
<td>存货周转天数</td>
<td>存货周转天数=360/存货周转率</td>
</tr>
<tr>
<td>OperatingCycle</td>
<td>营业周期</td>
<td>应收账款周转天数+存货周转天数</td>
</tr>
<tr>
<td>net_operate_cash_flow_to_operate_income</td>
<td>经营活动产生的现金流量净额与经营活动净收益之比</td>
<td>经营活动产生的现金流量净额（TTM）/(营业总收入（TTM）-营业总成本（TTM）</td>
</tr>
<tr>
<td>net_operating_cash_flow_coverage</td>
<td>净利润现金含量</td>
<td>经营活动产生的现金流量净额/归属于母公司所有者的净利润</td>
</tr>
<tr>
<td>quick_ratio</td>
<td>速动比率</td>
<td>速动比率=(流动资产合计-存货)/ 流动负债合计</td>
</tr>
<tr>
<td>intangible_asset_ratio</td>
<td>无形资产比率</td>
<td>无形资产比率=(无形资产+研发支出+商誉)/总资产</td>
</tr>
<tr>
<td>MLEV</td>
<td>市场杠杆</td>
<td>市场杠杆=非流动负债合计/(非流动负债合计+总市值)</td>
</tr>
<tr>
<td>debt_to_equity_ratio</td>
<td>产权比率</td>
<td>产权比率=负债合计/归属母公司所有者权益合计</td>
</tr>
<tr>
<td>super_quick_ratio</td>
<td>超速动比率</td>
<td>（货币资金+交易性金融资产+应收票据+应收帐款+其他应收款）／流动负债合计</td>
</tr>
<tr>
<td>inventory_turnover_rate</td>
<td>存货周转率</td>
<td>存货周转率=营业成本（TTM）/存货</td>
</tr>
<tr>
<td>operating_profit_growth_rate</td>
<td>营业利润增长率</td>
<td>营业利润增长率=(今年营业利润（TTM）/去年营业利润（TTM）)-1</td>
</tr>
<tr>
<td>long_debt_to_working_capital_ratio</td>
<td>长期负债与营运资金比率</td>
<td>长期负债与营运资金比率=非流动负债合计/(流动资产合计-流动负债合计)</td>
</tr>
<tr>
<td>current_ratio</td>
<td>流动比率(单季度)</td>
<td>流动比率=流动资产合计/流动负债合计</td>
</tr>
<tr>
<td>net_operate_cash_flow_to_net_debt</td>
<td>经营活动产生现金流量净额/净债务</td>
<td>经营活动产生现金流量净额/净债务</td>
</tr>
<tr>
<td>net_operate_cash_flow_to_asset</td>
<td>总资产现金回收率</td>
<td>经营活动产生的现金流量净额(ttm) / 总资产</td>
</tr>
<tr>
<td>non_current_asset_ratio</td>
<td>非流动资产比率</td>
<td>非流动资产比率=非流动资产合计/总资产</td>
</tr>
<tr>
<td>total_asset_turnover_rate</td>
<td>总资产周转率</td>
<td>总资产周转率=营业收入(ttm)/总资产</td>
</tr>
<tr>
<td>long_debt_to_asset_ratio</td>
<td>长期借款与资产总计之比</td>
<td>长期借款与资产总计之比=长期借款/总资产</td>
</tr>
<tr>
<td>debt_to_tangible_equity_ratio</td>
<td>有形净值债务率</td>
<td>负债合计/有形净值  其中有形净值=股东权益-无形资产净值，无形资产净值= 商誉+无形资产</td>
</tr>
<tr>
<td>ROAEBITTTM</td>
<td>总资产报酬率</td>
<td>（利润总额（TTM）+利息支出（TTM）） / 总资产在过去12个月的平均</td>
</tr>
<tr>
<td>operating_profit_ratio</td>
<td>营业利润率</td>
<td>营业利润率=营业利润（TTM）/营业收入（TTM）</td>
</tr>
<tr>
<td>long_term_debt_to_asset_ratio</td>
<td>长期负债与资产总计之比</td>
<td>长期负债与资产总计之比=非流动负债合计/总资产</td>
</tr>
<tr>
<td>current_asset_turnover_rate</td>
<td>流动资产周转率TTM</td>
<td>过去12个月的营业收入/过去12个月的平均流动资产合计</td>
</tr>
<tr>
<td>financial_expense_rate</td>
<td>财务费用与营业总收入之比</td>
<td>财务费用（TTM） / 营业总收入（TTM）</td>
</tr>
<tr>
<td>operating_profit_to_total_profit</td>
<td>经营活动净收益/利润总额</td>
<td>经营活动净收益/利润总额</td>
</tr>
<tr>
<td>debt_to_asset_ratio</td>
<td>债务总资产比</td>
<td>债务总资产比=负债合计/总资产</td>
</tr>
<tr>
<td>equity_to_fixed_asset_ratio</td>
<td>股东权益与固定资产比率</td>
<td>股东权益与固定资产比率=股东权益/(固定资产+工程物资+在建工程)</td>
</tr>
<tr>
<td>net_operate_cash_flow_to_total_liability</td>
<td>经营活动产生的现金流量净额/负债合计</td>
<td>经营活动产生的现金流量净额/负债合计</td>
</tr>
<tr>
<td>cash_rate_of_sales</td>
<td>经营活动产生的现金流量净额与营业收入之比</td>
<td>经营活动产生的现金流量净额（TTM） / 营业收入（TTM）</td>
</tr>
<tr>
<td>operating_profit_to_operating_revenue</td>
<td>营业利润与营业总收入之比</td>
<td>营业利润与营业总收入之比=营业利润（TTM）/营业总收入（TTM）</td>
</tr>
<tr>
<td>roa_ttm</td>
<td>资产回报率TTM</td>
<td>资产回报率=净利润（TTM）/期末总资产</td>
</tr>
<tr>
<td>admin_expense_rate</td>
<td>管理费用与营业总收入之比</td>
<td>管理费用与营业总收入之比=管理费用（TTM）/营业总收入（TTM）</td>
</tr>
<tr>
<td>fixed_assets_turnover_rate</td>
<td>固定资产周转率</td>
<td>等于过去12个月的营业收入/过去12个月的平均（固定资产+工程物资+在建工程）</td>
</tr>
<tr>
<td>invest_income_associates_to_total_profit</td>
<td>对联营和合营公司投资收益/利润总额</td>
<td>对联营和营公司投资收益/利润总额</td>
</tr>
<tr>
<td>equity_to_asset_ratio</td>
<td>股东权益比率</td>
<td>股东权益比率=股东权益/总资产</td>
</tr>
<tr>
<td>goods_service_cash_to_operating_revenue_ttm</td>
<td>销售商品提供劳务收到的现金与营业收入之比</td>
<td>销售商品提供劳务收到的现金与营业收入之比=销售商品和提供劳务收到的现金（TTM）/营业收入（TTM）</td>
</tr>
<tr>
<td>cash_to_current_liability</td>
<td>现金比率</td>
<td>期末现金及现金等价物余额/流动负债合计的12个月均值</td>
</tr>
<tr>
<td>net_operate_cash_flow_to_total_current_liability</td>
<td>现金流动负债比</td>
<td>现金流动负债比=经营活动产生的现金流量净额（TTM）/流动负债合计</td>
</tr>
<tr>
<td>ACCA</td>
<td>现金流资产比和资产回报率之差</td>
<td>现金流资产比-资产回报率,其中现金流资产比=经营活动产生的现金流量净额/总资产</td>
</tr>
<tr>
<td>roe_ttm</td>
<td>权益回报率TTM</td>
<td>权益回报率=净利润（TTM）/期末股东权益</td>
</tr>
<tr>
<td>accounts_payable_turnover_rate</td>
<td>应付账款周转率</td>
<td>TTM(营业成本,0)/（AvgQ(应付账款,4,0) + AvgQ(应付票据,4,0) + AvgQ(预付款项,4,0) ）</td>
</tr>
<tr>
<td>gross_income_ratio</td>
<td>销售毛利率</td>
<td>销售毛利率=(营业收入（TTM）-营业成本（TTM）)/营业收入（TTM）</td>
</tr>
<tr>
<td>adjusted_profit_to_total_profit</td>
<td>扣除非经常损益后的净利润/利润总额</td>
<td>扣除非经常损益后的净利润/利润总额</td>
</tr>
<tr>
<td>account_receivable_turnover_rate</td>
<td>应收账款周转率</td>
<td>即，TTM(营业收入,0)/（AvgQ(应收账款,4,0) + AvgQ(应收票据,4,0) + AvgQ(预收账款,4,0) ）</td>
</tr>
<tr>
<td>equity_turnover_rate</td>
<td>股东权益周转率</td>
<td>股东权益周转率=营业收入(ttm)/股东权益</td>
</tr>
<tr>
<td>total_profit_to_cost_ratio</td>
<td>成本费用利润率</td>
<td>成本费用利润率=利润总额/(营业成本+财务费用+销售费用+管理费用)，以上科目使用的都是TTM的数值</td>
</tr>
<tr>
<td>operating_cost_to_operating_revenue_ratio</td>
<td>销售成本率</td>
<td>销售成本率=营业成本（TTM）/营业收入（TTM）</td>
</tr>
<tr>
<td>LVGI</td>
<td>财务杠杆指数</td>
<td>本期(年报)资产负债率/上期(年报)资产负债率</td>
</tr>
<tr>
<td>SGI</td>
<td>营业收入指数</td>
<td>本期(年报)营业收入/上期(年报)营业收入</td>
</tr>
<tr>
<td>GMI</td>
<td>毛利率指数</td>
<td>上期(年报)毛利率/本期(年报)毛利率</td>
</tr>
<tr>
<td>DSRI</td>
<td>应收账款指数</td>
<td>本期(年报)应收账款占营业收入比例/上期(年报)应收账款占营业收入比例</td>
</tr>
<tr>
<td>rnoa_ttm</td>
<td>经营资产回报率TTM</td>
<td>销售利润率*经营资产周转率</td>
</tr>
<tr>
<td>profit_margin_ttm</td>
<td>销售利润率TTM</td>
<td>营业利润/营业收入</td>
</tr>
<tr>
<td>roe_ttm_8y</td>
<td>长期权益回报率TTM</td>
<td>8年(1+roe_ttm)的累乘 ^ (1/8) - 1  # 至少要有近4年的数据，否则为 nan</td>
</tr>
<tr>
<td>asset_turnover_ttm</td>
<td>经营资产周转率TTM</td>
<td>营业收入TTM/近4个季度期末净经营性资产均值; 净经营性资产=经营资产-经营负债</td>
</tr>
<tr>
<td>roic_ttm</td>
<td>投资资本回报率TTM</td>
<td>权益回报率=归属于母公司股东的净利润（TTM）/ 前四个季度投资资本均值; 投资资本=股东权益+负债合计-无息流动负债-无息非流动负债;             无息流动负债=应付账款+预收款项+应付职工薪酬+应交税费+其他应付款+一年内的递延收益+其它流动负债;             无息非流动负债=非流动负债合计-长期借款-应付债券；</td>
</tr>
<tr>
<td>roa_ttm_8y</td>
<td>长期资产回报率TTM</td>
<td>8年(1+roa_ttm)的乘积 ^ (1/8) - 1  # 至少要有近4年的数据，否则为 nan</td>
</tr>
<tr>
<td>SGAI</td>
<td>销售管理费用指数</td>
<td>本期(年报)销售管理费用占营业收入的比例/上期(年报)销售管理费用占营业收入的比例</td>
</tr>
<tr>
<td>DEGM_8y</td>
<td>长期毛利率增长</td>
<td>过去8年(1+DEGM)的累成 ^ (1/8) - 1</td>
</tr>
<tr>
<td>maximum_margin</td>
<td>最大盈利水平</td>
<td>max(margin_stability, DEGM_8y)</td>
</tr>
<tr>
<td>margin_stability</td>
<td>盈利能力稳定性</td>
<td>mean(GM)/std(GM); GM 为过去8年毛利率ttm</td>
</tr>
</tbody>
</table>
<p><strong>成长因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>operating_revenue_growth_rate</td>
<td>营业收入增长率</td>
<td>营业收入增长率=（今年营业收入（TTM）/去年营业收入（TTM））-1</td>
</tr>
<tr>
<td>total_asset_growth_rate</td>
<td>总资产增长率</td>
<td>总资产 / 总资产_4 -1</td>
</tr>
<tr>
<td>net_operate_cashflow_growth_rate</td>
<td>经营活动产生的现金流量净额增长率</td>
<td>(今年经营活动产生的现金流量净额（TTM）/去年经营活动产生的现金流量净额（TTM）)-1</td>
</tr>
<tr>
<td>total_profit_growth_rate</td>
<td>利润总额增长率</td>
<td>利润总额增长率=(今年利润总额（TTM）/去年利润总额（TTM）)-1</td>
</tr>
<tr>
<td>np_parent_company_owners_growth_rate</td>
<td>归属母公司股东的净利润增长率</td>
<td>(今年归属于母公司所有者的净利润（TTM）/去年归属于母公司所有者的净利润（TTM）)-1</td>
</tr>
<tr>
<td>financing_cash_growth_rate</td>
<td>筹资活动产生的现金流量净额增长率</td>
<td>过去12个月的筹资现金流量净额 / 4季度前的12个月的筹资现金流量净额 - 1</td>
</tr>
<tr>
<td>net_profit_growth_rate</td>
<td>净利润增长率</td>
<td>净利润增长率=(今年净利润（TTM）/去年净利润（TTM）)-1</td>
</tr>
<tr>
<td>net_asset_growth_rate</td>
<td>净资产增长率</td>
<td>（当季的股东权益/三季度前的股东权益）-1</td>
</tr>
<tr>
<td>PEG</td>
<td>市盈率相对盈利增长比率</td>
<td>PEG = PE / (归母公司净利润(TTM)增长率 * 100)  # 如果 PE 或 增长率为负，则为 nan</td>
</tr>
</tbody>
</table>
<p><strong>每股因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>total_operating_revenue_per_share_ttm</td>
<td>每股营业总收入TTM</td>
<td>营业总收入（TTM）除以总股本</td>
</tr>
<tr>
<td>cash_and_equivalents_per_share</td>
<td>每股现金及现金等价物余额</td>
<td>每股现金及现金等价物余额</td>
</tr>
<tr>
<td>surplus_reserve_fund_per_share</td>
<td>每股盈余公积金</td>
<td>每股盈余公积金</td>
</tr>
<tr>
<td>retained_profit_per_share</td>
<td>每股未分配利润</td>
<td>每股未分配利润</td>
</tr>
<tr>
<td>operating_revenue_per_share_ttm</td>
<td>每股营业收入TTM</td>
<td>营业收入（TTM）除以总股本</td>
</tr>
<tr>
<td>net_asset_per_share</td>
<td>每股净资产</td>
<td>归属母公司所有者权益合计除以总股本</td>
</tr>
<tr>
<td>total_operating_revenue_per_share</td>
<td>每股营业总收入</td>
<td>每股营业总收入</td>
</tr>
<tr>
<td>retained_earnings_per_share</td>
<td>每股留存收益</td>
<td>每股留存收益</td>
</tr>
<tr>
<td>operating_revenue_per_share</td>
<td>每股营业收入</td>
<td>每股营业收入</td>
</tr>
<tr>
<td>net_operate_cash_flow_per_share</td>
<td>每股经营活动产生的现金流量净额</td>
<td>每股经营活动产生的现金流量净额</td>
</tr>
<tr>
<td>operating_profit_per_share_ttm</td>
<td>每股营业利润TTM</td>
<td>营业利润（TTM）除以总股本</td>
</tr>
<tr>
<td>eps_ttm</td>
<td>每股收益TTM</td>
<td>过去12个月归属母公司所有者的净利润（TTM）除以总股本</td>
</tr>
<tr>
<td>cashflow_per_share_ttm</td>
<td>每股现金流量净额，根据当时日期来获取最近变更日的总股本</td>
<td>现金流量净额（TTM）除以总股本</td>
</tr>
<tr>
<td>operating_profit_per_share</td>
<td>每股营业利润</td>
<td>每股营业利润</td>
</tr>
<tr>
<td>capital_reserve_fund_per_share</td>
<td>每股资本公积金</td>
<td>每股资本公积金</td>
</tr>
</tbody>
</table>
<p><strong>情绪因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>VROC12</td>
<td>12日量变动速率指标</td>
<td>成交量减N日前的成交量，再除以N日前的成交量，放大100倍，得到VROC值 ，n=12</td>
</tr>
<tr>
<td>TVMA6</td>
<td>6日成交金额的移动平均值</td>
<td>6日成交金额的移动平均值</td>
</tr>
<tr>
<td>VEMA10</td>
<td>成交量的10日指数移动平均</td>
<td></td>
</tr>
<tr>
<td>VR</td>
<td>成交量比率（Volume Ratio）</td>
<td>VR=（AVS+1/2CVS）/（BVS+1/2CVS）</td>
</tr>
<tr>
<td>VOL5</td>
<td>5日平均换手率</td>
<td>5日换手率的均值,单位为%</td>
</tr>
<tr>
<td>BR</td>
<td>意愿指标</td>
<td>BR=N日内（当日最高价－昨日收盘价）之和 / N日内（昨日收盘价－当日最低价）之和×100 n设定为25</td>
</tr>
<tr>
<td>VEMA12</td>
<td>12日成交量的移动平均值</td>
<td></td>
</tr>
<tr>
<td>TVMA20</td>
<td>20日成交金额的移动平均值</td>
<td>20日成交金额的移动平均值</td>
</tr>
<tr>
<td>DAVOL5</td>
<td>5日平均换手率与120日平均换手率</td>
<td>5日平均换手率 / 120日平均换手率</td>
</tr>
<tr>
<td>VDIFF</td>
<td>计算VMACD因子的中间变量</td>
<td>EMA(VOLUME，SHORT)-EMA(VOLUME，LONG) short设置为12，long设置为26，M设置为9</td>
</tr>
<tr>
<td>WVAD</td>
<td>威廉变异离散量</td>
<td>(收盘价－开盘价)/(最高价－最低价)×成交量，再做加和，使用过去6个交易日的数据</td>
</tr>
<tr>
<td>MAWVAD</td>
<td>因子WVAD的6日均值</td>
<td></td>
</tr>
<tr>
<td>VSTD10</td>
<td>10日成交量标准差</td>
<td>10日成交量标准差</td>
</tr>
<tr>
<td>ATR14</td>
<td>14日均幅指标</td>
<td>真实振幅的14日移动平均</td>
</tr>
<tr>
<td>VOL10</td>
<td>10日平均换手率</td>
<td>10日换手率的均值,单位为%</td>
</tr>
<tr>
<td>DAVOL10</td>
<td>10日平均换手率与120日平均换手率之比</td>
<td>10日平均换手率 / 120日平均换手率</td>
</tr>
<tr>
<td>VDEA</td>
<td>计算VMACD因子的中间变量</td>
<td>EMA(VDIFF，M)    short设置为12，long设置为26，M设置为9</td>
</tr>
<tr>
<td>VSTD20</td>
<td>20日成交量标准差</td>
<td>20日成交量标准差</td>
</tr>
<tr>
<td>ATR6</td>
<td>6日均幅指标</td>
<td>真实振幅的6日移动平均</td>
</tr>
<tr>
<td>VOL20</td>
<td>20日平均换手率</td>
<td>20日换手率的均值,单位为%</td>
</tr>
<tr>
<td>DAVOL20</td>
<td>20日平均换手率与120日平均换手率之比</td>
<td>20日平均换手率 / 120日平均换手率</td>
</tr>
<tr>
<td>VMACD</td>
<td>成交量指数平滑异同移动平均线</td>
<td>快的指数移动平均线（EMA12）减去慢的指数移动平均线（EMA26）得到快线DIFF, 由DIFF的M日移动平均得到DEA，由DIFF-DEA的值得到MACD</td>
</tr>
<tr>
<td>AR</td>
<td>人气指标</td>
<td>AR=N日内（当日最高价—当日开市价）之和 / N日内（当日开市价—当日最低价）之和 * 100，n设定为26</td>
</tr>
<tr>
<td>VOL60</td>
<td>60日平均换手率</td>
<td>60日换手率的均值,单位为%</td>
</tr>
<tr>
<td>turnover_volatility</td>
<td>换手率相对波动率</td>
<td>取20个交易日个股换手率的标准差</td>
</tr>
<tr>
<td>VOL120</td>
<td>120日平均换手率</td>
<td>120日换手率的均值,单位为%</td>
</tr>
<tr>
<td>VROC6</td>
<td>6日量变动速率指标</td>
<td>成交量减N日前的成交量，再除以N日前的成交量，放大100倍，得到VROC值 ，n=6</td>
</tr>
<tr>
<td>TVSTD20</td>
<td>20日成交金额的标准差</td>
<td>20日成交额的标准差</td>
</tr>
<tr>
<td>ARBR</td>
<td>ARBR</td>
<td>因子 AR 与因子 BR 的差</td>
</tr>
<tr>
<td>money_flow_20</td>
<td>20日资金流量</td>
<td>用收盘价、最高价及最低价的均值乘以当日成交量即可得到该交易日的资金流量</td>
</tr>
<tr>
<td>VEMA5</td>
<td>成交量的5日指数移动平均</td>
<td></td>
</tr>
<tr>
<td>VOL240</td>
<td>240日平均换手率</td>
<td>240日换手率的均值,单位为%</td>
</tr>
<tr>
<td>VEMA26</td>
<td>成交量的26日指数移动平均</td>
<td></td>
</tr>
<tr>
<td>VOSC</td>
<td>成交量震荡</td>
<td>'VEMA12'和'VEMA26'两者的差值，再求差值与'VEMA12'的比，最后将比值放大100倍，得到VOSC值</td>
</tr>
<tr>
<td>TVSTD6</td>
<td>6日成交金额的标准差</td>
<td>6日成交额的标准差</td>
</tr>
</tbody>
</table>
<p><strong>风险因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>Variance20</td>
<td>20日年化收益方差</td>
<td>20日年化收益方差</td>
</tr>
<tr>
<td>Skewness20</td>
<td>个股收益的20日偏度</td>
<td>个股收益的20日偏度</td>
</tr>
<tr>
<td>Kurtosis20</td>
<td>个股收益的20日峰度</td>
<td>个股收益的20日峰度</td>
</tr>
<tr>
<td>sharpe_ratio_20</td>
<td>20日夏普比率</td>
<td>（Rp - Rf）/Sigma p 其中，Rp是个股的年化收益率，Rf是无风险利率（在这里设置为0.04），Sigma p是个股的收益波动率（标准差）</td>
</tr>
<tr>
<td>Variance60</td>
<td>60日年化收益方差</td>
<td>60日年化收益方差</td>
</tr>
<tr>
<td>Skewness60</td>
<td>个股收益的60日偏度</td>
<td>个股收益的60日偏度</td>
</tr>
<tr>
<td>Kurtosis60</td>
<td>个股收益的60日峰度</td>
<td>个股收益的60日峰度</td>
</tr>
<tr>
<td>sharpe_ratio_60</td>
<td>60日夏普比率</td>
<td>（Rp - Rf）/Sigma p 其中，Rp是个股的年化收益率，Rf是无风险利率（在这里设置为0.04），Sigma p是个股的收益波动率（标准差）</td>
</tr>
<tr>
<td>Variance120</td>
<td>120日年化收益方差</td>
<td>120日年化收益方差</td>
</tr>
<tr>
<td>Skewness120</td>
<td>个股收益的120日偏度</td>
<td>个股收益的120日偏度</td>
</tr>
<tr>
<td>Kurtosis120</td>
<td>个股收益的120日峰度</td>
<td>个股收益的120日峰度</td>
</tr>
<tr>
<td>sharpe_ratio_120</td>
<td>120日夏普比率</td>
<td>（Rp - Rf）/Sigma p 其中，Rp是个股的年化收益率，Rf是无风险利率（在这里设置为0.04），Sigma p是个股的收益波动率（标准差）</td>
</tr>
</tbody>
</table>
<p><strong>动量因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>arron_up_25</td>
<td>Aroon指标上轨</td>
<td>Aroon(上升)=[(计算期天数-最高价后的天数)/计算期天数]*100</td>
</tr>
<tr>
<td>arron_down_25</td>
<td>Aroon指标下轨</td>
<td>Aroon(下降)=[(计算期天数-最低价后的天数)/计算期天数]*100</td>
</tr>
<tr>
<td>BBIC</td>
<td>BBI 动量</td>
<td>BBI(3, 6, 12, 24) / 收盘价 （BBI 为常用技术指标类因子“多空均线”）</td>
</tr>
<tr>
<td>bear_power</td>
<td>空头力道</td>
<td>(最低价-EMA(close,13)) / close</td>
</tr>
<tr>
<td>BIAS5</td>
<td>5日乖离率</td>
<td>（收盘价-收盘价的N日简单平均）/ 收盘价的N日简单平均*100，在此n取5</td>
</tr>
<tr>
<td>BIAS10</td>
<td>10日乖离率</td>
<td>（收盘价-收盘价的N日简单平均）/ 收盘价的N日简单平均*100，在此n取10</td>
</tr>
<tr>
<td>BIAS20</td>
<td>20日乖离率</td>
<td>（收盘价-收盘价的N日简单平均）/ 收盘价的N日简单平均*100，在此n取20</td>
</tr>
<tr>
<td>BIAS60</td>
<td>60日乖离率</td>
<td>（收盘价-收盘价的N日简单平均）/ 收盘价的N日简单平均*100，在此n取60</td>
</tr>
<tr>
<td>bull_power</td>
<td>多头力道</td>
<td>(最高价-EMA(close,13)) / close</td>
</tr>
<tr>
<td>CCI10</td>
<td>10日顺势指标</td>
<td>CCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N)); TYP:=(HIGH+LOW+CLOSE)/3; N:=10</td>
</tr>
<tr>
<td>CCI15</td>
<td>15日顺势指标</td>
<td>CCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N)); TYP:=(HIGH+LOW+CLOSE)/3; N:=15</td>
</tr>
<tr>
<td>CCI20</td>
<td>20日顺势指标</td>
<td>CCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N)); TYP:=(HIGH+LOW+CLOSE)/3; N:=20</td>
</tr>
<tr>
<td>CCI88</td>
<td>88日顺势指标</td>
<td>CCI:=(TYP-MA(TYP,N))/(0.015*AVEDEV(TYP,N)); TYP:=(HIGH+LOW+CLOSE)/3; N:=88</td>
</tr>
<tr>
<td>CR20</td>
<td>CR指标</td>
<td>①中间价=1日前的最高价+最低价/2②上升值=今天的最高价-前一日的中间价（负值记0）③下跌值=前一日的中间价-今天的最低价（负值记0）④多方强度=20天的上升值的和，空方强度=20天的下跌值的和⑤CR=（多方强度÷空方强度）×100</td>
</tr>
<tr>
<td>fifty_two_week_close_rank</td>
<td>当前价格处于过去1年股价的位置</td>
<td>取过去的250个交易日各股的收盘价时间序列，每只股票按照从大到小排列，并找出当日所在的位置</td>
</tr>
<tr>
<td>MASS</td>
<td>梅斯线</td>
<td>MASS(N1=9, N2=25, M=6)</td>
</tr>
<tr>
<td>PLRC12</td>
<td>12日收盘价格与日期线性回归系数</td>
<td>计算 12 日收盘价格，与日期序号（1-12）的线性回归系数，(close / mean(close)) = beta * t + alpha</td>
</tr>
<tr>
<td>PLRC24</td>
<td>24日收盘价格与日期线性回归系数</td>
<td>计算 24 日收盘价格，与日期序号（1-24）的线性回归系数， (close / mean(close)) = beta * t + alpha</td>
</tr>
<tr>
<td>PLRC6</td>
<td>6日收盘价格与日期线性回归系数</td>
<td>计算 6 日收盘价格，与日期序号（1-6）的线性回归系数，(close / mean(close)) = beta * t + alpha</td>
</tr>
<tr>
<td>Price1M</td>
<td>当前股价除以过去一个月股价均值再减1</td>
<td>当日收盘价 / mean(过去一个月(21天)的收盘价) -1</td>
</tr>
<tr>
<td>Price3M</td>
<td>当前股价除以过去三个月股价均值再减1</td>
<td>当日收盘价 / mean(过去三个月(61天)的收盘价) -1</td>
</tr>
<tr>
<td>Price1Y</td>
<td>当前股价除以过去一年股价均值再减1</td>
<td>当日收盘价 / mean(过去一年(250天)的收盘价) -1</td>
</tr>
<tr>
<td>Rank1M</td>
<td>1减去 过去一个月收益率排名与股票总数的比值</td>
<td>1-(Rank(个股20日收益) / 股票总数)</td>
</tr>
<tr>
<td>ROC12</td>
<td>12日变动速率（Price Rate of Change）</td>
<td>①AX=今天的收盘价—12天前的收盘价②BX=12天前的收盘价③ROC=AX/BX*100</td>
</tr>
<tr>
<td>ROC120</td>
<td>120日变动速率（Price Rate of Change）</td>
<td>①AX=今天的收盘价—120天前的收盘价②BX=120天前的收盘价③ROC=AX/BX*100</td>
</tr>
<tr>
<td>ROC20</td>
<td>20日变动速率（Price Rate of Change）</td>
<td>①AX=今天的收盘价—20天前的收盘价②BX=20天前的收盘价③ROC=AX/BX*100</td>
</tr>
<tr>
<td>ROC6</td>
<td>6日变动速率（Price Rate of Change）</td>
<td>①AX=今天的收盘价—6天前的收盘价②BX=6天前的收盘价③ROC=AX/BX*100</td>
</tr>
<tr>
<td>ROC60</td>
<td>60日变动速率（Price Rate of Change）</td>
<td>①AX=今天的收盘价—60天前的收盘价②BX=60天前的收盘价③ROC=AX/BX*100</td>
</tr>
<tr>
<td>single_day_VPT</td>
<td>单日价量趋势</td>
<td>（今日收盘价 - 昨日收盘价）/ 昨日收盘价 * 当日成交量  # (复权方法为基于当日前复权)</td>
</tr>
<tr>
<td>single_day_VPT_12</td>
<td>单日价量趋势12均值</td>
<td>MA(single_day_VPT, 12)</td>
</tr>
<tr>
<td>single_day_VPT_6</td>
<td>单日价量趋势6日均值</td>
<td>MA(single_day_VPT, 6)</td>
</tr>
<tr>
<td>TRIX10</td>
<td>10日终极指标TRIX</td>
<td>MTR=收盘价的10日指数移动平均的10日指数移动平均的10日指数移动平均;TRIX=(MTR-1日前的MTR)/1日前的MTR*100</td>
</tr>
<tr>
<td>TRIX5</td>
<td>5日终极指标TRIX</td>
<td>MTR=收盘价的5日指数移动平均的10日指数移动平均的5日指数移动平均;TRIX=(MTR-1日前的MTR)/1日前的MTR*100</td>
</tr>
<tr>
<td>Volume1M</td>
<td>当前交易量相比过去1个月日均交易量 与过去过去20日日均收益率乘积</td>
<td>当日交易量 / 过去20日交易量MEAN * 过去20日收益率MEAN</td>
</tr>
</tbody>
</table>
<p><strong>技术因子</strong></p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>计算方法</th>
</tr>
</thead>
<tbody>
<tr>
<td>boll_down</td>
<td>下轨线（布林线）指标</td>
<td>(MA(CLOSE,M)-2*STD(CLOSE,M)) / 今日收盘价; M=20</td>
</tr>
<tr>
<td>boll_up</td>
<td>上轨线（布林线）指标</td>
<td>(MA(CLOSE,M)+2*STD(CLOSE,M)) / 今日收盘价; M=20</td>
</tr>
<tr>
<td>EMA5</td>
<td>5日指数移动均线</td>
<td>5日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>EMAC10</td>
<td>10日指数移动均线</td>
<td>10日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>EMAC12</td>
<td>12日指数移动均线</td>
<td>12日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>EMAC20</td>
<td>20日指数移动均线</td>
<td>20日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>EMAC26</td>
<td>26日指数移动均线</td>
<td>26日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>EMAC120</td>
<td>120日指数移动均线</td>
<td>120日指数移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MAC5</td>
<td>5日移动均线</td>
<td>5日移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MAC10</td>
<td>10日移动均线</td>
<td>10日移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MAC20</td>
<td>20日移动均线</td>
<td>20日移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MAC60</td>
<td>60日移动均线</td>
<td>60日移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MAC120</td>
<td>120日移动均线</td>
<td>120日移动均线 / 今日收盘价</td>
</tr>
<tr>
<td>MACDC</td>
<td>平滑异同移动平均线</td>
<td>MACD(SHORT=12, LONG=26, MID=9) / 今日收盘价</td>
</tr>
<tr>
<td>MFI14</td>
<td>资金流量指标</td>
<td>①求得典型价格（当日最高价，最低价和收盘价的均值）②根据典型价格高低判定正负向资金流（资金流=典型价格*成交量）③计算MR= 正向/负向 ④MFI=100-100/（1+MR）</td>
</tr>
</tbody>
</table>
<p><strong>风格因子</strong></p>
<p>进行了去极值和标准化的处理</p>
<table>
<thead>
<tr>
<th>因子 code</th>
<th>因子名称</th>
<th>简介</th>
</tr>
</thead>
<tbody>
<tr>
<td>size</td>
<td>市值</td>
<td>捕捉大盘股和小盘股之间的收益差异</td>
</tr>
<tr>
<td>beta</td>
<td>贝塔</td>
<td>表征股票相对于市场的波动敏感度</td>
</tr>
<tr>
<td>momentum</td>
<td>动量</td>
<td>描述了过去两年里相对强势的股票与弱势股票之间的差异</td>
</tr>
<tr>
<td>residual_volatility</td>
<td>残差波动率</td>
<td>解释了剥离了市场风险后的波动率高低产生的收益率差异</td>
</tr>
<tr>
<td>non_linear_size</td>
<td>非线性市值</td>
<td>描述了无法由规模因子解释的但与规模有关的收益差异，通常代表中盘股</td>
</tr>
<tr>
<td>book_to_price_ratio</td>
<td>账面市值比</td>
<td>描述了股票估值高低不同而产生的收益差异, 即价值因子</td>
</tr>
<tr>
<td>liquidity</td>
<td>流动性</td>
<td>解释了由股票相对的交易活跃度不同而产生的收益率差异</td>
</tr>
<tr>
<td>earnings_yield</td>
<td>盈利能力</td>
<td>描述了由盈利收益导致的收益差异</td>
</tr>
<tr>
<td>growth</td>
<td>成长</td>
<td>描述了对销售或盈利增长预期不同而产生的收益差异</td>
</tr>
<tr>
<td>leverage</td>
<td>杠杆</td>
<td>描述了高杠杆股票与低杠杆股票之间的收益差异</td>
</tr>
</tbody>
</table>
<p>除了上面的风格因子，在计算风格因子过程中的描述因子daily_standard_deviation、cumulative_range等也可以通过get_factor_values、get_all_factors以及get_factor_kanban_values获取；描述因子是原始值，没有进行数据处理。</p>
<h4 id="">风格因子计算说明</h4>
<ul>
<li><p>市值因子 size      </p>
<ul>
<li>定义：1•natural_log_of_market_cap  </li>
<li>解释<br><ul>
<li>对数市值 natural_log_of_market_cap：公司的总市值的自然对数。  </li></ul></li></ul></li>
<li><p>贝塔因子 beta</p>
<ul>
<li>定义：1•raw_beta  </li>
<li>解释<br><ul>
<li>raw_beta：CAPM 模型中的β，过去252个交易日股票的收益与市场收益（全A股票收益按流通市值加权）进行时间序列指数加权回归后的斜率系数。指数加权的半衰期为63个交易日。
停牌股票收益率为0，股票上市需超过21个交易日，否则beta为nan。</li></ul></li></ul></li>
<li><p>动量因子 momentum</p>
<ul>
<li>定义：1•relative_strength  </li>
<li>解释<br><ul>
<li>相对强弱 relative_strength：滞后21个交易日的过去504个交易日股票超额对数收益率的指数加权之和。其中指数权重半衰期为126个交易日。停牌股票收益率为0，上市之前收益率为nan。  </li></ul></li></ul></li>
<li><p>残差波动率因子 residual_volatility</p>
<ul>
<li>定义：0.74•daily_standard_deviation + 0.16•cumulative_range + 0.10•historical_sigma  </li>
<li>解释<br><ul>
<li>日收益率标准差 daily_standard_deviation：日标准差，过去252日的超额收益的指数加权标准差，以42个交易日为半衰期。</li>
<li>收益离差 cumulative_range：过去12个月中月收益率（以21个交易日为一个月）的最大值和最小值之间的差异。股票需上市需超过6个月，否则结果为nan。</li>
<li>残差历史波动率 historical_sigma：计算beta时的回归残差项的过去252个交易日的标准差。股票上市需超过21个交易日，否则结果为nan。  </li>
<li>用 daily_standard_deviation、cumulative_range、historical_sigma 加权求和得到的 residual_volatility，之后 关于 beta 和 size 因子做正交化以消除共线性。</li></ul></li></ul></li>
<li><p>非线性市值因子 non_linear_size</p>
<ul>
<li>定义：1•cube_of_size</li>
<li>解释<br><ul>
<li>市值立方因子 cube_of_size：首先对标准化后的市值因子size暴露值求立方，将得到的结果与市值进行加权回归的正交化处理。</li></ul></li></ul></li>
<li><p>账面市值比因子 book_to_price_ratio</p>
<ul>
<li>定义：book_to_price_ratio</li>
<li>解释<ul>
<li>最新一季财报的账面价值与当前市值的比值（pb_ratio的倒数）。其中小于0的值设置为nan。</li></ul></li></ul></li>
<li><p>流动性因子 liquidity</p>
<ul>
<li>定义：0.35•share_turnover_monthly + 0.35•average_share_turnover_quarterly + 0.3•average_share_turnover_annual</li>
<li>解释<br><ul>
<li>月换手率 share_turnover_monthly：股票一个月换手率，过去21日的股票换手率之和的对数。股票需上市超过1个月，否则结果为nan。</li>
<li>季度平均平均月换手率 average_share_turnover_quarterly：过去3个月平均换手率，计算过去3个月的平均share_turnover_monthly，并取对数。股票需上市超过3个月，否则结果为nan。</li>
<li>年度平均月换手率 average_share_turnover_annual：过去12个月平均换手率，计算过去12个月的平均share_turnover_monthly，并取对数。股票需上市超过12个月，否则结果为nan。</li>
<li>用 share_turnover_monthly、average_share_turnover_quarterly、average_share_turnover_annual 加权求和得到的 liquidity 关于对数市值做正交化以消除共线性。</li></ul></li></ul></li>
<li><p>盈利能力因子 earnings_yield</p>
<ul>
<li>定义：0.68•predicted_earnings_to_price_ratio + 0.21•cash_earnings_to_price_ratio + 0.11•earnings_to_price_ratio</li>
<li>解释<br><ul>
<li>预期利润市值比 predicted_earnings_to_price_ratio：用未来12个月的净利预测值除以当前市值。</li>
<li>现金流量市值比 cash_earnings_to_price_ratio：过去12个月的净经营现金流除以当前股票市值。</li>
<li>利润市值比 earnings_to_price_ratio：过去12个月的归母净利润除以当前股票市值。</li></ul></li></ul></li>
<li><p>成长因子 growth</p>
<ul>
<li>定义：0.18•long_term_predicted_earnings_growth + 0.11•short_term_predicted_earnings_growth + 0.24•earnings_growth + 0.47•sales_growth</li>
<li>解释<br><ul>
<li>预期长期盈利增长率 long_term_predicted_earnings_growth：未来三年净利润分析师一致预期相对于净利润(不含少数股东损益)最新年报值的平均增长率。一个分析师预测的股票值为nan。</li>
<li>预期短期盈利增长率 short_term_predicted_earnings_growth：未来一年净利润分析师一致预期相对于净利润(不含少数股东损益)最新年报值的平均增长率，只有一个分析师预测的股票值为nan。</li>
<li>5年盈利增长率 earnings_growth：盈利增长率，过去5年的基本每股收益（basic_eps）关于[0,1,2,3,4]回归的斜率系数，然后再除以过去 5 年基本每股收益的均值的绝对值。</li>
<li>5年营业收入增长率 sales_growth：营收增长率，过去 5 年每股营业收入关于[0,1,2,3,4]回归的斜率系数，然后再除以过去 5 年每股营业收入的均值的绝对值。对于保险行业的股票，使用“已赚保费”代替“销售收入”计算每股营业收入，对于银行业的股票，sales_growth为nan。</li>
<li>earnings_growth和sales_growth至少需要有4年的财务数据，否则为nan。</li></ul></li></ul></li>
<li><p>杠杆因子 leverage</p>
<ul>
<li>定义：0.38•market_leverage + 0.35•debt_to_assets + 0.27•book_leverage</li>
<li>解释<br><ul>
<li>市场杠杆 market_leverage：(当前的普通股市值+优先股账面价值+长期债务账面价值)/当前的普通股市值。</li>
<li>资产负债比 debt_to_assets：总负债的账面价值/总资产的账面价值。</li>
<li>账面杠杆 book_leverage：(普通股账面价値+优先股账面价值+长期债务账面价值)/普通股账面价值。账面杠杆需在0到100之间，否则结果为nan。</li></ul></li></ul></li>
</ul>
<h4 id="-1">风格因子数据处理说明</h4>
<p>对描述因子和风格因子的数据分别进行正规化的处理，步骤如下：</p>
<ul>
<li>对描述因子分别进行去极值和标准化<br>
去极值为将2.5倍标准差之外的值，赋值成2.5倍标准差的边界值<br>
标准化为市值加权标准化<br>
x=(x- mean(x))/(std(x))<br>
其中，均值的计算使用股票的市值加权，标准差为正常标准差。</li>
<li>对描述因子按照权重加权求和<br>
按照公式给出的权重对描述因子加权求和。如果某个因子的值为nan，则对不为nan的因子加权求和，同时权重重新归一化；如果所有因子都为nan，则结果为nan。</li>
<li>对风格因子市值加权标准化  </li>
<li>缺失值填充<br>
按照聚宽一级行业分行业，以不缺失的股票因子值相对于市值的对数进行回归，对缺失值进行填充</li>
<li>对风格因子去极值，去极值方法同上面去极值描述</li>
</ul>
<p><strong>行业因子</strong></p>
<p><a href="https://www.joinquant.com/help/api/help#factor_values:%E8%A1%8C%E4%B8%9A%E5%9B%A0%E5%AD%90">点击链接跳转了解<strong>行业因子</strong>详细内容</a></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>

</div>
</section>
<h3 id="ALPHA特色因子">ALPHA特色因子</h3>
<ul>
<li><strong>更新时间：2005至今，次日08:00更新</strong></li>
<li><strong>复权方式：动态前复权</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label>Alpha 101 因子<span id="Alpha 101 因子"></span> </label>
      <label>Alpha 101 因子</label>
      <article style="display: block; height: 779.578px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>因子来源：</strong>
根据 WorldQuant LLC 发表的论文 <a href="https://arxiv.org/ftp/arxiv/papers/1601/1601.00991.pdf"><em>101 Formulaic Alphas</em></a> 中给出的 101 个 Alphas 因子公式，我们将公式编写成了函数，并计算出自2005年以来的动态前复权因子值，方便大家使用。</p>
<p><strong>详细介绍：</strong>
函数计算公式、API 调用方法，输入输出值详情请见:<a href="https://www.joinquant.com/data/dict/alpha101">数据 - Alpha 101</a>.</p>
<p><strong>购买</strong>：用户如有需要使用Alpha101和Alpha191因子的，请联系我们的运营同事。<strong>个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong></p>
<p><strong>使用方法：</strong></p><pre><code class="python language-python hljs"><span class="hljs-comment"># 导入 Alpha101 库</span>
<span class="hljs-keyword">from</span> jqdatasdk.alpha101 <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># 获取沪深300成分股的 alpha_001 因子值</span>
a = alpha_001(<span class="hljs-string">'2019-11-19'</span>,<span class="hljs-string">'000300.XSHG'</span>)

<span class="hljs-comment"># 查看前5行的因子值</span>
print(a.head())
<span class="hljs-number">000001.</span>XSHE   <span class="hljs-number">-0.175115</span>
<span class="hljs-number">000002.</span>XSHE    <span class="hljs-number">0.174980</span>
<span class="hljs-number">000063.</span>XSHE   <span class="hljs-number">-0.323537</span>
<span class="hljs-number">000069.</span>XSHE    <span class="hljs-number">0.174980</span>
<span class="hljs-number">000100.</span>XSHE   <span class="hljs-number">-0.323537</span>
dtype: float64

<span class="hljs-comment"># 查看平安银行的因子值</span>
print(a[<span class="hljs-string">'000001.XSHE'</span>])
<span class="hljs-number">-0.17511459</span>

<span class="hljs-comment"># 获取所有股票 alpha_007 的因子值</span>
a = alpha_007(<span class="hljs-string">'2014-10-22'</span>)
</code></pre><p></p></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>





<div class="group">
      <label>Alpha 191 因子<span id="Alpha 191 因子"></span> </label>
      <label>Alpha 191 因子</label>
      <article style="display: block; height: 1068.64px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>因子来源：</strong>
根据国泰君安数量化专题研究报告 - <a href="http://vdisk.weibo.com/s/uEfe2futCdyJ9">基于短周期价量特征的多因子选股体系</a>给出了 191 个短周期交易型阿尔法因子。为了方便用户快速调用，我们将所有Alpha191因子基于股票的动态前复权价格做了完整的计算。</p>
<p><strong>详细介绍：</strong>
函数计算公式、API 调用方法，输入输出值详情请见:<a href="https://www.joinquant.com/data/dict/alpha191">数据 - Alpha 191</a>.</p>
<p><strong>使用方法（以Alpha001因子为例）：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入 Alpha191 库</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> alpha191

<span class="hljs-comment">#获取alpha001因子值</span>
alpha191.alpha_001(code, end_date=<span class="hljs-keyword">None</span>,fq=<span class="hljs-string">'pre'</span>)
</code></pre>
<p><strong>输入:</strong></p>
<ul>
<li><p>code：股票代码列表</p></li>
<li><p>end_date: 计算哪一天的因子 ,默认为None也就是最近一交易日的日期；数据类型为str或者datetime.date</p></li>
<li><p>fq: 复权选项:只支持 'pre', 动态前复权（所有Alpha191因子基于股票的动态复权价格已经做了完整的计算。）</p></li>
</ul>
<p><strong>输出:</strong></p>
<ul>
<li>输出一个 Series：index 为成分股代码，values 为对应的因子值</li>
<li>注意：当Alpha因子的返回结果为-999999999999或+999999999999时，代表该因子值的计算结果为负无穷或正无穷。在Excel中打开会显示成1E+12或1E-12.</li>
</ul>
<p><strong>因子公式:</strong></p>
<ul>
<li>(-1 * CORR(RANK(DELTA(LOG(VOLUME),1)),RANK(((CLOSE-OPEN)/OPEN)),6) </li>
</ul>
<p><strong>示例:</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment">#获取平安银行2019年4月24日按照动态前复权价格计算的Alpha002的因子值</span>
<span class="hljs-keyword">from</span> jqdatasdk <span class="hljs-keyword">import</span> alpha191
a = alpha191.alpha_002(<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'2019-04-24'</span>)
a

<span class="hljs-number">000001.</span>XSHE   <span class="hljs-number">-0.403162</span>
Name: <span class="hljs-number">2019</span><span class="hljs-number">-04</span><span class="hljs-number">-24</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>, dtype: float64
</code></pre></article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>



</div>
</section>
<h3 id="技术分析指标">技术分析指标</h3>
<ul>
<li><strong>复权方式：持设置复权基准日（fq_ref_date 参数）, 实时计算</strong>
<span id="alg_frame"></span></li>
</ul>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label>技术指标<span id="技术指标"></span> </label>
      <label>技术分析指标</label>
      <article style="display: block; height: 1261.79px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><p><strong>详细介绍：</strong>函数计算公式、API 调用方法，用法注释， 输入输出值详情请见:<a href="https://www.joinquant.com/help/api/help#name:technicalanalysis">数据 - 技术分析指标</a>.</p>
<p><strong>购买</strong>：用户如有需要使用技术指标因子的，请联系我们的运营同事。<strong>个人用户咨询【邮箱：sunping@joinquant.com】，机构服务咨询添加微信号JQData02</strong></p>
<p><strong>示例：</strong></p>
<pre><code class="python language-python hljs"><span class="hljs-comment"># 导入技术分析指标库</span>
<span class="hljs-keyword">from</span> jqdatasdk.technical_analysis <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># 定义股票池列表</span>
security_list1 = <span class="hljs-string">'000001.XSHE'</span>
security_list2 = [<span class="hljs-string">'000001.XSHE'</span>,<span class="hljs-string">'000002.XSHE'</span>,<span class="hljs-string">'601211.XSHG'</span>,<span class="hljs-string">'603177.XSHG'</span>]


<span class="hljs-comment"># 计算并输出 security_list1 的 GDX 值，分别返回：济安线、压力线和支撑线的值。</span>
gdx_jax, gdx_ylx, gdx_zcx = GDX(security_list1,check_date=<span class="hljs-string">'2017-01-04'</span>, N = <span class="hljs-number">30</span>, M = <span class="hljs-number">9</span>,fq_ref_date=<span class="hljs-keyword">None</span>)
<span class="hljs-keyword">print</span> (gdx_jax[security_list1])
<span class="hljs-keyword">print</span> (gdx_ylx[security_list1])
<span class="hljs-keyword">print</span> (gdx_zcx[security_list1])

<span class="hljs-comment"># 输出 security_list2 的 GDX 值</span>
gdx_jax, gdx_ylx, gdx_zcx = GDX(security_list2,check_date=<span class="hljs-string">'2017-01-04'</span>, N = <span class="hljs-number">30</span>, M = <span class="hljs-number">9</span>,fq_ref_date=<span class="hljs-string">'2017-01-04'</span>)
<span class="hljs-keyword">for</span> stock <span class="hljs-keyword">in</span> security_list2:
    <span class="hljs-keyword">print</span> (gdx_jax[stock])
    <span class="hljs-keyword">print</span> (gdx_ylx[stock])
    <span class="hljs-keyword">print</span> (gdx_zcx[stock])

<span class="hljs-comment"># 查询函数说明</span>
<span class="hljs-meta">&gt;&gt;&gt; </span>GDX?
Signature: GDX(security_list, check_date, N=<span class="hljs-number">30</span>, M=<span class="hljs-number">9</span>)
Docstring:
 计算公式：
    AA:=ABS((<span class="hljs-number">2</span>*CLOSE+HIGH+LOW)/<span class="hljs-number">4</span>-MA(CLOSE,N))/MA(CLOSE,N); 
    JAX:DMA(CLOSE,AA);
    压力线:(<span class="hljs-number">1</span>+M/<span class="hljs-number">100</span>)*JAX; 
    支撑线:(<span class="hljs-number">1</span>-M/<span class="hljs-number">100</span>)*JAX; 
    AA赋值:(<span class="hljs-number">2</span>*收盘价+最高价+最低价)/<span class="hljs-number">4</span>-收盘价的N日简单移动平均的绝对值/收盘价的N日简单移动平均
    输出济安线 = 以AA为权重收盘价的动态移动平均
    输出压力线 = (<span class="hljs-number">1</span>+M/<span class="hljs-number">100</span>)*JAX
    输出支撑线 = (<span class="hljs-number">1</span>-M/<span class="hljs-number">100</span>)*JAX
输入：
    security_list:股票列表
    check_date：要查询数据的日期
    N：统计的天数 N
    M：统计的天数 M
输出：
    济安线、压力线和支撑线的值。
输出结果类型：
    字典(dict)：键(key)为股票代码，值(value)为数据。
</code></pre></article>

    <span class="glyphicon glyphicon-triangle-top"></span></div>


</div>
</section>
<h3 id="因子看板及风格因子等（新）">因子看板及风格因子等（新）</h3>
<p>提供因子看板及风格因子归因数据</p>
<h4 id="因子看板数据">因子看板数据</h4>
<ul>
<li><strong>更新时间：2005至今，9:00更新前一交易日</strong></li>
<li><p>点击跳转<a href="https://www.joinquant.com/view/factorlib/list">因子看板</a>
<span id="alg_frame"></span>
</p><section></section></li>
</ul>
<div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<p></p><div class="body"><p></p>
<div class="group">
      <label><span id="⭐ get_factor_kanban_values"></span>get_factor_kanban_values</label>
      <label>获取因子看板列表数据</label>
      <article><pre><code class="python language-python">get_factor_kanban_values(universe='hs300',bt_cycle='month_3',model='long_only',category=['quality','basics','emotion','growth','risk','pershare'],skip_paused=False,commision_slippage=0)
</code></pre>


**参数**

- universe：股票池
    - 'hs300': 沪深300
    - 'zz500': 中证500
    - 'zz800': 中证800
- bt_cycle：测试周期
    - 'month_3'：近三个月
    - 'year_1'：近一年
    - year_3'：近三年
    - year_10'：近十年
- model：组合构建模型
    - 'long_only'：纯多头组合
    - 'long_short'：多空组合
- category：分类，具体见[聚宽因子库](https://www.joinquant.com/help/api/help#name:factor_values)
    - 'quality': 质量类
    - 'basics': 基础类
    - 'emotion': 情绪类
    - 'growth': 成长类
    - 'risk': 风险类
    - 'pershare': 每股类
    - 'style': 风险因子 - 风格因子
    - 'technical': 技术类
    - 'momentum': 动量类
- skip_paused: 过滤涨停及停牌股
    - False: 否
    - True: 是
- commision_slippage: 手续费及滑点
    - 0: 无
    - 1: 3‱佣金+1‰印花税+无滑点
    - 2: 3‱佣金+1‰印花税+1‰滑点

**返回**

pandas.DataFrame 针对 [model - 组合构建模型]选择的不同，返回的结构有所差异

一、long_only - 纯多头组合

- index：自然增长的数字，从0开始，无意义
- column：
    - date：数据的更新日期，因子的收益需要下一交易日才可得到 ,因此实际数据的时间比date晚一天(T日收盘后的因子收益需要T+1的收盘价才可得出，数据需要在T+2日凌晨3点计算之后才可得到)
    - universe: 股票池
    - bt_cycle: 测试周期
    - skip_paused: 过滤涨停及停牌股
    - commision_slippage: 手续费及滑点
    - category: 因子分类
    - code：因子代码
    - compound_return_1q：一分位数累积收益
    - compound_return_5q：五分位数累积收益
    - annualized_return_1q：一分位数年化收益率
    - annualized_return_5q：五分位数年化收益率
    - max_drawdown_1q：一分位数最大回撤
    - max_drawdown_5q：五分位数最大回撤
    - sharpe_1q：一分位数夏普比率
    - sharpe_5q：五分位数夏普比率
    - turnover_ratio_1q：一分位数换手率
    - turnover_ratio_5q：五分位数换手率
    - annual_return_bm：基准指数年化收益率
    - ic_mean：IC均值
    - ir：IR值
    - good_ic：IC绝对值大于0.02的比率

二、long_short - 多空组合

- index：自然增长的数字，从0开始，无意义
- column：
    - date：数据的更新日期，因子的收益需要下一交易日才可得到 ,因此实际数据的时间比date晚一天(T日收盘后的因子收益需要T+1的收盘价才可得出，数据需要在T+2日凌晨3点计算之后才可得到)
    - universe: 股票池
    - bt_cycle: 测试周期
    - skip_paused: 过滤涨停及停牌股
    - commision_slippage: 手续费及滑点
    - category: 因子分类
    - code：因子代码
    - compound_return_ls：累积收益
    - annualized_return_ls：年化收益率
    - max_drawdown_ls：最大回撤
    - sharpe_ls：夏普比率
    - turnover_ratio_ls：换手率
    - annual_return_bm：基准指数年化收益率
    - ic_mean：IC均值
    - ir：IR值
    - good_ic：IC绝对值大于0.02的比率

**示例:**<pre><code class="python language-python">from jqdatasdk import *
df = get_factor_kanban_values(universe='hs300',bt_cycle='month_3',model='long_only',category=['quality','basics','emotion','growth','risk','pershare'],skip_paused=False,commision_slippage=0)
print(df.head(5))

&gt;&gt;&gt;         date category    ...           ir   good_ic
0 2022-09-22   basics    ...    -0.174076  0.952381
1 2022-09-22   basics    ...    -0.114981  0.873016
2 2022-09-22   basics    ...    -0.052311  0.841270
3 2022-09-22   basics    ...    -0.041307  0.841270
4 2022-09-22   basics    ...    -0.015338  0.841270

[5 rows x 21 columns]
</code></pre>

      </article>
    </div>
<div class="group">
      <label><span id="get_factor_stats"></span>get_factor_stats</label>
      <label>获取因子看板分位数历史收益率</label>
      <article><pre><code class="python language-python">get_factor_stats(factor_names=None, universe_type='hs300',
                     start_date=None, end_date=None, count=None,
                     skip_paused=False, commision_fee=0.0)
</code></pre>
**参数：**
- factor_names : 因子名称，单个因子（字符串）或一个因子列表，支持的因子见[聚宽因子库](https://www.joinquant.com/help/api/help#name:factor_values)
- universe_type : 股票池包括以下五种：
                                        'hs300': 沪深300
                                        'zz500': 中证500
                                        'zz800': 中证800
                                        'zz1000': 中证1000
                                        'zzqz': 中证全指
                        默认为'hs300'
- start_date : 开始日期，字符串或 datetime 对象
- end_date : 结束日期，字符串或 datetime 对象，可以与 start_date 或 count 配合使用
- count: 截止 end_date 之前交易日的数量（含 end_date 当日）
- skip_paused : 是否跳过停牌，bool，默认为False
- commision_fee : 手续费，float，0.0/0.0008/0.0018, 默认为0.0

**返回：**
- 一个 dict，其中 key 是因子名称，value 是一个 pandas.DataFrame
- DataFrame 的 index 是日期，column 1,2,3,4,5是一分位、二分位、三分位、四分位、五分位累积收益

**示例：**   <pre><code class="python language-python">from jqdatasdk import *
data = get_factor_stats(factor_names=['PEG','VSTD20'] , end_date ='2022-09-20',count=5  )
print(data['PEG'])
&gt;&gt;&gt; {'PEG':                    1         2         3         4         5
 2022-09-14  3.070544  2.847542  2.390142  1.978835  1.331841
 2022-09-15  2.994605  2.796805  2.310998  1.938225  1.309742
 2022-09-16  2.999703  2.814595  2.308664  1.940463  1.307399
 2022-09-19  3.015146  2.813510  2.310971  1.942719  1.310100
 2022-09-20  3.010017  2.810997  2.294774  1.920928  1.298267,
 'VSTD20':                    1         2         3         4         5
 2022-09-14  3.963227  2.854103  2.774518  2.034258  1.146730
 2022-09-15  3.885976  2.795398  2.719512  1.977875  1.112380
 2022-09-16  3.885621  2.785908  2.721697  1.985330  1.110787
 2022-09-19  3.886508  2.801825  2.710205  1.986811  1.112331
 2022-09-20  3.853822  2.763628  2.694442  1.985192  1.112072}
</code></pre>
      </article>
    </div>
<h4 id="风格因子归因">风格因子归因</h4>
<ul>
<li><strong>更新时间：2005至今，9:00更新前一交易日</strong></li>
</ul>
<p><span id="alg_frame"></span>
</p><section>
  
<div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body"><p></p>
<div class="group">
      <label><span id="⭐ get_factor_style_returns"></span>get_factor_style_returns</label>
      <label>获取风格因子暴露收益率</label>
      <article style="display: block; height: 526.734px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python">get_factor_style_returns(factors=None, start_date=None,
                             end_date=None, count=None,
                             universe=None, industry='sw_l1')
</code></pre>

**参数：**
- factors : 因子名称，单个因子（字符串）或一个因子列表,支持[风格因子](https://www.joinquant.com/help/api/help#factor_values:%E9%A3%8E%E6%A0%BC%E5%9B%A0%E5%AD%90)如"size"及申万/聚宽一级行业如 "801010"和"HY001"
- start_date : 开始日期，字符串或 datetime 对象
- end_date : 结束日期，字符串或 datetime 对象，可以与 start_date 或 count 配合使用
- count: 截止 end_date 之前交易日的数量（含 end_date 当日）
- universe : 市场范围,默认为None代表全市场, 可选 : 'hs300': 沪深300 ; 'zz500': 中证500'; zz800': 中证800; 'zz1000':中证1000; 'zzqz':中证全指
- industry : 行业选取,默认为'sw_l1', 可选 : 'sw_l1':申万一级,'jq_l1':聚宽一级

**返回：**
        一个 DataFrame, index 是日期, columns为因子名, 值为因子暴露收益率

**示例：**<pre><code class="python language-python">from jqdatasdk import *
df = get_factor_style_returns(['size','beta','momentum' ] , end_date='2022-09-01',count=2)
print(df)
&gt;&gt;&gt;            momentum      size      beta
2022-08-31 -0.006386  0.005105 -0.004319
2022-09-01  0.001502 -0.002413 -0.002344
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<div class="group">
      <label><span id="get_factor_specific_returns"></span>get_factor_specific_returns</label>
      <label>获取个股特质收益率(无法被风格因子解释的收益)</label>
      <article style="display: block; height: 447.391px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;"><pre><code class="python language-python">get_factor_specific_returns(security, start_date=None, end_date=None, count=None)
</code></pre>

**参数:**
- security : 股票代码, 或者股票代码组成的list
- start_date : 开始日期，字符串或 datetime 对象
- end_date : 结束日期，字符串或 datetime 对象，可以与 start_date 或 count 配合使用
- count: 截止 end_date 之前交易日的数量（含 end_date 当日）

**返回:**
- 个股被风格因子无法解释的那部分收益，即特质收益率

**示例：**<pre><code class="python language-python">from jqdatasdk import *
df = get_factor_specific_returns(['000001.XSHE','600000.XSHG'],end_date='2022-09-01',count=5)
print(df)
&gt;&gt;&gt;            000001.XSHE  600000.XSHG
2022-08-26     0.005917     0.004784
2022-08-29    -0.006386    -0.004693
2022-08-30    -0.001301    -0.004310
2022-08-31     0.004911    -0.012619
2022-09-01    -0.003611    -0.001511
</code></pre>
      </article>
    <span class="glyphicon glyphicon-triangle-top"></span></div>
<h2 id="活动专区">活动专区</h2>
<p><span id="alg_frame"></span></p>
<section>
  <div class="header">
    <label>方法</label>
    <label>描述</label>
  </div>
<div class="body">
<div class="group">
      <label><span id="师生活动"></span>师生活动</label>
      <label>师生活动</label>
      <article style="display: block; height: 375.789px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;">

随着云计算、区块链等新兴技术在金融行业的深入应用，科技对于金融的促进作用被不断强化，创新型的金融解决方案层出不穷，金融科技发展进入新阶段。社会对金融与计算机的复合背景人才需求越来越大。在此背景下，为探讨金融科技行业人才需求趋势、人才培养与实践教学方法，聚宽JQData推出师生活动，助力在校师生在量化方面方面进行更多有效的探索。用最专业的产品支持量化高校教育，助力学生们步步进阶。

<img src="./JQData使用说明 - JoinQuant_files/e580aac5e03eb204bddd205d8eadaf12" width="100%">

活动说明
- 参与方式：高校老师可根据教学安排联系聚宽运营。师生获得高校专属的校园账号
- 金融数据类型包括：中国A股、指数、财务、宏观数据
- 账号试用期：6个月
- 账号有效期内：每日可获取100万条的金融数据
- 账号可获取的时间范围：2005年至今


    </article><span class="glyphicon glyphicon-triangle-top"></span></div>


<div class="group">
      <label><span id="论文支持活动"></span>论文支持活动</label>
      <label>论文支持活动</label>
      <article style="display: block; height: 299.008px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;">
为帮助学生更好投入量化论文课题，聚宽JQData聚焦学生数据需求并提供数据支持，解决学生写论文时花费大量精力找数据、清洗数据的难题。


<img src="./JQData使用说明 - JoinQuant_files/56d71fa7b4bd6a0145d3f13282ccb587" width="100%">

活动细则
- 金融数据类型包括：中国A股、指数、财务、宏观数据
- 账号试用期：6个月
- 账号有效期内：每日可获取100万条的金融数据
- 账号可获取的时间范围：2005年至今


    </article><span class="glyphicon glyphicon-triangle-top"></span></div>

<div class="group">
      <label><span id="试用账号延期活动"></span>试用账号延期活动</label>
      <label>试用账号延期活动</label>
      <article style="display: block; height: 1222.91px; padding-top: 10px; margin-top: 0px; padding-bottom: 10px; margin-bottom: 0px;">
### 试用账号延期活动

为了满足JQData用户们长期投研需求，我们特意为以此推出下述【重磅福利活动】。
`活动规则：以下每个活动只可参与一次，不可重复参与。活动期限不可以叠加，3个月期限到期后，如果需要继续参与，可填写表单：http://jqdatasdk.mikecrm.com/V2dqm0Y`
注意：
- ①参与**文章撰写活动**，需联系JQData运营审核。运营微信：15815705123
- ②试用账号延期权限为[最新的试用账号权限]("https://www.joinquant.com/help/api/doc?name=logon&amp;id=9830&amp;keyword=%u591A%u8FDB%u7A0B")
- ③参与活动的截图时间不能与提交表单的时间相差过久

## 
*************************************************************
#### **活动内容**
####【朋友圈转发活动】
**活动主题**：朋友圈转发推文 [点击查看推文并转发](https://www.joinquant.com/view/community/detail/2ce1b76f4c25c33d675d8d9cad866cab?type=1)
- 朋友圈文案内容：量化不得不知道的数据服务JQData；
- 次数：**仅限转载一次**
- 延期或流量奖励：有效期3个月，每天10万数据流量
*************************************************************
####【B站回复活动】
&gt;活动细则：在B站与量化相关视频的评论区回复推荐聚宽
数量：一次
转载或流量奖励：有效期3个月，每天50万数据流量


*************************************************************

####【知乎推荐活动】
**活动主题**：回复活动
- 活动内容：在**知乎**等相关提问中，回复聚宽的优势
- 数量：**一个**
- 转载或流量奖励：有效期3个月，每天25万-50万数据流量
- 活动细则：相关提问参考【如何获取金融数据】、【量化平台推荐】【量化投资者是如何获取实时行情数据的】等
*************************************************************
####【文章撰写活动】
**活动内容**：在 聚宽官网社区撰写 JQData（本地数据）强相关的文章，参考下方精品贴
- 数量：**一篇**
- 转载或流量奖励：有效期3个月，每天200万-300万条流量
- 参与文章活动，需联系JQData运营审核。运营微信：15815705123




**`活动解释权归聚宽所有`**
*************************************************************
####▽ JQData 精品文章集合!! ▽####
[JQData应用 | 基于估值波动周期的择时策略   —   by  夏鲁迅](https://www.joinquant.com/view/community/detail/3d0d3562e94143b8b34c2f942d5e59fe)

[JQData应用 | A股行业投资指南——好的投资，首先是选好行业   —   by  夏鲁迅](https://www.joinquant.com/view/community/detail/dc8851bd832a2cb2372992db0d06b664)

[JQData应用 | A股投资指南-单因子选股的有效性验证   —   by  陈鹏](https://www.joinquant.com/view/community/detail/7ebe3adf478ce360f6e96dd09d240bc4?type=1)

[JQData   Monte Carlo = 有效前沿及投资组合优化  —  by  Supercritical](https://www.joinquant.com/community/post/detailMobile?postId=15331&amp;page=&amp;limit=20&amp;replyId=&amp;tag=)

[JQData | 十年一瞬 · 量化分析股市涨跌周期规律(日内)  —  by  薛定谔の喵](https://www.joinquant.com/view/community/detail/781e477fbbb05dd6953f5e535e4b7861)

[JQData | 股市估值分析，带你穿越资本市场迷雾  —  by  tom王小昭](https://www.joinquant.com/view/community/detail/9e0c400b057e246bdca2db2d54b85941)

[基于Keras深度学习LSTM模型 预测黄金主力收盘价   —   by  HeartBearting](https://www.joinquant.com/view/community/detail/2e996d21c95a409ba23a651085ab9f61)

[深度学习模型 CNN LSTM 预测收盘价   —   by  HeartBearting](https://www.joinquant.com/community/post/detailMobile?postId=15443&amp;page=&amp;limit=20&amp;replyId=&amp;tag=)

[Keras框架 深度学习模型CNN LSTM Attention机制 预测黄金主力收盘价   —   by  HeartBearting](https://www.joinquant.com/community/post/detailMobile?postId=15466&amp;page=&amp;limit=20&amp;replyId=&amp;tag=algorithm)

[强化学习入门：基于Q-learning算法的日内择时策略初窥   —   by  。大咖](https://www.joinquant.com/community/post/detailMobile?postId=15441&amp;page=&amp;limit=20&amp;replyId=&amp;tag=)

[使用jqdatasdk探究“裁员”的情况   —   by  丁智](https://www.joinquant.com/view/community/detail/5b69c06bd3a5a2d536512bd5c3f5fd22)

[深度学习和缠论应用，JQData应用   —   by  hprotein](https://www.joinquant.com/view/community/detail/1b733f9f81b32d650d89b0ed26c17313?type=1)

[结合jqdata数据源的基于滤波降噪和LSTM期货量化研究   —   by Timpage](https://www.joinquant.com/view/community/detail/25917)

[使用fbprofhet对CF期货价格的预测   —   by 蜗牛往上爬](https://www.joinquant.com/view/community/detail/ae835141dc4c36a7c0d67cb1c435b2b8)
`（快来挑战他们）`
</article><span class="glyphicon glyphicon-triangle-top"></span></div>
</div></section></div></section></div></div> </div> </div> <script type="text/template" id="treeTemp"> <li class="am-tree-branch am-hide" data-template="treebranch" role="treeitem" aria-expanded="false">
    <div class="am-tree-branch-header">
      <button class="am-tree-icon am-tree-icon-caret am-icon-caret-right"><span class="am-sr-only">Open</span></button>
      <button class="am-tree-branch-name">
        <span class="am-tree-icon am-tree-icon-folder"></span>
        <span class="am-tree-label"></span>
      </button>
    </div>
    <ul class="am-tree-branch-children" role="group"></ul>
    <div class="am-tree-loader" role="alert"><span class="doc-loading"></span></div>
  </li>
  <li class="am-tree-item am-hide" data-template="treeitem" role="treeitem">
    <button class="am-tree-item-name">
      <span class="am-tree-icon am-tree-icon-item"></span>
      <span class="am-tree-label"></span>
    </button>
  </li> </script></div> <div id="leftsead" class="jq-leftsead" draggable="true"> <ul><li class="qiyukf__entry backtotop-popover "> <div class="popover-content" style="width:85px;margin-left:-95px;margin-top:5px">在线客服</div> </li> <li class="backtotop__progress hidden"> <span class="backtotop__progress-count hidden"></span> <div class="backtotop__record-container hidden"></div> </li> <li class="newUser backtotop__newUser hidden backtotop__scroll"> <a href="https://www.joinquant.com/post/24debe6786302edc2febfc09b1312a6c" target="_blank"></a> </li> <li class="toTop backtotop__toTop hidden backtotop__scroll" id="top_btn"></li> </ul> <input type="hidden" class="timeStamp" value="17052906780001711691737976"> <input type="hidden" class="js-cdn-path" value="https://cdn.joinquant.com"> </div> <script type="text/javascript" async="" src="./JQData使用说明 - JoinQuant_files/h.js"></script><script type="text/javascript" async="" src="./JQData使用说明 - JoinQuant_files/vds.js"></script><script src="./JQData使用说明 - JoinQuant_files/vendor.js"></script> <script>window.tokenData={name:"token",value:"9f8413f16667ed916fda8fdc47a9be7cd8a91dad818e59643077e0f37ce4ae671c874b759cb2e6640582cbdd6dcc0591"},$.ajaxSetup({data:{token:window.tokenData.value}})</script> <script src="./JQData使用说明 - JoinQuant_files/jq-plugin.js"></script> <script src="./JQData使用说明 - JoinQuant_files/login-dialog.bundle.js"></script> <script src="./JQData使用说明 - JoinQuant_files/message.bundle.js"></script> <script src="./JQData使用说明 - JoinQuant_files/wechat-share.bundle.js"></script> <input type="hidden" id="valid-code__token"><script src="./JQData使用说明 - JoinQuant_files/include.bundle.js"></script> <script src="./JQData使用说明 - JoinQuant_files/gio-config.bundle.js"></script> <script src="./JQData使用说明 - JoinQuant_files/baidu-tongji.bundle.js"></script> <script src="./JQData使用说明 - JoinQuant_files/backtotop.bundle.js"></script> <script>!function(c,e,d,n,t){c[d]=c[d]||function(){(c[d].a=c[d].a||[]).push(arguments)},(t=e.createElement("script")).async=!0,t.src="https://qiyukf.com/script/d65beefd7552d92ee02344b3cc6173de.js",e.body.appendChild(t)}(window,document,"ysf")</script><script async="" src="./JQData使用说明 - JoinQuant_files/d65beefd7552d92ee02344b3cc6173de.js"></script> <script charset="UTF-8" src="./JQData使用说明 - JoinQuant_files/MathJax.js"></script> <script charset="UTF-8" src="./JQData使用说明 - JoinQuant_files/help.bundle.js"></script> <script charset="UTF-8">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}})</script>   <div style="top: 0px; left: 0px; visibility: hidden; position: absolute; width: 1px; height: 1px;"><iframe style="height:0px; width:0px;" src="./JQData使用说明 - JoinQuant_files/delegate.html"></iframe></div><div id="YSF-BTN-HOLDER" style="display: none;"><div id="YSF-CUSTOM-ENTRY-0" class="YSF-CUSTOM-ENTRY"><img src="./JQData使用说明 - JoinQuant_files/463a7f7a19b9c07a71b61506233233d7.jpg"></div><span id="YSF-BTN-CIRCLE"></span><div id="YSF-BTN-BUBBLE"><div id="YSF-BTN-CONTENT"></div><span id="YSF-BTN-ARROW"></span><span id="YSF-BTN-CLOSE"></span></div></div></body></html>